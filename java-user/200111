From lucene-user-return-180-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Nov 01 12:35:47 2001
Return-Path: <lucene-user-return-180-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 80398 invoked from network); 1 Nov 2001 12:35:46 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 1 Nov 2001 12:35:46 -0000
Received: (qmail 6397 invoked from network); 1 Nov 2001 12:37:57 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 1 Nov 2001 12:37:57 -0000
Received: (qmail 14453 invoked by uid 97); 1 Nov 2001 12:35:43 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 14436 invoked by uid 97); 1 Nov 2001 12:35:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 14425 invoked from network); 1 Nov 2001 12:35:42 -0000
Message-ID: <FABBF873F68ED311BB35009027D390723E2E96@DARTH_BOBO>
From: Scott Ganyo <scott.ganyo@eTapestry.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Brackets in query syntax?
Date: Thu, 1 Nov 2001 07:38:59 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C162D2.2E0E5530"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C162D2.2E0E5530
Content-Type: text/plain;
	charset="iso-8859-1"

[ and ] are used for RangeQuery.  They indicate an inclusive range.  For
example: "name:[adam-scott]"

> -----Original Message-----
> From: Paul Friedman [mailto:pfriedman@macromedia.com]
> Sent: Wednesday, October 31, 2001 2:03 PM
> To: 'lucene-user@jakarta.apache.org'
> Subject: Brackets in query syntax?
> 
> 
> Are brackets, [ and ], legal in a query?  
> If so, do they have some special meaning?
> If not, are there other "illegal" characters as well?
> 
> Parsing the query syntax, "[]", causes the following error:
> 
> Lexical error at line 1, column 3.  Encountered: <EOF> after : "[]"
> org.apache.lucene.queryParser.TokenMgrError: Lexical error at 
> line 1, column
> 3.  Encountered: <EOF> after : "[]"
> 	at
> org.apache.lucene.queryParser.QueryParserTokenManager.getNextT
> oken(Unknown
> Source)
> 	at 
> org.apache.lucene.queryParser.QueryParser.jj_ntk(Unknown Source)
> 	at org.apache.lucene.queryParser.QueryParser.Modifiers(Unknown
> Source)
> 	at 
> org.apache.lucene.queryParser.QueryParser.Query(Unknown Source)
> 	at 
> org.apache.lucene.queryParser.QueryParser.parse(Unknown Source)
> 	at 
> org.apache.lucene.queryParser.QueryParser.parse(Unknown Source)
> 
> I am using QueryParser and the StandardAnalyzer to parse the 
> query string.
> 
> Any help would be appreciate.
> Paul
> 
> --
> To unsubscribe, e-mail:   
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>

------_=_NextPart_001_01C162D2.2E0E5530--

From lucene-user-return-181-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Nov 01 12:37:17 2001
Return-Path: <lucene-user-return-181-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 81154 invoked from network); 1 Nov 2001 12:37:17 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 1 Nov 2001 12:37:17 -0000
Received: (qmail 7306 invoked from network); 1 Nov 2001 12:39:29 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 1 Nov 2001 12:39:29 -0000
Received: (qmail 17394 invoked by uid 97); 1 Nov 2001 12:37:01 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 17307 invoked by uid 97); 1 Nov 2001 12:36:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17245 invoked from network); 1 Nov 2001 12:36:58 -0000
Message-ID: <FABBF873F68ED311BB35009027D390723E2E97@DARTH_BOBO>
From: Scott Ganyo <scott.ganyo@eTapestry.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Problems with prohibited BooleanQueries
Date: Thu, 1 Nov 2001 07:40:25 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C162D2.615CCB10"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C162D2.615CCB10
Content-Type: text/plain;
	charset="iso-8859-1"

How difficult would it be to get BooleanQuery to do a standalone NOT, do you
suppose?  That would be very useful in my case.

Scott

> -----Original Message-----
> From: Doug Cutting [mailto:DCutting@grandcentral.com]
> Sent: Wednesday, October 31, 2001 2:36 PM
> To: 'Lucene Users List'
> Subject: RE: Problems with prohibited BooleanQueries
> 
> 
> Lucene does not implement a standalone "NOT" query.  
> (Probably BooleanQuery
> should throw an exception if all clauses are prohibited 
> clauses.)  Negation
> is only implemented with respect to other non-negated clauses.
> 
> So you cannot directly model your query tree as a Lucene 
> query tree.  NOT
> nodes must be incorporated into their parent, a BooleanQuery 
> node, as is
> done in your "directly" case.
> 
> Doug
> 
> > -----Original Message-----
> > From: Anders Nielsen [mailto:anders@visator.dk]
> > Sent: Wednesday, October 31, 2001 10:36 AM
> > To: Lucene Users List
> > Subject: Problems with prohibited BooleanQueries
> > 
> > 
> > Hello,
> > 
> > I have some trouble understanding the semantics of the 
> > BooleanQuery with
> > regards to prohibited clause.
> > 
> > 
> > the method I am using is this:
> > 
> > public final void add(Query query, boolean required, boolean 
> > prohibited)
> > 
> > in the class BooleanQuery.
> > 
> > 
> > I am not using the QueryParser, but instead I build my own 
> > queries from a
> > Tree of search-strings with boolean operators NOT, AND and OR
> > 
> > so a tree might look like this
> > 
> > 	 AND
> > 	/   \
> >     "A"   NOT
> >            |
> >           "B"
> > 
> > and that would mean "documents containing A, but not B". (If 
> > the AND was an
> > OR, the NOT branch would be culled)
> > 
> > 
> > Now my problem is this, when I make a BooleanQuery containing only a
> > prohibited TermQuery and I add that to another BooleanQuery 
> > as a required
> > query, I always get 0 results.
> > 
> > 
> > here's an example of my code:
> > ---------------------------
> >         Term term1 = new Term("name", "jensen");
> >         Term term2 = new Term("name", "barfod");
> > 
> >         BooleanQuery minusQuery = new BooleanQuery();
> >         minusQuery.add(new TermQuery(term2), false, true);
> > 
> >         BooleanQuery q1 = new BooleanQuery();
> >         q1.add(new TermQuery(term1), true, false);
> >         q1.add(minusQuery, false, false);    // not 
> required that the
> > minusQuery is "matched"
> > 
> >         BooleanQuery q2 = new BooleanQuery();
> >         q2.add(new TermQuery(term1), true, false);
> >         q2.add(minusQuery, true, false);     // required that 
> > the minusQuery
> > is "matched"
> > 
> >         BooleanQuery q3 = new BooleanQuery();
> >         q3.add(new TermQuery(term1), true, false);
> >         q3.add(new TermQuery(term2), false, true); // add the 
> > term directly
> > as a prohibited query
> > 
> >         System.out.println("non-required: " + _index.search(q1,
> > null).length());
> >         System.out.println("required    : " + _index.search(q2,
> > null).length());
> > 	  System.out.println("directly    : " + 
> > _index.search(q3, null).length());
> > ---------------------------
> > 
> > this outputs:
> > 
> > non-required: 55
> > required    : 0
> > directly    : 48
> > 
> > 
> > 
> > Regards,
> > Anders Nielsen
> > 
> > 
> > --
> > To unsubscribe, e-mail:   
> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
> <mailto:lucene-user-help@jakarta.apache.org>
> 
> --
> To unsubscribe, e-mail:   
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>

------_=_NextPart_001_01C162D2.615CCB10--

From lucene-user-return-182-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Nov 01 14:09:38 2001
Return-Path: <lucene-user-return-182-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 18913 invoked from network); 1 Nov 2001 14:09:38 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 1 Nov 2001 14:09:38 -0000
Received: (qmail 22509 invoked from network); 1 Nov 2001 14:11:46 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 1 Nov 2001 14:11:46 -0000
Received: (qmail 6631 invoked by uid 97); 1 Nov 2001 14:09:34 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 6597 invoked by uid 97); 1 Nov 2001 14:09:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6585 invoked from network); 1 Nov 2001 14:09:32 -0000
Message-ID: <20011101140932.93760.qmail@web11802.mail.yahoo.com>
Date: Thu, 1 Nov 2001 06:09:32 -0800 (PST)
From: srinivasa v <inrisrini2k@yahoo.com>
Subject: Frequency Problem
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1505851079-1004623772=:92625"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

--0-1505851079-1004623772=:92625
Content-Type: text/plain; charset=us-ascii


hi all,

When we search for perticular word(s) using the Query, we will get number of Hits. 

That is number of docs matching the given words.

But How to get the Frequency of a Perticular Word in each Docs individually ?

Say word "lucene" occurs 10 times in Doc1.

Please answer ASAP........

with regards

Srini



---------------------------------
Do You Yahoo!?
Make a great connection at Yahoo! Personals.
--0-1505851079-1004623772=:92625--

From lucene-user-return-183-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Nov 01 14:12:53 2001
Return-Path: <lucene-user-return-183-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 19980 invoked from network); 1 Nov 2001 14:12:53 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 1 Nov 2001 14:12:53 -0000
Received: (qmail 22582 invoked from network); 1 Nov 2001 14:15:04 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 1 Nov 2001 14:15:04 -0000
Received: (qmail 7767 invoked by uid 97); 1 Nov 2001 14:12:52 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 7751 invoked by uid 97); 1 Nov 2001 14:12:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7740 invoked from network); 1 Nov 2001 14:12:49 -0000
Message-ID: <1718B3F8E2E0D31181A100508B94EECC036A3C6E@USCAMEXCP003>
From: Paul Friedman <pfriedman@macromedia.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Brackets in query syntax?
Date: Thu, 1 Nov 2001 09:12:32 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Thanks, I didn't see anything about the range query in the syntax BNF.

In regards to the exception, I would expect that searching on the query "[]"
or "name:[]" would either find all documents or no documents, not throw an
exception?


-----Original Message-----
From: Scott Ganyo [mailto:scott.ganyo@eTapestry.com]
Sent: Thursday, November 01, 2001 7:39 AM
To: 'Lucene Users List'
Subject: RE: Brackets in query syntax?


[ and ] are used for RangeQuery.  They indicate an inclusive range.  For
example: "name:[adam-scott]"

> -----Original Message-----
> From: Paul Friedman [mailto:pfriedman@macromedia.com]
> Sent: Wednesday, October 31, 2001 2:03 PM
> To: 'lucene-user@jakarta.apache.org'
> Subject: Brackets in query syntax?
> 
> 
> Are brackets, [ and ], legal in a query?  
> If so, do they have some special meaning?
> If not, are there other "illegal" characters as well?
> 
> Parsing the query syntax, "[]", causes the following error:
> 
> Lexical error at line 1, column 3.  Encountered: <EOF> after : "[]"
> org.apache.lucene.queryParser.TokenMgrError: Lexical error at 
> line 1, column
> 3.  Encountered: <EOF> after : "[]"
> 	at
> org.apache.lucene.queryParser.QueryParserTokenManager.getNextT
> oken(Unknown
> Source)
> 	at 
> org.apache.lucene.queryParser.QueryParser.jj_ntk(Unknown Source)
> 	at org.apache.lucene.queryParser.QueryParser.Modifiers(Unknown
> Source)
> 	at 
> org.apache.lucene.queryParser.QueryParser.Query(Unknown Source)
> 	at 
> org.apache.lucene.queryParser.QueryParser.parse(Unknown Source)
> 	at 
> org.apache.lucene.queryParser.QueryParser.parse(Unknown Source)
> 
> I am using QueryParser and the StandardAnalyzer to parse the 
> query string.
> 
> Any help would be appreciate.
> Paul
> 
> --
> To unsubscribe, e-mail:   
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-184-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Nov 01 14:14:42 2001
Return-Path: <lucene-user-return-184-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 20589 invoked from network); 1 Nov 2001 14:14:42 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 1 Nov 2001 14:14:42 -0000
Received: (qmail 23246 invoked from network); 1 Nov 2001 14:16:54 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 1 Nov 2001 14:16:54 -0000
Received: (qmail 9778 invoked by uid 97); 1 Nov 2001 14:14:22 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 9639 invoked by uid 97); 1 Nov 2001 14:14:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 9560 invoked from network); 1 Nov 2001 14:14:19 -0000
Message-ID: <1718B3F8E2E0D31181A100508B94EECC036A3C6F@USCAMEXCP003>
From: Paul Friedman <pfriedman@macromedia.com>
To: "'lucene-user@jakarta.apache.org'" <lucene-user@jakarta.apache.org>
Subject: Updated Syntax BNF?
Date: Thu, 1 Nov 2001 09:14:17 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C162DF.7E3C88D0"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C162DF.7E3C88D0
Content-Type: text/plain;
	charset="iso-8859-1"

Where can I find a BNF for the syntax supported in version 1.2 RC2?  The BNF
in the FAQ doesn't show the syntax for range queries.

------_=_NextPart_001_01C162DF.7E3C88D0--

From lucene-user-return-185-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Nov 01 14:25:39 2001
Return-Path: <lucene-user-return-185-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 26934 invoked from network); 1 Nov 2001 14:25:39 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 1 Nov 2001 14:25:39 -0000
Received: (qmail 28592 invoked from network); 1 Nov 2001 14:27:50 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 1 Nov 2001 14:27:50 -0000
Received: (qmail 3448 invoked by uid 97); 1 Nov 2001 14:25:19 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 3383 invoked by uid 97); 1 Nov 2001 14:25:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3324 invoked from network); 1 Nov 2001 14:25:18 -0000
Message-ID: <FABBF873F68ED311BB35009027D390723E2E9B@DARTH_BOBO>
From: Scott Ganyo <scott.ganyo@eTapestry.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Brackets in query syntax?
Date: Thu, 1 Nov 2001 09:28:39 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C162E1.7FAB4920"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C162E1.7FAB4920
Content-Type: text/plain;
	charset="iso-8859-1"

Sure, that would make sense to me...

> -----Original Message-----
> From: Paul Friedman [mailto:pfriedman@macromedia.com]
> Sent: Thursday, November 01, 2001 9:13 AM
> To: 'Lucene Users List'
> Subject: RE: Brackets in query syntax?
> 
> 
> Thanks, I didn't see anything about the range query in the syntax BNF.
> 
> In regards to the exception, I would expect that searching on 
> the query "[]"
> or "name:[]" would either find all documents or no documents, 
> not throw an
> exception?
> 
> 
> -----Original Message-----
> From: Scott Ganyo [mailto:scott.ganyo@eTapestry.com]
> Sent: Thursday, November 01, 2001 7:39 AM
> To: 'Lucene Users List'
> Subject: RE: Brackets in query syntax?
> 
> 
> [ and ] are used for RangeQuery.  They indicate an inclusive 
> range.  For
> example: "name:[adam-scott]"
> 
> > -----Original Message-----
> > From: Paul Friedman [mailto:pfriedman@macromedia.com]
> > Sent: Wednesday, October 31, 2001 2:03 PM
> > To: 'lucene-user@jakarta.apache.org'
> > Subject: Brackets in query syntax?
> > 
> > 
> > Are brackets, [ and ], legal in a query?  
> > If so, do they have some special meaning?
> > If not, are there other "illegal" characters as well?
> > 
> > Parsing the query syntax, "[]", causes the following error:
> > 
> > Lexical error at line 1, column 3.  Encountered: <EOF> after : "[]"
> > org.apache.lucene.queryParser.TokenMgrError: Lexical error at 
> > line 1, column
> > 3.  Encountered: <EOF> after : "[]"
> > 	at
> > org.apache.lucene.queryParser.QueryParserTokenManager.getNextT
> > oken(Unknown
> > Source)
> > 	at 
> > org.apache.lucene.queryParser.QueryParser.jj_ntk(Unknown Source)
> > 	at org.apache.lucene.queryParser.QueryParser.Modifiers(Unknown
> > Source)
> > 	at 
> > org.apache.lucene.queryParser.QueryParser.Query(Unknown Source)
> > 	at 
> > org.apache.lucene.queryParser.QueryParser.parse(Unknown Source)
> > 	at 
> > org.apache.lucene.queryParser.QueryParser.parse(Unknown Source)
> > 
> > I am using QueryParser and the StandardAnalyzer to parse the 
> > query string.
> > 
> > Any help would be appreciate.
> > Paul
> > 
> > --
> > To unsubscribe, e-mail:   
> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
> <mailto:lucene-user-help@jakarta.apache.org>
> 
> --
> To unsubscribe, e-mail:   
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>

------_=_NextPart_001_01C162E1.7FAB4920--

From lucene-user-return-186-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Nov 01 14:46:29 2001
Return-Path: <lucene-user-return-186-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 41359 invoked from network); 1 Nov 2001 14:46:29 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 1 Nov 2001 14:46:29 -0000
Received: (qmail 4790 invoked from network); 1 Nov 2001 14:48:40 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 1 Nov 2001 14:48:40 -0000
Received: (qmail 4160 invoked by uid 97); 1 Nov 2001 14:46:28 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 4127 invoked by uid 97); 1 Nov 2001 14:46:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4116 invoked from network); 1 Nov 2001 14:46:27 -0000
Message-ID: <1718B3F8E2E0D31181A100508B94EECC036A3C70@USCAMEXCP003>
From: Paul Friedman <pfriedman@macromedia.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: Do range queries work?
Date: Thu, 1 Nov 2001 09:46:24 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Is range searching working in RC2?

I have the following documents in my index (using StandardAnalyzer):

id:doc1
age:30
FirstName:John

id:doc2
age:40
FirstName:Wendy

The following queries do not return the expected results (using QueryParser
with StandardAnalyzer):

"age:[20-35]" finds 2 documents, should find 1
"age:[35-50]" finds 2 documents, should find 1

"FirstName:[a-k]" finds 0 documents, should find 1
"FirstName:[u-z]" finds 0 documents, should find 1
"FirstName:[adam-larry]" finds 0 documents, should find 1

Thanks.

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-187-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Nov 01 16:00:10 2001
Return-Path: <lucene-user-return-187-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 82978 invoked from network); 1 Nov 2001 16:00:10 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 1 Nov 2001 16:00:10 -0000
Received: (qmail 21659 invoked from network); 1 Nov 2001 16:02:21 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 1 Nov 2001 16:02:21 -0000
Received: (qmail 417 invoked by uid 97); 1 Nov 2001 16:00:09 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 399 invoked by uid 97); 1 Nov 2001 16:00:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 388 invoked from network); 1 Nov 2001 16:00:07 -0000
Message-ID: <4BC270C6AB8AD411AD0B00B0D0493DF0EE7CD5@mail.grandcentral.com>
From: Doug Cutting <DCutting@grandcentral.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Problems with prohibited BooleanQueries
Date: Thu, 1 Nov 2001 07:48:46 -0800 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> From: Scott Ganyo [mailto:scott.ganyo@eTapestry.com]
> 
> How difficult would it be to get BooleanQuery to do a 
> standalone NOT, do you
> suppose?  That would be very useful in my case.

It would not be that difficult, but it would make queries slow.  All terms
not containing a term would need to be enumerated.  Since most terms occur
in only a small percentage of the documents, most NOT queries would return
most documents.

Scoring would also be strange.  I guess you'd give them all a score of 1.0,
and hope that the query is nested in a more complex query that will
differentiate the scores.  But if it's nested, then you could do it with
BooleanQuery as it stands...

So, my question to you is: do you actually want lists of all documents that
do not contain a term, or, rather, do you want to use negation in the
context of other query terms, and are having trouble getting your query
parser to build BooleanQueries?

Doug

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-188-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Nov 01 16:49:21 2001
Return-Path: <lucene-user-return-188-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 25521 invoked from network); 1 Nov 2001 16:49:20 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 1 Nov 2001 16:49:20 -0000
Received: (qmail 740 invoked from network); 1 Nov 2001 16:51:33 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 1 Nov 2001 16:51:33 -0000
Received: (qmail 4796 invoked by uid 97); 1 Nov 2001 16:47:11 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 4594 invoked by uid 97); 1 Nov 2001 16:47:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4384 invoked from network); 1 Nov 2001 16:47:05 -0000
Message-ID: <4BC270C6AB8AD411AD0B00B0D0493DF0EE7CD6@mail.grandcentral.com>
From: Doug Cutting <DCutting@grandcentral.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Do range queries work?
Date: Thu, 1 Nov 2001 08:35:49 -0800 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/mixed;
	boundary="----_=_NextPart_000_01C162F3.43D6CC50"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------_=_NextPart_000_01C162F3.43D6CC50
Content-Type: text/plain;
	charset="iso-8859-1"

Can folks please try to include complete, self-contained test cases when
submitting bugs?  It's not that hard, and makes it much easier to figure out
what is going on.

For example, I have attached a complete, self-contained test case for the
bug reported below.  It only took 50 lines.  Interestingly, the results it
returns are quite different than those reported.  Not that it works as
desired!  My results are:

  age:[20-35-null]: 2 hits ( doc1 doc2 )
  age:[35-50-null]: 1 hits ( doc2 )
  FirstName:[k-null]: 1 hits ( doc2 )
  FirstName:[u-z]: 1 hits ( doc2 )
  FirstName:[adam-larry]: 1 hits ( doc1 )

(Note that I'm re-printing the parsed query to show how it was parsed.)  It
looks like StandardAnalyzer parses 20-35 as a single term, causing problems
with the age queries.  The FirstName queries work as desired for me.  I
suspect that in your case the FirstName field may not have been added as a
Field.Text, but as a case-sensitive Field.Keyword.

In any case, it is much easier to figure out what is going on if a complete
test case is provided in the first place.

So far as I can tell, RangeQuery is doing what it is supposed to.

Doug

> -----Original Message-----
> From: Paul Friedman [mailto:pfriedman@macromedia.com]
> Sent: Thursday, November 01, 2001 6:46 AM
> To: 'Lucene Users List'
> Subject: Do range queries work?
> 
> 
> Is range searching working in RC2?
> 
> I have the following documents in my index (using StandardAnalyzer):
> 
> id:doc1
> age:30
> FirstName:John
> 
> id:doc2
> age:40
> FirstName:Wendy
> 
> The following queries do not return the expected results 
> (using QueryParser
> with StandardAnalyzer):
> 
> "age:[20-35]" finds 2 documents, should find 1
> "age:[35-50]" finds 2 documents, should find 1
> 
> "FirstName:[a-k]" finds 0 documents, should find 1
> "FirstName:[u-z]" finds 0 documents, should find 1
> "FirstName:[adam-larry]" finds 0 documents, should find 1
> 
> Thanks.
> 
> --
> To unsubscribe, e-mail:   
> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail: 
<mailto:lucene-user-help@jakarta.apache.org>


------_=_NextPart_000_01C162F3.43D6CC50
Content-Type: application/octet-stream;
	name="RangeTest.java"
Content-Disposition: attachment;
	filename="RangeTest.java"

import org.apache.lucene.queryParser.*; 
import org.apache.lucene.search.*; 
import org.apache.lucene.index.*; 
import org.apache.lucene.analysis.*; 
import org.apache.lucene.analysis.standard.*; 
import org.apache.lucene.document.*; 
import org.apache.lucene.store.*; 

public class RangeTest { 
  public static void main(String args[]) throws Exception { 
    Analyzer analyzer = new StandardAnalyzer(); 
    IndexWriter writer = new IndexWriter("index", analyzer, true); 
    
    Document d1 = new Document();
    d1.add(Field.Keyword("id","doc1"));
    d1.add(Field.Keyword("age","30"));
    d1.add(Field.Text("FirstName","John"));
    writer.addDocument(d1);
    
    Document d2 = new Document();
    d2.add(Field.Keyword("id","doc2"));
    d2.add(Field.Keyword("age","40"));
    d2.add(Field.Text("FirstName","Wendy"));
    writer.addDocument(d2);
    
    writer.close();
    
    IndexReader reader = IndexReader.open("index");
    Searcher searcher = new IndexSearcher(reader);

    search(searcher, analyzer, "age:[20-35]");
    search(searcher, analyzer, "age:[35-50]");

    search(searcher, analyzer, "FirstName:[a-k]");
    search(searcher, analyzer, "FirstName:[u-z]");
    search(searcher, analyzer, "FirstName:[adam-larry]");
  }

  private static void search(Searcher searcher, Analyzer analyzer,
                             String queryString) throws Exception {
    Query query = QueryParser.parse(queryString, "id", analyzer);
    Hits hits = searcher.search(query);
    System.out.println(query.toString("id") + ": " + hits.length() + " hits");
    for (int i = 0; i < hits.length(); i++) {
      System.out.println(" " + hits.doc(i).get("id"));
    }
  }
}



------_=_NextPart_000_01C162F3.43D6CC50
Content-Type: text/plain; charset=us-ascii

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>
------_=_NextPart_000_01C162F3.43D6CC50--

From lucene-user-return-189-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Nov 01 17:04:01 2001
Return-Path: <lucene-user-return-189-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 38502 invoked from network); 1 Nov 2001 17:04:01 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 1 Nov 2001 17:04:01 -0000
Received: (qmail 14556 invoked from network); 1 Nov 2001 17:06:16 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 1 Nov 2001 17:06:16 -0000
Received: (qmail 16801 invoked by uid 97); 1 Nov 2001 17:01:29 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 16675 invoked by uid 97); 1 Nov 2001 17:01:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16619 invoked from network); 1 Nov 2001 17:01:26 -0000
Message-ID: <20011101170126.14652.qmail@web10508.mail.yahoo.com>
Date: Thu, 1 Nov 2001 09:01:26 -0800 (PST)
From: DV Punia <deevee66@yahoo.com>
Subject: Re: Tutorial
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20011031222948.945833C749@darksleep.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Thanks to Steven J. Owens for his small tutorial. It
was good, i was quite informative, we can always
improve as we go along.

It will be good to post few samples as a tutorial
which might have:
- Simple servlet Example  for Search
- Simple application example
- How to create index files for servlets and
application.
-  any more suggestion.

I am pretty new , just joined 2 days ago. But i will
be happy to contribute, I can create some Html pages
once I get index search working properly with Servlet.


The problem I am having is in creating "indexing" to
use it for servlet. Right now I have to give full
qualified path ("C:\Websphere\installedApps\"), when i
generate the index file.

How can i create an index file so query shows relative
path on the browser for example:
Currently query Links are shown==> 
         C:\Websphere\installedApps\dv.jsp
I want to see :
      http://localhost:8080/dv.jsp

If someone knows how to build indexing using relative
path. If soemone has built a sevlet before that would
be very helpful.


Thanks
DV Punia
--- "Steven J. Owens" <puffmail@darksleep.com> wrote:
> > Is anyone else out there creating a tutorial. I
> would be willing to 
> > compile and coordinate all the different parts for
> the people who want 
> > to contribute.
> 
>      I wrote something up a few months ago, and
> posted it to the list.
> I've been meaning to get back to it, edit it again,
> spiff it up a bit,
> maybe come up with some updated code for the
> examples written on my own
> time (instead of my employers) so I can publish it,
> etc.  But right now,
> the current draft is at:
> 
> http://darksleep.com/puff/lucene.html
> 
> Steven J. Owens
> puff@darksleep.com
> 
> --
> To unsubscribe, e-mail:  
> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
> <mailto:lucene-user-help@jakarta.apache.org>
> 


__________________________________________________
Do You Yahoo!?
Make a great connection at Yahoo! Personals.
http://personals.yahoo.com

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-190-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Nov 01 19:19:27 2001
Return-Path: <lucene-user-return-190-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 20667 invoked from network); 1 Nov 2001 19:19:27 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 1 Nov 2001 19:19:27 -0000
Received: (qmail 19902 invoked from network); 1 Nov 2001 19:21:43 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 1 Nov 2001 19:21:43 -0000
Received: (qmail 12725 invoked by uid 97); 1 Nov 2001 19:19:17 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 12709 invoked by uid 97); 1 Nov 2001 19:19:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 12698 invoked from network); 1 Nov 2001 19:19:16 -0000
Message-ID: <1718B3F8E2E0D31181A100508B94EECC036A3C74@USCAMEXCP003>
From: Paul Friedman <pfriedman@macromedia.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Do range queries work?
Date: Thu, 1 Nov 2001 14:15:48 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

First, let me apologize for not including a self-contained test in my
original submission.  I will do so for any future issues.

In regards to the test case that you included in your response...

It looks like there is a bug (besides the StandardAnalyzer parsing 20-35 as
a single term).  The query in your example:

     search(searcher, analyzer, "FirstName:[a-k]");

is not finding the correct document.  It is finding doc2, it should find
doc1.  QueryParser is parsing the query into "FirstName:[k-null]" when it
should be "FirstName:[a-k]".  Is "a" being caught as a stop word?

Thanks for the quick response.
Paul  

-----Original Message-----
From: Doug Cutting [mailto:DCutting@grandcentral.com]
Sent: Thursday, November 01, 2001 11:36 AM
To: 'Lucene Users List'
Subject: RE: Do range queries work?


Can folks please try to include complete, self-contained test cases when
submitting bugs?  It's not that hard, and makes it much easier to figure out
what is going on.

For example, I have attached a complete, self-contained test case for the
bug reported below.  It only took 50 lines.  Interestingly, the results it
returns are quite different than those reported.  Not that it works as
desired!  My results are:

  age:[20-35-null]: 2 hits ( doc1 doc2 )
  age:[35-50-null]: 1 hits ( doc2 )
  FirstName:[k-null]: 1 hits ( doc2 )
  FirstName:[u-z]: 1 hits ( doc2 )
  FirstName:[adam-larry]: 1 hits ( doc1 )

(Note that I'm re-printing the parsed query to show how it was parsed.)  It
looks like StandardAnalyzer parses 20-35 as a single term, causing problems
with the age queries.  The FirstName queries work as desired for me.  I
suspect that in your case the FirstName field may not have been added as a
Field.Text, but as a case-sensitive Field.Keyword.

In any case, it is much easier to figure out what is going on if a complete
test case is provided in the first place.

So far as I can tell, RangeQuery is doing what it is supposed to.

Doug

> -----Original Message-----
> From: Paul Friedman [mailto:pfriedman@macromedia.com]
> Sent: Thursday, November 01, 2001 6:46 AM
> To: 'Lucene Users List'
> Subject: Do range queries work?
> 
> 
> Is range searching working in RC2?
> 
> I have the following documents in my index (using StandardAnalyzer):
> 
> id:doc1
> age:30
> FirstName:John
> 
> id:doc2
> age:40
> FirstName:Wendy
> 
> The following queries do not return the expected results 
> (using QueryParser
> with StandardAnalyzer):
> 
> "age:[20-35]" finds 2 documents, should find 1
> "age:[35-50]" finds 2 documents, should find 1
> 
> "FirstName:[a-k]" finds 0 documents, should find 1
> "FirstName:[u-z]" finds 0 documents, should find 1
> "FirstName:[adam-larry]" finds 0 documents, should find 1
> 
> Thanks.
> 
> --
> To unsubscribe, e-mail:   
> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail: 
<mailto:lucene-user-help@jakarta.apache.org>

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-191-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Nov 01 20:27:41 2001
Return-Path: <lucene-user-return-191-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 71380 invoked from network); 1 Nov 2001 20:27:41 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 1 Nov 2001 20:27:41 -0000
Received: (qmail 10239 invoked from network); 1 Nov 2001 20:29:56 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 1 Nov 2001 20:29:56 -0000
Received: (qmail 25587 invoked by uid 97); 1 Nov 2001 20:27:44 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 25509 invoked by uid 97); 1 Nov 2001 20:27:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25468 invoked from network); 1 Nov 2001 20:27:37 -0000
Content-return: allowed
Date: Thu, 01 Nov 2001 14:27:12 -0600
From: Vijay Jagannathan <vjagannathan@cgn.net>
Subject: Adding New Fields to Document
To: "'lucene-user@jakarta.apache.org'" <lucene-user@jakarta.apache.org>
Message-id: <072FFF21D7E7D41182B000508BE7CA1001BF4C@ilhqs2.cgn.net>
MIME-version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-type: text/plain
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello All,
I am trying to add a new field to the Document as below:

doc.add(new Field("authorname", authorname, false, true, false));

When I am doing the search after rebuilding the index, I am not getting any
results if I search on this field.

Is there a size limit or limit on the number of fields a Document can have ?

Any guidance is much appreciated.

Thanks.
Vijay

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-192-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Nov 01 21:15:33 2001
Return-Path: <lucene-user-return-192-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 98348 invoked from network); 1 Nov 2001 21:15:33 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 1 Nov 2001 21:15:33 -0000
Received: (qmail 18906 invoked from network); 1 Nov 2001 21:17:48 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 1 Nov 2001 21:17:48 -0000
Received: (qmail 15302 invoked by uid 97); 1 Nov 2001 21:15:34 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 15278 invoked by uid 97); 1 Nov 2001 21:15:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 15267 invoked from network); 1 Nov 2001 21:15:33 -0000
Message-ID: <4BC270C6AB8AD411AD0B00B0D0493DF0EE7CD8@mail.grandcentral.com>
From: Doug Cutting <DCutting@grandcentral.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Cc: 'Scott Ganyo' <scott.ganyo@eTapestry.com>
Subject: RE: Do range queries work?
Date: Thu, 1 Nov 2001 13:04:15 -0800 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/mixed;
	boundary="----_=_NextPart_000_01C16318.C3A1F2A0"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------_=_NextPart_000_01C16318.C3A1F2A0
Content-Type: text/plain;
	charset="iso-8859-1"

> From: Paul Friedman [mailto:pfriedman@macromedia.com]
> 
> It looks like there is a bug (besides the StandardAnalyzer 
> parsing 20-35 as a single term).  The query in your example:
> 
>      search(searcher, analyzer, "FirstName:[a-k]");
> 
> is not finding the correct document.  It is finding doc2, it 
> should find doc1.  QueryParser is parsing the query into 
> "FirstName:[k-null]" when it
> should be "FirstName:[a-k]".  Is "a" being caught as a stop word?

It looks like it.

I think the real bug here is that QueryParser should not analyze the terms
in a range query.  I have modified QueryParser.jj to not do this and all of
your examples work much better.  The only downside that I can see is that
range queries, like prefix queries, become case sensitive.  That seems like
a good tradeoff to me.  Does anyone object to this?

Doug




------_=_NextPart_000_01C16318.C3A1F2A0
Content-Type: application/octet-stream;
	name="QueryParser.jj"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: attachment;
	filename="QueryParser.jj"

/* =
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
 * The Apache Software License, Version 1.1
 *
 * Copyright (c) 2001 The Apache Software Foundation.  All rights
 * reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions
 * are met:
 *
 * 1. Redistributions of source code must retain the above copyright
 *    notice, this list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright
 *    notice, this list of conditions and the following disclaimer in
 *    the documentation and/or other materials provided with the
 *    distribution.
 *
 * 3. The end-user documentation included with the redistribution,
 *    if any, must include the following acknowledgment:
 *       "This product includes software developed by the
 *        Apache Software Foundation (http://www.apache.org/)."
 *    Alternately, this acknowledgment may appear in the software =
itself,
 *    if and wherever such third-party acknowledgments normally appear.
 *
 * 4. The names "Apache" and "Apache Software Foundation" and
 *    "Apache Lucene" must not be used to endorse or promote products
 *    derived from this software without prior written permission. For
 *    written permission, please contact apache@apache.org.
 *
 * 5. Products derived from this software may not be called "Apache",
 *    "Apache Lucene", nor may "Apache" appear in their name, without
 *    prior written permission of the Apache Software Foundation.
 *
 * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED
 * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
 * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR
 * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF
 * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
 * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT
 * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
 * SUCH DAMAGE.
 * =
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
 *
 * This software consists of voluntary contributions made by many
 * individuals on behalf of the Apache Software Foundation.  For more
 * information on the Apache Software Foundation, please see
 * <http://www.apache.org/>.
 */


options {
  STATIC=3Dfalse;
  JAVA_UNICODE_ESCAPE=3Dtrue;
  USER_CHAR_STREAM=3Dtrue;
}

PARSER_BEGIN(QueryParser)

package org.apache.lucene.queryParser;

import java.util.Vector;
import java.io.*;
import org.apache.lucene.index.Term;
import org.apache.lucene.analysis.*;
import org.apache.lucene.search.*;

/**
 * This class is generated by JavaCC.  The only method that clients =
should need
 * to call is <a href=3D"#parse">parse()</a>.
 *
 * The syntax for query strings is as follows:
 * A Query is a series of clauses.
 * A clause may be prefixed by:=20
 * <ul>
 * <li> a plus (<code>+</code>) or a minus (<code>-</code>) sign, =
indicating
 * that the clause is required or prohibited respectively; or
 * <li> a term followed by a colon, indicating the field to be =
searched.
 * This enables one to construct queries which search multiple fields.
 * </ul>
 *
 * A clause may be either a:
 * <ul>
 * <li> a term, indicating all the documents that contain this term; or
 * <li> a nested query, enclosed in parentheses.  Note that this may be =
used
 * with a <code>+</code>/<code>-</code> prefix to require any of a set =
of
 * terms.
 * </ul>
 *
 * Thus, in BNF, the query grammar is:
 * <pre>
 *   Query  ::=3D ( Clause )*
 *   Clause ::=3D ["+", "-"] [<TERM> ":"] ( <TERM> | "(" Query ")" )
 * </pre>
 *
 * @author Brian Goetz
 */

public class QueryParser {
  /** Parses a query string, returning a
   * <a href=3D"lucene.search.Query.html">Query</a>.
   *  @param query	the query string to be parsed.
   *  @param field	the default field for query terms.
   *  @param analyzer   used to find terms in the query text.
   */
  static public Query parse(String query, String field, Analyzer =
analyzer)
       throws ParseException {
    QueryParser parser =3D new QueryParser(field, analyzer);
    return parser.parse(query);
  }
      =20
  Analyzer analyzer;
  String field;
  int phraseSlop =3D 0;

  /** Constructs a query parser.
   *  @param field	the default field for query terms.
   *  @param analyzer   used to find terms in the query text.
   */
  public QueryParser(String f, Analyzer a) {
    this(new FastCharStream(new StringReader("")));
    analyzer =3D a;
    field =3D f;
  }

  /** Parses a query string, returning a
   * <a href=3D"lucene.search.Query.html">Query</a>.
   *  @param query	the query string to be parsed.
   */
  public Query parse(String query) throws ParseException {
    ReInit(new FastCharStream(new StringReader(query)));
    return Query(field);
  }

  /** Sets the default slop for phrases.  If zero, then exact phrase =
matches
    are required.  Zero by default. */
  public void setPhraseSlop(int s) { phraseSlop =3D s; }
  /** Gets the default slop for phrases. */
  public int getPhraseSlop() { return phraseSlop; }

  private void addClause(Vector clauses, int conj, int mods,=20
                        Query q) {
    boolean required, prohibited;

    // If this term is introduced by AND, make the preceding term =
required,
    // unless it's already prohibited
    if (conj =3D=3D CONJ_AND) {
      BooleanClause c =3D (BooleanClause) =
clauses.elementAt(clauses.size()-1);
      if (!c.prohibited)
        c.required =3D true;
    }

    // We might have been passed a null query; the term might have been
    // filtered away by the analyzer.=20
    if (q =3D=3D null)
      return;

    // We set REQUIRED if we're introduced by AND or +; PROHIBITED if
    // introduced by NOT or -; make sure not to set both.
    prohibited =3D (mods =3D=3D MOD_NOT);
    required =3D (mods =3D=3D MOD_REQ);
    if (conj =3D=3D CONJ_AND && !prohibited)
      required =3D true;
    clauses.addElement(new BooleanClause(q, required, prohibited));
  }

  private Query getFieldQuery(String field, Analyzer analyzer, String =
queryText) {
    // Use the analyzer to get all the tokens, and then build a =
TermQuery,
    // PhraseQuery, or nothing based on the term count
   =20
    TokenStream source =3D analyzer.tokenStream(field,=20
                                              new =
StringReader(queryText));
    Vector v =3D new Vector();
    org.apache.lucene.analysis.Token t;

    while (true) {
      try {
        t =3D source.next();
      }=20
      catch (IOException e) {
        t =3D null;
      }
      if (t =3D=3D null)=20
        break;
      v.addElement(t.termText());
    }
    if (v.size() =3D=3D 0)=20
      return null;
    else if (v.size() =3D=3D 1)=20
      return new TermQuery(new Term(field, (String) v.elementAt(0)));
    else {
      PhraseQuery q =3D new PhraseQuery();
      q.setSlop(phraseSlop);
      for (int i=3D0; i<v.size(); i++) {
        q.add(new Term(field, (String) v.elementAt(i)));
      }
      return q;
    }
  }

  public static void main(String[] args) throws Exception {
    QueryParser qp =3D new QueryParser("field",=20
                                     new =
org.apache.lucene.analysis.SimpleAnalyzer());
    Query q =3D qp.parse(args[0]);
    System.out.println(q.toString("field"));
  }

  private static final int CONJ_NONE   =3D 0;
  private static final int CONJ_AND    =3D 1;
  private static final int CONJ_OR     =3D 2;

  private static final int MOD_NONE    =3D 0;
  private static final int MOD_NOT     =3D 10;
  private static final int MOD_REQ     =3D 11;
}

PARSER_END(QueryParser)

/* ***************** */
/* Token Definitions */
/* ***************** */

<*> TOKEN : {
  <#_NUM_CHAR:   ["0"-"9"] >
| <#_TERM_CHAR: [ "a"-"z", "A"-"Z", "0"-"9", "_", "\u0080"-"\uFFFE" ] >
| <#_WHITESPACE: ( " " | "\t" ) >
}

<DEFAULT> TOKEN : {
  <AND:       ("AND" | "&&") >
| <OR:        ("OR" | "||") >
| <NOT:       ("NOT" | "!") >
| <PLUS:      "+" >
| <MINUS:     "-" >
| <LPAREN:    "(" >
| <RPAREN:    ")" >
| <COLON:     ":" >
| <BOOST:     "^" (<_NUM_CHAR>)+ ( "." (<_NUM_CHAR>)+ )? >
| <QUOTED:     "\"" (~["\""])+ "\"">
| <TERM:      (<_TERM_CHAR>)+  >
| <FUZZY:     "~" >
| <PREFIXTERM: <TERM> "*" >
| <WILDTERM:  (<_TERM_CHAR> | ( [ "*", "?" ] ))+ >
| <RANGE_IN_OPEN:   "[" >
| <RANGE_IN_CLOSE:  "]" >
| <RANGE_EX_OPEN:   "{" >
| <RANGE_EX_CLOSE:  "}" >
}

<DEFAULT> SKIP : {
  <<_WHITESPACE>>
}

// *   Query  ::=3D ( Clause )*
// *   Clause ::=3D ["+", "-"] [<TERM> ":"] ( <TERM> | "(" Query ")" )

int Conjunction() : {=20
  int ret =3D CONJ_NONE;
}
{
  [=20
    <AND> { ret =3D CONJ_AND; }=20
    | <OR>  { ret =3D CONJ_OR; }
  ]
  { return ret; }
}

int Modifiers() : {=20
  int ret =3D MOD_NONE;
}
{
  [=20
     <PLUS> { ret =3D MOD_REQ; } =20
     | <MINUS> { ret =3D MOD_NOT; }
     | <NOT> { ret =3D MOD_NOT; }
  ]
  { return ret; }
}

Query Query(String field) :
{
  Vector clauses =3D new Vector();
  Query q;
  int conj, mods;=20
}
{
  mods=3DModifiers() q=3DClause(field)=20
  { addClause(clauses, CONJ_NONE, mods, q); }
  (=20
    conj=3DConjunction() mods=3DModifiers() q=3DClause(field)=20
    { addClause(clauses, conj, mods, q); }
  )*
    {
      BooleanQuery query =3D new BooleanQuery();
      for (int i =3D 0; i < clauses.size(); i++)
  	query.add((BooleanClause)clauses.elementAt(i));
      return query;
    }
}

Query Clause(String field) : {
  Query q;
  Token fieldToken=3Dnull;
}
{
  [
    LOOKAHEAD(2)
    fieldToken=3D<TERM> <COLON> { field =3D fieldToken.image; }
  ]

  (
   q=3DTerm(field)=20
   | <LPAREN> q=3DQuery(field) <RPAREN>
  )
    {
      return q;
    }
}
   =20

Query Term(String field) : {=20
  Token term, boost=3Dnull, term2=3Dnull;
  boolean prefix =3D false;
  boolean wildcard =3D false;
  boolean fuzzy =3D false;
  boolean rangein =3D false;
  Query q;
}
{
  (=20
     (
       term=3D<TERM>
       | term=3D<PREFIXTERM> { prefix=3Dtrue; }
       | term=3D<WILDTERM> { wildcard=3Dtrue; }
     )
     [ <FUZZY> { fuzzy=3Dtrue; } ]
     [ boost=3D<BOOST> ]
     {=20
       if (wildcard)
         q =3D new WildcardQuery(new Term(field, term.image));
       else if (prefix)=20
         q =3D new PrefixQuery(new Term(field, term.image.substring
                                      (0, term.image.length()-1)));
       else if (fuzzy)
         q =3D new FuzzyQuery(new Term(field, term.image));
       else
         q =3D getFieldQuery(field, analyzer, term.image);=20
     }
     | (
        (<RANGE_IN_OPEN> { rangein=3Dtrue; }
         term=3D<TERM>=20
         (<MINUS> term2=3D<TERM>)
         <RANGE_IN_CLOSE>)
        |
        (<RANGE_EX_OPEN>
         term=3D<TERM>=20
         (<MINUS> term2=3D<TERM>)
        <RANGE_EX_CLOSE> )
       )
     {
       q =3D new RangeQuery(new Term(field, term.image),
                          new Term(field, term2.image),
                          rangein);
     }
     | term=3D<QUOTED>=20
       {=20
         q =3D getFieldQuery(field, analyzer,=20
                           term.image.substring(1, =
term.image.length()-1));=20
       }
  )
  {=20
    if (boost !=3D null) {
      float f =3D (float) 1.0;
      try {=20
        f =3D Float.valueOf(boost.image.substring(1, =
boost.image.length()))
                          .floatValue();
      }
      catch (Exception ignored) { }

      if (q instanceof TermQuery)=20
        ((TermQuery) q).setBoost(f);
      else if (q instanceof PhraseQuery)=20
        ((PhraseQuery) q).setBoost(f);
      else if (q instanceof MultiTermQuery)
        ((MultiTermQuery) q).setBoost(f);
    }
    return q;=20
  }
}




------_=_NextPart_000_01C16318.C3A1F2A0
Content-Type: text/plain; charset=us-ascii

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>
------_=_NextPart_000_01C16318.C3A1F2A0--

From lucene-user-return-193-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Nov 01 21:37:45 2001
Return-Path: <lucene-user-return-193-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 15247 invoked from network); 1 Nov 2001 21:37:45 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 1 Nov 2001 21:37:45 -0000
Received: (qmail 21714 invoked from network); 1 Nov 2001 21:40:02 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 1 Nov 2001 21:40:02 -0000
Received: (qmail 3268 invoked by uid 97); 1 Nov 2001 21:37:47 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 3252 invoked by uid 97); 1 Nov 2001 21:37:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3235 invoked from network); 1 Nov 2001 21:37:46 -0000
Sender: tril@pluto.blackwell.co.uk
Message-ID: <3BE1C0A5.6D9106A1@blackwell.co.uk>
Date: Thu, 01 Nov 2001 21:37:41 +0000
From: Ian Lea <ian.lea@blackwell.co.uk>
X-Mailer: Mozilla 4.74 [en] (X11; U; Linux 2.2.16 i686)
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>,
	Vijay Jagannathan <vjagannathan@cgn.net>
Subject: Re: Adding New Fields to Document
References: <072FFF21D7E7D41182B000508BE7CA1001BF4C@ilhqs2.cgn.net>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Are you adding the document to the index once you've added the Field to the
document?
Do you see the authorname if search on some other field in the Document?

I don't know if there are limits or not, but if there are I suspect they
are high enough that you and I are unlikely to hit them.




--
Ian.
ian.lea@blackwell.co.uk



Vijay Jagannathan wrote:
> 
> Hello All,
> I am trying to add a new field to the Document as below:
> 
> doc.add(new Field("authorname", authorname, false, true, false));
> 
> When I am doing the search after rebuilding the index, I am not getting any
> results if I search on this field.
> 
> Is there a size limit or limit on the number of fields a Document can have ?
> 
> Any guidance is much appreciated.
> 
> Thanks.
> Vijay

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-194-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Nov 01 22:14:26 2001
Return-Path: <lucene-user-return-194-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 36921 invoked from network); 1 Nov 2001 22:14:25 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 1 Nov 2001 22:14:25 -0000
Received: (qmail 29451 invoked from network); 1 Nov 2001 22:16:44 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 1 Nov 2001 22:16:44 -0000
Received: (qmail 12231 invoked by uid 97); 1 Nov 2001 22:13:49 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 12200 invoked by uid 97); 1 Nov 2001 22:13:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 12170 invoked from network); 1 Nov 2001 22:13:48 -0000
Message-Id: <5.1.0.14.2.20011101141111.0327e690@pop.quiotix.com>
X-Sender: popbrian@pop.quiotix.com
X-Mailer: QUALCOMM Windows Eudora Version 5.1
Date: Thu, 01 Nov 2001 14:13:48 -0800
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
From: Brian Goetz <brian@quiotix.com>
Subject: RE: Do range queries work?
In-Reply-To: <4BC270C6AB8AD411AD0B00B0D0493DF0EE7CD6@mail.grandcentral.c
 om>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"; format=flowed
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


>Can folks please try to include complete, self-contained test cases when
>submitting bugs?  It's not that hard, and makes it much easier to figure out
>what is going on.

In the WebMacro project, we've actually gone further than that -- no bug 
report is taken seriously without a JUnit test case that demonstrates 
it.  This has been very successful for us, and along the way, we've built a 
nice little suite of tests.  JUnit test cases are really easy to write, but 
so far, the only one in the Lucene repo is the one for the query parser.

I'd like to see the existing test programs converted into JUnit test cases 
-- I'm willing to do this if someone will tell me how they work and what 
they're supposed to output and how to invoke them.



--
Brian Goetz
Quiotix Corporation
brian@quiotix.com           Tel: 650-843-1300            Fax: 650-324-8032

http://www.quiotix.com


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-195-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Nov 01 23:23:45 2001
Return-Path: <lucene-user-return-195-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 67253 invoked from network); 1 Nov 2001 23:23:44 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 1 Nov 2001 23:23:44 -0000
Received: (qmail 14658 invoked from network); 1 Nov 2001 23:26:03 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 1 Nov 2001 23:26:03 -0000
Received: (qmail 4453 invoked by uid 97); 1 Nov 2001 23:23:50 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 4436 invoked by uid 97); 1 Nov 2001 23:23:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4425 invoked from network); 1 Nov 2001 23:23:48 -0000
Message-ID: <4BC270C6AB8AD411AD0B00B0D0493DF0EE7CDD@mail.grandcentral.com>
From: Doug Cutting <DCutting@grandcentral.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: test code
Date: Thu, 1 Nov 2001 15:12:29 -0800 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> From: Brian Goetz [mailto:brian@quiotix.com]
> 
> I'd like to see the existing test programs converted into 
> JUnit test cases 
> -- I'm willing to do this if someone will tell me how they 
> work and what 
> they're supposed to output and how to invoke them.

These are mostly things that I wrote years ago when first developing Lucene,
e.g., to test the index code before the search code was written, etc.  They
were mostly never really standalone test programs, but rather things whose
output I would eyeball for correctness (e.g. DocTest), things that I would
use for benchmarking and profiling when exploring different implementations
of things (e.g. IndexTest, TermEnumTest).  Some serve both purposes
(AnalysisTest, PriorityQueueTest).  Still others are stress tests
(ThreadSafetyTest).  If you have questions about a particular one I'd be
glad to tell you what I can remember about it.

I agree that we should build a test suite.  This code could provide a
starting point, but some work will be required.  Useful tests might be:
  - Storage Tests: check that FSDirectory and RAMDirectory can write, read
and seek files of various sizes.
  - Analysis Tests: check that various analyzers generate the expected
tokens.
  - Index Tests: build an index based on generated or static data, and check
that it contains the information that it should.
  - Search Tests: make sure that searches return all the matching documents.

Perhaps different folks can volunteer to write tests for different areas of
the code?  I would be happy to do any of one of these, but not all four!

In addition it would be good to have some performance tests.  We could
either download a reference collection, or use a synthetic document
generator that could efficiently generate streams of terms distributed
according to Zipf's law.  A generator-based approach would let you specify,
e.g. average document length.  Then we could time analysis, index and search
tasks over reasonably large indexes.  This could be done periodically to
make sure that changes don't make things slower, and would be useful for
benchmarking Lucene performance on various platforms.  Does anyone have a
good document generator?  Or can anyone suggest a good, preferably
plain-text, static test collection?

Doug

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-196-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Nov 01 23:39:52 2001
Return-Path: <lucene-user-return-196-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 74278 invoked from network); 1 Nov 2001 23:39:52 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 1 Nov 2001 23:39:52 -0000
Received: (qmail 17653 invoked from network); 1 Nov 2001 23:42:10 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 1 Nov 2001 23:42:10 -0000
Received: (qmail 20500 invoked by uid 97); 1 Nov 2001 23:39:57 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 20484 invoked by uid 97); 1 Nov 2001 23:39:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20470 invoked from network); 1 Nov 2001 23:39:56 -0000
Message-Id: <5.1.0.14.2.20011101153351.02e72840@pop.quiotix.com>
X-Sender: popbrian@pop.quiotix.com
X-Mailer: QUALCOMM Windows Eudora Version 5.1
Date: Thu, 01 Nov 2001 15:39:54 -0800
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
From: Brian Goetz <brian@quiotix.com>
Subject: Re: test code
In-Reply-To: <4BC270C6AB8AD411AD0B00B0D0493DF0EE7CDD@mail.grandcentral.c
 om>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"; format=flowed
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


>These are mostly things that I wrote years ago when first developing Lucene,
>e.g., to test the index code before the search code was written, etc.  They
>were mostly never really standalone test programs, but rather things whose
>output I would eyeball for correctness (e.g. DocTest), things that I would
>use for benchmarking and profiling when exploring different implementations
>of things (e.g. IndexTest, TermEnumTest).  Some serve both purposes
>(AnalysisTest, PriorityQueueTest).  Still others are stress tests
>(ThreadSafetyTest).  If you have questions about a particular one I'd be
>glad to tell you what I can remember about it.

Maybe a good start would be to look at those tests and see which you think 
you can recast in terms of tests that produce a "it worked / it didn't" 
answer.

>I agree that we should build a test suite.  This code could provide a
>starting point, but some work will be required.  Useful tests might be:
>   - Storage Tests: check that FSDirectory and RAMDirectory can write, read
>and seek files of various sizes.
>   - Analysis Tests: check that various analyzers generate the expected
>tokens.
>   - Index Tests: build an index based on generated or static data, and check
>that it contains the information that it should.
>   - Search Tests: make sure that searches return all the matching documents.

The analysis tests could easily be done with JUnit.  I'll take on some of 
those.  The others are mostly functional tests, although you could probably 
build a JUnit case that handles those too.

I'd also like to see many more unit tests; the PriorityQueueTest is a good 
example of this.  JUnit has saved our bacon so many times in other projects 
that its really worth the effort.  And anyone who commits without running 
the unit test suite gets publically ridiculed, since its so easy
(just 'ant test-unit').

>In addition it would be good to have some performance tests.  We could
>either download a reference collection, or use a synthetic document
>generator that could efficiently generate streams of terms distributed
>according to Zipf's law.

Of course, the correctness tests and performance tests could both run 
against the same reference collections.

>Or can anyone suggest a good, preferably
>plain-text, static test collection?

The HTML output from the JavaDoc for JDK 1.3 isn't a bad candidate.


--
Brian Goetz
Quiotix Corporation
brian@quiotix.com           Tel: 650-843-1300            Fax: 650-324-8032

http://www.quiotix.com


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-197-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Nov 01 23:45:37 2001
Return-Path: <lucene-user-return-197-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 76967 invoked from network); 1 Nov 2001 23:45:36 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 1 Nov 2001 23:45:36 -0000
Received: (qmail 18187 invoked from network); 1 Nov 2001 23:47:55 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 1 Nov 2001 23:47:55 -0000
Received: (qmail 24293 invoked by uid 97); 1 Nov 2001 23:45:42 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 24273 invoked by uid 97); 1 Nov 2001 23:45:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 24262 invoked from network); 1 Nov 2001 23:45:41 -0000
Mime-Version: 1.0
X-Sender: wintondavies@mail.earthlink.net (Unverified)
Message-Id: <v04205500b8078e2aa8e3@[172.19.0.98]>
In-Reply-To: <4BC270C6AB8AD411AD0B00B0D0493DF0EE7CDD@mail.grandcentral.com>
References: <4BC270C6AB8AD411AD0B00B0D0493DF0EE7CDD@mail.grandcentral.com>
Date: Thu, 1 Nov 2001 15:45:04 -0800
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
From: Winton Davies <wdavies@overture.com>
Subject: Phrase (and other) scoring?
Content-Type: text/plain; charset="us-ascii" ; format="flowed"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

So my manager asked an intersting question -- is the score of a 
phrase search normalised or not ?

Lets imagine I have queried

"Deer Hunter" /SLOP = 2

and there is just one document with:

"Deer and Duck Hunter"

Now, this comes back with a relevance of 1.0 -- however it clearly is 
and isn't at the same time. It is the ONLY document that matches, so 
there can be nothing else relevant, so it is the most relevant with a 
score of 1.0 However, there was an edit distance of 2 -- so it isn't 
exactly a match to the query :)

  Can anyone help me -- in particular is there a way of find out a raw 
score, if normalisation takes place ?

 
Cheers,
  Winton

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-198-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 02 00:49:33 2001
Return-Path: <lucene-user-return-198-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 1533 invoked from network); 2 Nov 2001 00:49:33 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 2 Nov 2001 00:49:33 -0000
Received: (qmail 24630 invoked from network); 2 Nov 2001 00:51:52 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 2 Nov 2001 00:51:52 -0000
Received: (qmail 8310 invoked by uid 97); 2 Nov 2001 00:49:38 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 8280 invoked by uid 97); 2 Nov 2001 00:49:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 8267 invoked from network); 2 Nov 2001 00:49:37 -0000
Date: Thu, 1 Nov 2001 17:46:12 -0700
Mime-Version: 1.0 (Apple Message framework v472)
Content-Type: text/plain; charset=US-ASCII; format=flowed
Subject: Indexing problem
From: Daryl Thachuk <daryl@montagetech.com>
To: lucene-user@jakarta.apache.org
Content-Transfer-Encoding: 7bit
Message-Id: <038720FE-CF2B-11D5-9BDE-0050E430F97C@montagetech.com>
X-Mailer: Apple Mail (2.472)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi

Since upgrading to 1.2  we've started getting the following error when 
creating an index in a directory with a large amount of files. Previous 
versions of Lucene were quite happy to index this directory.

Any thoughts as to the cause?

-d

java.io.FileNotFoundException: 
/private/Network/Servers/montage/Volumes/Disk2/Users/daryl/Library/Index/index5.
mtlibx/_n8.f3 (Too many open files)
	at java.io.RandomAccessFile.open(Native Method)
	at java.io.RandomAccessFile.<init>(RandomAccessFile.java:98)
	at java.io.RandomAccessFile.<init>(RandomAccessFile.java:143)
	at org.apache.lucene.store.FSInputStream$Descriptor.<init>(Unknown 
Source)
	at org.apache.lucene.store.FSInputStream.<init>(Unknown Source)
	at org.apache.lucene.store.FSDirectory.openFile(Unknown Source)
	at org.apache.lucene.index.SegmentReader.openNorms(Unknown Source)
	at org.apache.lucene.index.SegmentReader.<init>(Unknown Source)
	at org.apache.lucene.index.IndexWriter.mergeSegments(Unknown Source)
	at org.apache.lucene.index.IndexWriter.mergeSegments(Unknown Source)
	at org.apache.lucene.index.IndexWriter.maybeMergeSegments(Unknown 
Source)
	at org.apache.lucene.index.IndexWriter.addDocument(Unknown Source)
	at IndexCreator.indexDocs(IndexCreator.java:75)
	at IndexCreator.indexDocs(IndexCreator.java:67)
	at IndexCreator.indexDocs(IndexCreator.java:67)
	at IndexCreator.indexDocs(IndexCreator.java:67)
	at IndexCreator.indexDocs(IndexCreator.java:67)
	at IndexCreator.indexDocs(IndexCreator.java:67)
	at IndexCreator.createIndex(IndexCreator.java:44)

------
Daryl Thachuk		daryl@montagetech.com
Montage Technologies Inc.
http://www.montagetech.com


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-199-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 02 01:01:26 2001
Return-Path: <lucene-user-return-199-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 5358 invoked from network); 2 Nov 2001 01:01:26 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 2 Nov 2001 01:01:26 -0000
Received: (qmail 25529 invoked from network); 2 Nov 2001 01:03:45 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 2 Nov 2001 01:03:45 -0000
Received: (qmail 14662 invoked by uid 97); 2 Nov 2001 01:01:31 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 14646 invoked by uid 97); 2 Nov 2001 01:01:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 14635 invoked from network); 2 Nov 2001 01:01:29 -0000
From: "Alex Paransky" <alex.paransky@individualnetwork.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: Indexing problem
Date: Thu, 1 Nov 2001 17:05:27 -0800
Message-ID: <CNEBLHDBEMMMHJONOPOPGEEACGAA.alex.paransky@individualnetwork.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4807.1700
In-Reply-To: <038720FE-CF2B-11D5-9BDE-0050E430F97C@montagetech.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I was getting the same error under Windows 2000.  It has something to do
with FileHandles being openned. When we were doing a few searches at the
same time, the file handles went as hight as 2000.  At around 2100, we
started to get this error.  I have searched some documentation, and all the
docs I have found says that number of file handles in Windows is limited by
memory.  Well, I have a 512MB of memory in this machine plus 700MB swap
space, so I cannot be running out of memory.

To make the long story short, I don't know what is causing this problem or
how to fix it.

-AP_

-----Original Message-----
From: Daryl Thachuk [mailto:daryl@montagetech.com]
Sent: Thursday, November 01, 2001 4:46 PM
To: lucene-user@jakarta.apache.org
Subject: Indexing problem


Hi

Since upgrading to 1.2  we've started getting the following error when
creating an index in a directory with a large amount of files. Previous
versions of Lucene were quite happy to index this directory.

Any thoughts as to the cause?

-d

java.io.FileNotFoundException:
/private/Network/Servers/montage/Volumes/Disk2/Users/daryl/Library/Index/ind
ex5.
mtlibx/_n8.f3 (Too many open files)
	at java.io.RandomAccessFile.open(Native Method)
	at java.io.RandomAccessFile.<init>(RandomAccessFile.java:98)
	at java.io.RandomAccessFile.<init>(RandomAccessFile.java:143)
	at org.apache.lucene.store.FSInputStream$Descriptor.<init>(Unknown
Source)
	at org.apache.lucene.store.FSInputStream.<init>(Unknown Source)
	at org.apache.lucene.store.FSDirectory.openFile(Unknown Source)
	at org.apache.lucene.index.SegmentReader.openNorms(Unknown Source)
	at org.apache.lucene.index.SegmentReader.<init>(Unknown Source)
	at org.apache.lucene.index.IndexWriter.mergeSegments(Unknown Source)
	at org.apache.lucene.index.IndexWriter.mergeSegments(Unknown Source)
	at org.apache.lucene.index.IndexWriter.maybeMergeSegments(Unknown
Source)
	at org.apache.lucene.index.IndexWriter.addDocument(Unknown Source)
	at IndexCreator.indexDocs(IndexCreator.java:75)
	at IndexCreator.indexDocs(IndexCreator.java:67)
	at IndexCreator.indexDocs(IndexCreator.java:67)
	at IndexCreator.indexDocs(IndexCreator.java:67)
	at IndexCreator.indexDocs(IndexCreator.java:67)
	at IndexCreator.indexDocs(IndexCreator.java:67)
	at IndexCreator.createIndex(IndexCreator.java:44)

------
Daryl Thachuk		daryl@montagetech.com
Montage Technologies Inc.
http://www.montagetech.com


--
To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-200-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 02 01:11:56 2001
Return-Path: <lucene-user-return-200-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 9684 invoked from network); 2 Nov 2001 01:11:56 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 2 Nov 2001 01:11:56 -0000
Received: (qmail 25788 invoked from network); 2 Nov 2001 01:14:15 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 2 Nov 2001 01:14:15 -0000
Received: (qmail 18717 invoked by uid 97); 2 Nov 2001 01:12:01 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 18674 invoked by uid 97); 2 Nov 2001 01:12:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 18663 invoked from network); 2 Nov 2001 01:12:00 -0000
Date: Thu, 1 Nov 2001 18:08:35 -0700
Subject: Re: Indexing problem
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v472)
From: Daryl Thachuk <daryl@montagetech.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <CNEBLHDBEMMMHJONOPOPGEEACGAA.alex.paransky@individualnetwork.com>
Message-Id: <23F20BEC-CF2E-11D5-9BDE-0050E430F97C@montagetech.com>
X-Mailer: Apple Mail (2.472)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Since pre 1.2 versions of Lucene do not demonstrate this problem (I've 
confirmed this) I suspect something is not being closed properly in the 
index creation process.

-d

On Thursday, November 1, 2001, at 06:05  PM, Alex Paransky wrote:

> I was getting the same error under Windows 2000.  It has something to do
> with FileHandles being openned. When we were doing a few searches at the
> same time, the file handles went as hight as 2000.  At around 2100, we
> started to get this error.  I have searched some documentation, and all 
> the
> docs I have found says that number of file handles in Windows is 
> limited by
> memory.  Well, I have a 512MB of memory in this machine plus 700MB swap
> space, so I cannot be running out of memory.
>
> To make the long story short, I don't know what is causing this problem 
> or
> how to fix it.
>
> -AP_
>
------
Daryl Thachuk		daryl@montagetech.com
Montage Technologies Inc.
http://www.montagetech.com


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-201-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 02 01:23:59 2001
Return-Path: <lucene-user-return-201-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 13882 invoked from network); 2 Nov 2001 01:23:59 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 2 Nov 2001 01:23:59 -0000
Received: (qmail 25852 invoked from network); 2 Nov 2001 01:26:18 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 2 Nov 2001 01:26:18 -0000
Received: (qmail 22305 invoked by uid 97); 2 Nov 2001 01:24:05 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 22289 invoked by uid 97); 2 Nov 2001 01:24:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22274 invoked from network); 2 Nov 2001 01:24:04 -0000
Message-ID: <20011102012403.1579.qmail@web14806.mail.yahoo.com>
Date: Thu, 1 Nov 2001 17:24:03 -0800 (PST)
From: cloud jun <cloudjun_other@yahoo.com>
Subject: compile lucene-1.2-rc2
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <5.1.0.14.2.20011101153351.02e72840@pop.quiotix.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi there,

I am having trouble to get lucene-1.2-rc2 compiled. I
use windows 2000 and have installed Ant and JavaCC,
but I guess there is some thing wrong in the
configuration file for the javaCC part. My
"build.properties" file in the lucene folder looks
like this:
-------------------------------------------
# Home directory of JavaCC
javacc.home = c:/java/javacc2_1/bin/lib
javacc.zip.dir = ${javacc.home}/lib
javacc.zip = ${javacc.zip.dir}/JavaCC.zip
-------------------------------------------

"c:/java/javacc2_1" is where I installed JavaCC. I
tried every combination with or without "/bin",
"/bin/lib", but all failed. And I also tried creating
a "ant.properties" file under the lucene folder with
"javacc.home" set to "c:/java/javacc2_1/bin/lib".

Any body who can tell me how to get lucene-1.2-rc2
compiled or is there any documentations on that? 

Thanks a lot.
jun


__________________________________________________
Do You Yahoo!?
Find a job, post your resume.
http://careers.yahoo.com

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-202-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 02 02:57:01 2001
Return-Path: <lucene-user-return-202-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 38176 invoked from network); 2 Nov 2001 02:57:01 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 2 Nov 2001 02:57:01 -0000
Received: (qmail 1133 invoked from network); 2 Nov 2001 02:59:22 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 2 Nov 2001 02:59:22 -0000
Received: (qmail 2091 invoked by uid 97); 2 Nov 2001 02:57:07 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 2052 invoked by uid 97); 2 Nov 2001 02:57:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 2041 invoked from network); 2 Nov 2001 02:57:06 -0000
Message-ID: <20011102025706.89035.qmail@web12707.mail.yahoo.com>
Date: Thu, 1 Nov 2001 18:57:06 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: test code
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <5.1.0.14.2.20011101153351.02e72840@pop.quiotix.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> >Or can anyone suggest a good, preferably
> >plain-text, static test collection?
> 
> The HTML output from the JavaDoc for JDK 1.3 isn't a bad candidate.

Or Lucene's Javadoc, so you kill two birds with a single stone.

Otis


__________________________________________________
Do You Yahoo!?
Find a job, post your resume.
http://careers.yahoo.com

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-203-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 02 03:01:04 2001
Return-Path: <lucene-user-return-203-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 39342 invoked from network); 2 Nov 2001 03:01:04 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 2 Nov 2001 03:01:04 -0000
Received: (qmail 1461 invoked from network); 2 Nov 2001 03:03:26 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 2 Nov 2001 03:03:26 -0000
Received: (qmail 3847 invoked by uid 97); 2 Nov 2001 03:01:10 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 3831 invoked by uid 97); 2 Nov 2001 03:01:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3820 invoked from network); 2 Nov 2001 03:01:09 -0000
Message-Id: <5.1.0.14.2.20011101190047.02eaa040@pop.quiotix.com>
X-Sender: popbrian@pop.quiotix.com
X-Mailer: QUALCOMM Windows Eudora Version 5.1
Date: Thu, 01 Nov 2001 19:01:02 -0800
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
From: Brian Goetz <brian@quiotix.com>
Subject: Re: test code
In-Reply-To: <20011102025706.89035.qmail@web12707.mail.yahoo.com>
References: <5.1.0.14.2.20011101153351.02e72840@pop.quiotix.com>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"; format=flowed
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


>Or Lucene's Javadoc, so you kill two birds with a single stone.

That's not static, though.


--
Brian Goetz
Quiotix Corporation
brian@quiotix.com           Tel: 650-843-1300            Fax: 650-324-8032

http://www.quiotix.com


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-204-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 02 03:04:28 2001
Return-Path: <lucene-user-return-204-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 40073 invoked from network); 2 Nov 2001 03:04:27 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 2 Nov 2001 03:04:27 -0000
Received: (qmail 1654 invoked from network); 2 Nov 2001 03:06:49 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 2 Nov 2001 03:06:49 -0000
Received: (qmail 5490 invoked by uid 97); 2 Nov 2001 03:04:33 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 5474 invoked by uid 97); 2 Nov 2001 03:04:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 5463 invoked from network); 2 Nov 2001 03:04:32 -0000
Message-ID: <20011102030433.11233.qmail@web12706.mail.yahoo.com>
Date: Thu, 1 Nov 2001 19:04:33 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: test code
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <5.1.0.14.2.20011101190047.02eaa040@pop.quiotix.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> >Or Lucene's Javadoc, so you kill two birds with a single stone.
> 
> That's not static, though.

Ah, that would be a requirement, right.
It would be a nice demo, though :)

Otis


__________________________________________________
Do You Yahoo!?
Find a job, post your resume.
http://careers.yahoo.com

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-205-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 02 03:12:43 2001
Return-Path: <lucene-user-return-205-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 42302 invoked from network); 2 Nov 2001 03:12:42 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 2 Nov 2001 03:12:42 -0000
Received: (qmail 1745 invoked from network); 2 Nov 2001 03:15:04 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 2 Nov 2001 03:15:04 -0000
Received: (qmail 8392 invoked by uid 97); 2 Nov 2001 03:12:49 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 8376 invoked by uid 97); 2 Nov 2001 03:12:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 8365 invoked from network); 2 Nov 2001 03:12:48 -0000
Message-ID: <20011102031248.86854.qmail@web12701.mail.yahoo.com>
Date: Thu, 1 Nov 2001 19:12:48 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: compile lucene-1.2-rc2
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20011102012403.1579.qmail@web14806.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

What exactly is the error that you are getting?
Is it an Ant error or a Lucene error?
Does Ant know to convert forward slashes to back slashes on Windows?
Have you tried using \ instead of / in those paths?

Otis

--- cloud jun <cloudjun_other@yahoo.com> wrote:
> Hi there,
> 
> I am having trouble to get lucene-1.2-rc2 compiled. I
> use windows 2000 and have installed Ant and JavaCC,
> but I guess there is some thing wrong in the
> configuration file for the javaCC part. My
> "build.properties" file in the lucene folder looks
> like this:
> -------------------------------------------
> # Home directory of JavaCC
> javacc.home = c:/java/javacc2_1/bin/lib
> javacc.zip.dir = ${javacc.home}/lib
> javacc.zip = ${javacc.zip.dir}/JavaCC.zip
> -------------------------------------------
> 
> "c:/java/javacc2_1" is where I installed JavaCC. I
> tried every combination with or without "/bin",
> "/bin/lib", but all failed. And I also tried creating
> a "ant.properties" file under the lucene folder with
> "javacc.home" set to "c:/java/javacc2_1/bin/lib".
> 
> Any body who can tell me how to get lucene-1.2-rc2
> compiled or is there any documentations on that? 
> 
> Thanks a lot.
> jun
> 
> 
> __________________________________________________
> Do You Yahoo!?
> Find a job, post your resume.
> http://careers.yahoo.com
> 
> --
> To unsubscribe, e-mail:  
> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
> <mailto:lucene-user-help@jakarta.apache.org>
> 


__________________________________________________
Do You Yahoo!?
Find a job, post your resume.
http://careers.yahoo.com

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-206-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 02 03:16:43 2001
Return-Path: <lucene-user-return-206-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 43042 invoked from network); 2 Nov 2001 03:16:43 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 2 Nov 2001 03:16:43 -0000
Received: (qmail 1822 invoked from network); 2 Nov 2001 03:19:04 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 2 Nov 2001 03:19:04 -0000
Received: (qmail 9742 invoked by uid 97); 2 Nov 2001 03:16:49 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 9726 invoked by uid 97); 2 Nov 2001 03:16:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 9715 invoked from network); 2 Nov 2001 03:16:48 -0000
From: "Tom Eskridge" <teskridge@ai.uwf.edu>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: Indexing problem
Date: Thu, 1 Nov 2001 21:16:04 -0600
Message-ID: <KKELINLDKFGDKOLENIGHOEKNCEAA.teskridge@ai.uwf.edu>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
In-Reply-To: <23F20BEC-CF2E-11D5-9BDE-0050E430F97C@montagetech.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I have seen this problem, too, since moving to 1.2 although I'm not sure
that 1.2 is the cause... but it is suspicious.

Tom Eskridge


> -----Original Message-----
> From: Daryl Thachuk [mailto:daryl@montagetech.com]
> Sent: Thursday, November 01, 2001 7:09 PM
> To: Lucene Users List
> Subject: Re: Indexing problem
>
>
> Since pre 1.2 versions of Lucene do not demonstrate this problem (I've
> confirmed this) I suspect something is not being closed properly in the
> index creation process.
>
> -d
>
> On Thursday, November 1, 2001, at 06:05  PM, Alex Paransky wrote:
>
> > I was getting the same error under Windows 2000.  It has something to do
> > with FileHandles being openned. When we were doing a few searches at the
> > same time, the file handles went as hight as 2000.  At around 2100, we
> > started to get this error.  I have searched some documentation, and all
> > the
> > docs I have found says that number of file handles in Windows is
> > limited by
> > memory.  Well, I have a 512MB of memory in this machine plus 700MB swap
> > space, so I cannot be running out of memory.
> >
> > To make the long story short, I don't know what is causing this problem
> > or
> > how to fix it.
> >
> > -AP_
> >
> ------
> Daryl Thachuk		daryl@montagetech.com
> Montage Technologies Inc.
> http://www.montagetech.com
>
>
> --
> To unsubscribe, e-mail:
> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
> <mailto:lucene-user-help@jakarta.apache.org>
>


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-207-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 02 07:31:51 2001
Return-Path: <lucene-user-return-207-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 13298 invoked from network); 2 Nov 2001 07:31:51 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 2 Nov 2001 07:31:51 -0000
Received: (qmail 16761 invoked from network); 2 Nov 2001 07:34:13 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 2 Nov 2001 07:34:13 -0000
Received: (qmail 2506 invoked by uid 97); 2 Nov 2001 07:32:00 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 2490 invoked by uid 97); 2 Nov 2001 07:31:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 2479 invoked from network); 2 Nov 2001 07:31:58 -0000
Message-ID: <20011102073153.74332.qmail@web14810.mail.yahoo.com>
Date: Thu, 1 Nov 2001 23:31:53 -0800 (PST)
From: cloud jun <cloudjun_other@yahoo.com>
Subject: Re: compile lucene-1.2-rc2
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20011102031248.86854.qmail@web12701.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Thanks, I have got it now. It's because I did not have
the optional jar for Ant. 

Here is some guide on how to compile lucene-1.2-rc2 in
case someone needs it:
1) Get Ant from the jakarta website, do not forget to
download the optional jar as well.
2) Get JavaCC from
http://www.webgain.com/products/java_cc/, this is
optional because lucene-1.2-rc2 come along with
javaCC.zip in its /lib folder.
3) Run ant from the lucene folder. You don't need to
change the builde.properties file, but the
configuration is there.

jun


--- Otis Gospodnetic <otis_gospodnetic@yahoo.com>
wrote:
> What exactly is the error that you are getting?
> Is it an Ant error or a Lucene error?
> Does Ant know to convert forward slashes to back
> slashes on Windows?
> Have you tried using \ instead of / in those paths?
> 
> Otis



__________________________________________________
Do You Yahoo!?
Find a job, post your resume.
http://careers.yahoo.com

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-208-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 02 12:10:42 2001
Return-Path: <lucene-user-return-208-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 95365 invoked from network); 2 Nov 2001 12:10:42 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 2 Nov 2001 12:10:42 -0000
Received: (qmail 16104 invoked from network); 2 Nov 2001 12:12:54 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 2 Nov 2001 12:12:54 -0000
Received: (qmail 26072 invoked by uid 97); 2 Nov 2001 12:10:40 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 26055 invoked by uid 97); 2 Nov 2001 12:10:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26026 invoked from network); 2 Nov 2001 12:10:39 -0000
Message-ID: <FABBF873F68ED311BB35009027D390723E2E9D@DARTH_BOBO>
From: Scott Ganyo <scott.ganyo@eTapestry.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Indexing problem
Date: Fri, 2 Nov 2001 07:13:55 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C16397.D7CD1DC0"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C16397.D7CD1DC0
Content-Type: text/plain;
	charset="iso-8859-1"

Yes.  You have too many open files.  There are a few things you can try.  1)
Increase the number of file handles your system has available.  Yes, there
is a setting for this in Windows.   2) Make sure that you have the
IndexWriter.maxMergeDocs set to Integer.MAX_VALUE (the default).  3) Try
smaller values for IndexWriter.mergeFactor (default is 10).  4) When all
else fails, do all your indexing in memory and then write it out to disk
when you're done.  Doug posted an example of this just a couple days ago.

Scott

> -----Original Message-----
> From: Daryl Thachuk [mailto:daryl@montagetech.com]
> Sent: Thursday, November 01, 2001 7:46 PM
> To: lucene-user@jakarta.apache.org
> Subject: Indexing problem
> 
> 
> Hi
> 
> Since upgrading to 1.2  we've started getting the following 
> error when 
> creating an index in a directory with a large amount of 
> files. Previous 
> versions of Lucene were quite happy to index this directory.
> 
> Any thoughts as to the cause?
> 
> -d
> 
> java.io.FileNotFoundException: 
> /private/Network/Servers/montage/Volumes/Disk2/Users/daryl/Lib
> rary/Index/index5.
> mtlibx/_n8.f3 (Too many open files)
> 	at java.io.RandomAccessFile.open(Native Method)
> 	at java.io.RandomAccessFile.<init>(RandomAccessFile.java:98)
> 	at java.io.RandomAccessFile.<init>(RandomAccessFile.java:143)
> 	at 
> org.apache.lucene.store.FSInputStream$Descriptor.<init>(Unknown 
> Source)
> 	at org.apache.lucene.store.FSInputStream.<init>(Unknown Source)
> 	at org.apache.lucene.store.FSDirectory.openFile(Unknown Source)
> 	at 
> org.apache.lucene.index.SegmentReader.openNorms(Unknown Source)
> 	at org.apache.lucene.index.SegmentReader.<init>(Unknown Source)
> 	at 
> org.apache.lucene.index.IndexWriter.mergeSegments(Unknown Source)
> 	at 
> org.apache.lucene.index.IndexWriter.mergeSegments(Unknown Source)
> 	at 
> org.apache.lucene.index.IndexWriter.maybeMergeSegments(Unknown 
> Source)
> 	at 
> org.apache.lucene.index.IndexWriter.addDocument(Unknown Source)
> 	at IndexCreator.indexDocs(IndexCreator.java:75)
> 	at IndexCreator.indexDocs(IndexCreator.java:67)
> 	at IndexCreator.indexDocs(IndexCreator.java:67)
> 	at IndexCreator.indexDocs(IndexCreator.java:67)
> 	at IndexCreator.indexDocs(IndexCreator.java:67)
> 	at IndexCreator.indexDocs(IndexCreator.java:67)
> 	at IndexCreator.createIndex(IndexCreator.java:44)
> 
> ------
> Daryl Thachuk		daryl@montagetech.com
> Montage Technologies Inc.
> http://www.montagetech.com
> 
> 
> --
> To unsubscribe, e-mail:   
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>

------_=_NextPart_001_01C16397.D7CD1DC0--

From lucene-user-return-209-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 02 12:20:53 2001
Return-Path: <lucene-user-return-209-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 99929 invoked from network); 2 Nov 2001 12:20:52 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 2 Nov 2001 12:20:52 -0000
Received: (qmail 18030 invoked from network); 2 Nov 2001 12:23:05 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 2 Nov 2001 12:23:05 -0000
Received: (qmail 5117 invoked by uid 97); 2 Nov 2001 12:20:51 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 5051 invoked by uid 97); 2 Nov 2001 12:20:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4985 invoked from network); 2 Nov 2001 12:20:46 -0000
Message-ID: <FABBF873F68ED311BB35009027D390723E2E9E@DARTH_BOBO>
From: Scott Ganyo <scott.ganyo@eTapestry.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Problems with prohibited BooleanQueries
Date: Fri, 2 Nov 2001 07:24:11 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C16399.46CEAB20"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C16399.46CEAB20
Content-Type: text/plain;
	charset="iso-8859-1"

I don't use a query parser at all, so that's no issue.  I just need a
BooleanQuery to realize that it only has negative clauses and do the right
thing.  Right now I have to include a bogus static field in every single
document so that I can use a TermQuery on that bogus field as the left side
of a BooleanQuery subtract.  Sure, it works, but it ain't pretty...

Scott

> -----Original Message-----
> From: Doug Cutting [mailto:DCutting@grandcentral.com]
> Sent: Thursday, November 01, 2001 10:49 AM
> To: 'Lucene Users List'
> Subject: RE: Problems with prohibited BooleanQueries
> 
> 
> > From: Scott Ganyo [mailto:scott.ganyo@eTapestry.com]
> > 
> > How difficult would it be to get BooleanQuery to do a 
> > standalone NOT, do you
> > suppose?  That would be very useful in my case.
> 
> It would not be that difficult, but it would make queries 
> slow.  All terms
> not containing a term would need to be enumerated.  Since 
> most terms occur
> in only a small percentage of the documents, most NOT queries 
> would return
> most documents.
> 
> Scoring would also be strange.  I guess you'd give them all a 
> score of 1.0,
> and hope that the query is nested in a more complex query that will
> differentiate the scores.  But if it's nested, then you could 
> do it with
> BooleanQuery as it stands...
> 
> So, my question to you is: do you actually want lists of all 
> documents that
> do not contain a term, or, rather, do you want to use negation in the
> context of other query terms, and are having trouble getting 
> your query
> parser to build BooleanQueries?
> 
> Doug
> 
> --
> To unsubscribe, e-mail:   
> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail: 
<mailto:lucene-user-help@jakarta.apache.org>

------_=_NextPart_001_01C16399.46CEAB20--

From lucene-user-return-210-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 02 14:13:16 2001
Return-Path: <lucene-user-return-210-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 50045 invoked from network); 2 Nov 2001 14:13:16 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 2 Nov 2001 14:13:16 -0000
Received: (qmail 5648 invoked from network); 2 Nov 2001 14:15:30 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 2 Nov 2001 14:15:30 -0000
Received: (qmail 7439 invoked by uid 97); 2 Nov 2001 14:13:15 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 7423 invoked by uid 97); 2 Nov 2001 14:13:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7411 invoked from network); 2 Nov 2001 14:13:14 -0000
Message-ID: <1718B3F8E2E0D31181A100508B94EECC036A3C78@USCAMEXCP003>
From: Paul Friedman <pfriedman@macromedia.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Indexing problem
Date: Fri, 2 Nov 2001 09:12:58 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Where can I get Doug's example of indexing in memory and then writing it out
to disk? I just recently subscribed to this list and I can't find it in the
archive.  

Thanks.
Paul

-----Original Message-----
From: Scott Ganyo [mailto:scott.ganyo@eTapestry.com]
Sent: Friday, November 02, 2001 7:14 AM
To: 'Lucene Users List'
Subject: RE: Indexing problem


Yes.  You have too many open files.  There are a few things you can try.  1)
Increase the number of file handles your system has available.  Yes, there
is a setting for this in Windows.   2) Make sure that you have the
IndexWriter.maxMergeDocs set to Integer.MAX_VALUE (the default).  3) Try
smaller values for IndexWriter.mergeFactor (default is 10).  4) When all
else fails, do all your indexing in memory and then write it out to disk
when you're done.  Doug posted an example of this just a couple days ago.

Scott

> -----Original Message-----
> From: Daryl Thachuk [mailto:daryl@montagetech.com]
> Sent: Thursday, November 01, 2001 7:46 PM
> To: lucene-user@jakarta.apache.org
> Subject: Indexing problem
> 
> 
> Hi
> 
> Since upgrading to 1.2  we've started getting the following 
> error when 
> creating an index in a directory with a large amount of 
> files. Previous 
> versions of Lucene were quite happy to index this directory.
> 
> Any thoughts as to the cause?
> 
> -d
> 
> java.io.FileNotFoundException: 
> /private/Network/Servers/montage/Volumes/Disk2/Users/daryl/Lib
> rary/Index/index5.
> mtlibx/_n8.f3 (Too many open files)
> 	at java.io.RandomAccessFile.open(Native Method)
> 	at java.io.RandomAccessFile.<init>(RandomAccessFile.java:98)
> 	at java.io.RandomAccessFile.<init>(RandomAccessFile.java:143)
> 	at 
> org.apache.lucene.store.FSInputStream$Descriptor.<init>(Unknown 
> Source)
> 	at org.apache.lucene.store.FSInputStream.<init>(Unknown Source)
> 	at org.apache.lucene.store.FSDirectory.openFile(Unknown Source)
> 	at 
> org.apache.lucene.index.SegmentReader.openNorms(Unknown Source)
> 	at org.apache.lucene.index.SegmentReader.<init>(Unknown Source)
> 	at 
> org.apache.lucene.index.IndexWriter.mergeSegments(Unknown Source)
> 	at 
> org.apache.lucene.index.IndexWriter.mergeSegments(Unknown Source)
> 	at 
> org.apache.lucene.index.IndexWriter.maybeMergeSegments(Unknown 
> Source)
> 	at 
> org.apache.lucene.index.IndexWriter.addDocument(Unknown Source)
> 	at IndexCreator.indexDocs(IndexCreator.java:75)
> 	at IndexCreator.indexDocs(IndexCreator.java:67)
> 	at IndexCreator.indexDocs(IndexCreator.java:67)
> 	at IndexCreator.indexDocs(IndexCreator.java:67)
> 	at IndexCreator.indexDocs(IndexCreator.java:67)
> 	at IndexCreator.indexDocs(IndexCreator.java:67)
> 	at IndexCreator.createIndex(IndexCreator.java:44)
> 
> ------
> Daryl Thachuk		daryl@montagetech.com
> Montage Technologies Inc.
> http://www.montagetech.com
> 
> 
> --
> To unsubscribe, e-mail:   
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-211-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 02 15:06:57 2001
Return-Path: <lucene-user-return-211-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 86492 invoked from network); 2 Nov 2001 15:06:57 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 2 Nov 2001 15:06:57 -0000
Received: (qmail 21206 invoked from network); 2 Nov 2001 15:09:13 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 2 Nov 2001 15:09:13 -0000
Received: (qmail 22774 invoked by uid 97); 2 Nov 2001 15:06:57 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 22758 invoked by uid 97); 2 Nov 2001 15:06:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22720 invoked from network); 2 Nov 2001 15:06:56 -0000
Message-ID: <002d01c163af$ef72f680$cdcef0c3@ikke>
From: "Ronald Muller" <rk.muller@12move.nl>
To: <lucene-user@jakarta.apache.org>
Subject: Where can I find the source of StandardTokenizerConstants ??
Date: Fri, 2 Nov 2001 16:06:19 +0100
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_002A_01C163B8.4F276A40"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.00.2919.6600
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2919.6600
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_002A_01C163B8.4F276A40
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable



------=_NextPart_000_002A_01C163B8.4F276A40--


From lucene-user-return-212-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 02 15:43:57 2001
Return-Path: <lucene-user-return-212-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 10274 invoked from network); 2 Nov 2001 15:43:57 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 2 Nov 2001 15:43:57 -0000
Received: (qmail 108 invoked from network); 2 Nov 2001 15:46:12 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 2 Nov 2001 15:46:12 -0000
Received: (qmail 8192 invoked by uid 97); 2 Nov 2001 15:43:56 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 8177 invoked by uid 97); 2 Nov 2001 15:43:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 8166 invoked from network); 2 Nov 2001 15:43:55 -0000
Message-ID: <FABBF873F68ED311BB35009027D390723E2EA2@DARTH_BOBO>
From: Scott Ganyo <scott.ganyo@eTapestry.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Indexing problem
Date: Fri, 2 Nov 2001 10:47:18 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C163B5.A6C763C0"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C163B5.A6C763C0
Content-Type: text/plain;
	charset="iso-8859-1"

Well, I don't know if there's an archive of the list, so this what Doug
wrote:

"
A more efficient and slightly more complex approach would be to build large
indexes in RAM, and copy them to disk with IndexWriter.addIndexes:
  IndexWriter fsWriter = new IndexWriter(new File(...), analyzer, true);
  while (... more docs to index...)
    RAMDirectory ramDir = new RAMDirectory();
    IndexWriter ramWriter = new IndexWriter(ramDir, analyzer, true);
    ... add 100,000 docs to ramWriter ...
    ramWriter.optimize();
    ramWriter.close();
    fsWriter.addIndexes(new Directory[] { ramDir });
  }
  fsWriter.optimize();
  fsWriter.close();
"

Scott

> -----Original Message-----
> From: Paul Friedman [mailto:pfriedman@macromedia.com]
> Sent: Friday, November 02, 2001 9:13 AM
> To: 'Lucene Users List'
> Subject: RE: Indexing problem
> 
> 
> Where can I get Doug's example of indexing in memory and then 
> writing it out
> to disk? I just recently subscribed to this list and I can't 
> find it in the
> archive.  
> 
> Thanks.
> Paul
> 
> -----Original Message-----
> From: Scott Ganyo [mailto:scott.ganyo@eTapestry.com]
> Sent: Friday, November 02, 2001 7:14 AM
> To: 'Lucene Users List'
> Subject: RE: Indexing problem
> 
> 
> Yes.  You have too many open files.  There are a few things 
> you can try.  1)
> Increase the number of file handles your system has 
> available.  Yes, there
> is a setting for this in Windows.   2) Make sure that you have the
> IndexWriter.maxMergeDocs set to Integer.MAX_VALUE (the 
> default).  3) Try
> smaller values for IndexWriter.mergeFactor (default is 10).  
> 4) When all
> else fails, do all your indexing in memory and then write it 
> out to disk
> when you're done.  Doug posted an example of this just a 
> couple days ago.
> 
> Scott
> 
> > -----Original Message-----
> > From: Daryl Thachuk [mailto:daryl@montagetech.com]
> > Sent: Thursday, November 01, 2001 7:46 PM
> > To: lucene-user@jakarta.apache.org
> > Subject: Indexing problem
> > 
> > 
> > Hi
> > 
> > Since upgrading to 1.2  we've started getting the following 
> > error when 
> > creating an index in a directory with a large amount of 
> > files. Previous 
> > versions of Lucene were quite happy to index this directory.
> > 
> > Any thoughts as to the cause?
> > 
> > -d
> > 
> > java.io.FileNotFoundException: 
> > /private/Network/Servers/montage/Volumes/Disk2/Users/daryl/Lib
> > rary/Index/index5.
> > mtlibx/_n8.f3 (Too many open files)
> > 	at java.io.RandomAccessFile.open(Native Method)
> > 	at java.io.RandomAccessFile.<init>(RandomAccessFile.java:98)
> > 	at java.io.RandomAccessFile.<init>(RandomAccessFile.java:143)
> > 	at 
> > org.apache.lucene.store.FSInputStream$Descriptor.<init>(Unknown 
> > Source)
> > 	at org.apache.lucene.store.FSInputStream.<init>(Unknown Source)
> > 	at org.apache.lucene.store.FSDirectory.openFile(Unknown Source)
> > 	at 
> > org.apache.lucene.index.SegmentReader.openNorms(Unknown Source)
> > 	at org.apache.lucene.index.SegmentReader.<init>(Unknown Source)
> > 	at 
> > org.apache.lucene.index.IndexWriter.mergeSegments(Unknown Source)
> > 	at 
> > org.apache.lucene.index.IndexWriter.mergeSegments(Unknown Source)
> > 	at 
> > org.apache.lucene.index.IndexWriter.maybeMergeSegments(Unknown 
> > Source)
> > 	at 
> > org.apache.lucene.index.IndexWriter.addDocument(Unknown Source)
> > 	at IndexCreator.indexDocs(IndexCreator.java:75)
> > 	at IndexCreator.indexDocs(IndexCreator.java:67)
> > 	at IndexCreator.indexDocs(IndexCreator.java:67)
> > 	at IndexCreator.indexDocs(IndexCreator.java:67)
> > 	at IndexCreator.indexDocs(IndexCreator.java:67)
> > 	at IndexCreator.indexDocs(IndexCreator.java:67)
> > 	at IndexCreator.createIndex(IndexCreator.java:44)
> > 
> > ------
> > Daryl Thachuk		daryl@montagetech.com
> > Montage Technologies Inc.
> > http://www.montagetech.com
> > 
> > 
> > --
> > To unsubscribe, e-mail:   
> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
> <mailto:lucene-user-help@jakarta.apache.org>
> 
> --
> To unsubscribe, e-mail:   
> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail: 
> <mailto:lucene-user-help@jakarta.apache.org>
> 

------_=_NextPart_001_01C163B5.A6C763C0--

From lucene-user-return-213-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 02 16:08:01 2001
Return-Path: <lucene-user-return-213-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 29471 invoked from network); 2 Nov 2001 16:08:00 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 2 Nov 2001 16:08:00 -0000
Received: (qmail 13611 invoked from network); 2 Nov 2001 16:10:17 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 2 Nov 2001 16:10:17 -0000
Received: (qmail 1840 invoked by uid 97); 2 Nov 2001 16:06:48 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 1803 invoked by uid 97); 2 Nov 2001 16:06:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1759 invoked from network); 2 Nov 2001 16:06:47 -0000
Date: Fri, 2 Nov 2001 09:03:11 -0700
Subject: Re: Indexing problem
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v472)
From: Daryl Thachuk <daryl@montagetech.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <FABBF873F68ED311BB35009027D390723E2E9D@DARTH_BOBO>
Message-Id: <1D05812A-CFAB-11D5-BFCA-0050E430F97C@montagetech.com>
X-Mailer: Apple Mail (2.472)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


A question I'd like answered is, why do I now have to be concerned about 
having too many files open when before I didn't? What has changed to 
cause this? This sounds like a bug to me.

-d

On Friday, November 2, 2001, at 05:13  AM, Scott Ganyo wrote:

> Yes.  You have too many open files.  There are a few things you can 
> try.  1)
> Increase the number of file handles your system has available.  Yes, 
> there
> is a setting for this in Windows.   2) Make sure that you have the
> IndexWriter.maxMergeDocs set to Integer.MAX_VALUE (the default).  3) Try
> smaller values for IndexWriter.mergeFactor (default is 10).  4) When all
> else fails, do all your indexing in memory and then write it out to disk
> when you're done.  Doug posted an example of this just a couple days 
> ago.
>
------
Daryl Thachuk		daryl@montagetech.com
Montage Technologies Inc.
http://www.montagetech.com


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-214-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 02 16:14:44 2001
Return-Path: <lucene-user-return-214-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 33627 invoked from network); 2 Nov 2001 16:14:44 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 2 Nov 2001 16:14:44 -0000
Received: (qmail 16856 invoked from network); 2 Nov 2001 16:17:00 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 2 Nov 2001 16:17:00 -0000
Received: (qmail 17434 invoked by uid 97); 2 Nov 2001 16:14:08 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 17260 invoked by uid 97); 2 Nov 2001 16:14:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17215 invoked from network); 2 Nov 2001 16:14:04 -0000
X-Mailer: xSmtpClient
Reply-To: <jaxtrx@xde.net>
From: "jaxtrx" <jaxtrx@xde.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: Indexing problem
Date: Fri, 2 Nov 2001 10:12:07 -0600
Message-ID: <NBBBJGHIGKGNOCLCNFDKCEHJHGAA.jaxtrx@xde.net>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4807.1700
Importance: Normal
In-Reply-To: <1D05812A-CFAB-11D5-BFCA-0050E430F97C@montagetech.com>
X-MDaemon-Deliver-To: lucene-user@jakarta.apache.org
X-Return-Path: jaxtrx@xde.net
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Don't know if this helps, but I indexed over 600,000 150k html files on W2K
and linux, then I did 40,000 2mb html files and didn't have any issues.  I
used the demo html indexer class.



-----Original Message-----
From: Daryl Thachuk [mailto:daryl@montagetech.com]
Sent: Friday, November 02, 2001 10:03 AM
To: Lucene Users List
Subject: Re: Indexing problem



A question I'd like answered is, why do I now have to be concerned about
having too many files open when before I didn't? What has changed to
cause this? This sounds like a bug to me.

-d

On Friday, November 2, 2001, at 05:13  AM, Scott Ganyo wrote:

> Yes.  You have too many open files.  There are a few things you can
> try.  1)
> Increase the number of file handles your system has available.  Yes,
> there
> is a setting for this in Windows.   2) Make sure that you have the
> IndexWriter.maxMergeDocs set to Integer.MAX_VALUE (the default).  3) Try
> smaller values for IndexWriter.mergeFactor (default is 10).  4) When all
> else fails, do all your indexing in memory and then write it out to disk
> when you're done.  Doug posted an example of this just a couple days
> ago.
>
------
http://www.montagetech.com


--
To unsubscribe, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>
For additional commands, e-mail:



--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-215-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 02 16:19:34 2001
Return-Path: <lucene-user-return-215-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 35927 invoked from network); 2 Nov 2001 16:19:34 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 2 Nov 2001 16:19:34 -0000
Received: (qmail 18209 invoked from network); 2 Nov 2001 16:21:49 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 2 Nov 2001 16:21:49 -0000
Received: (qmail 25960 invoked by uid 97); 2 Nov 2001 16:19:33 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 25944 invoked by uid 97); 2 Nov 2001 16:19:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25933 invoked from network); 2 Nov 2001 16:19:32 -0000
Date: Fri, 2 Nov 2001 09:15:56 -0700
Subject: Re: Indexing problem
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v472)
From: Daryl Thachuk <daryl@montagetech.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <NBBBJGHIGKGNOCLCNFDKCEHJHGAA.jaxtrx@xde.net>
Message-Id: <E56D9CDD-CFAC-11D5-BFCA-0050E430F97C@montagetech.com>
X-Mailer: Apple Mail (2.472)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

What version of Lucene did you use?

-d

On Friday, November 2, 2001, at 09:12  AM, jaxtrx wrote:

> Don't know if this helps, but I indexed over 600,000 150k html files on 
> W2K
> and linux, then I did 40,000 2mb html files and didn't have any 
> issues.  I
> used the demo html indexer class.
>
------
Daryl Thachuk		daryl@montagetech.com
Montage Technologies Inc.
http://www.montagetech.com


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-216-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 02 16:25:59 2001
Return-Path: <lucene-user-return-216-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 41597 invoked from network); 2 Nov 2001 16:25:58 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 2 Nov 2001 16:25:58 -0000
Received: (qmail 21170 invoked from network); 2 Nov 2001 16:28:15 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 2 Nov 2001 16:28:15 -0000
Received: (qmail 3540 invoked by uid 97); 2 Nov 2001 16:24:48 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 3488 invoked by uid 97); 2 Nov 2001 16:24:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3373 invoked from network); 2 Nov 2001 16:24:37 -0000
X-Mailer: xSmtpClient
Reply-To: <jaxtrx@xde.net>
From: "jaxtrx" <jaxtrx@xde.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: Indexing problem
Date: Fri, 2 Nov 2001 10:23:27 -0600
Message-ID: <NBBBJGHIGKGNOCLCNFDKMEHKHGAA.jaxtrx@xde.net>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4807.1700
Importance: Normal
In-Reply-To: <E56D9CDD-CFAC-11D5-BFCA-0050E430F97C@montagetech.com>
X-MDaemon-Deliver-To: lucene-user@jakarta.apache.org
X-Return-Path: jaxtrx@xde.net
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

lucene-1.2-rc2

-----Original Message-----
From: Daryl Thachuk [mailto:daryl@montagetech.com]
Sent: Friday, November 02, 2001 10:16 AM
To: Lucene Users List
Subject: Re: Indexing problem


What version of Lucene did you use?

-d

On Friday, November 2, 2001, at 09:12  AM, jaxtrx wrote:

> Don't know if this helps, but I indexed over 600,000 150k html files on
> W2K
> and linux, then I did 40,000 2mb html files and didn't have any
> issues.  I
> used the demo html indexer class.
>
------
http://www.montagetech.com


--
To unsubscribe, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>
For additional commands, e-mail:



--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-217-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 02 17:01:45 2001
Return-Path: <lucene-user-return-217-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 67380 invoked from network); 2 Nov 2001 17:01:44 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 2 Nov 2001 17:01:44 -0000
Received: (qmail 8064 invoked from network); 2 Nov 2001 17:04:01 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 2 Nov 2001 17:04:01 -0000
Received: (qmail 21634 invoked by uid 97); 2 Nov 2001 17:01:00 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 21278 invoked by uid 97); 2 Nov 2001 17:00:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 21167 invoked from network); 2 Nov 2001 17:00:48 -0000
Message-ID: <4BC270C6AB8AD411AD0B00B0D0493DF0EE7CE1@mail.grandcentral.com>
From: Doug Cutting <DCutting@grandcentral.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Indexing problem
Date: Fri, 2 Nov 2001 08:49:31 -0800 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> From: Daryl Thachuk [mailto:daryl@montagetech.com]
> 
> A question I'd like answered is, why do I now have to be 
> concerned about 
> having too many files open when before I didn't? What has changed to 
> cause this? This sounds like a bug to me.

Sigh.

IndexReader now keeps all files that are not read entirely into memory open
as long as the IndexReader is open.  This was to fix the bug where another
thread or process, while updating the index, would delete files that an open
index reader might need.  So there are now a few more files kept open per
segment, making it easier to run out of file handles.  IndexWriter uses
IndexReader internally, so the number of open files while indexing has also
increased.

In particular, there are five files, plus one per field, kept open per
segment.  While indexing, a maximum of IndexWriter.MergeFactor+1 segments
are ever open at once.  So a million document, three field index with
IndexWriter.MergeFactor=10, would have a maximum of 88 files open at a time
while indexing.

Note however, that an IndexReader must keep all segments open.  The maximum
number of segments in an index is (k - 1) * ( log_k(N) - 1), where k is the
IndexWriter.mergeFactor and N is the number of documents.  So an index with
a million documents could have up to 45 segments (on average it will have
22.5).  With three fields, an unoptimized IndexReader would require a
maximum of 360 open files.  Once optimized to a single segment, it would
require only 8 open files.

In practice, this should not be a problem.  Have you raised
IndexWriter.mergeFactor?  If so, try lowering it to the default, 10.  Are
you also opening IndexReaders in the same process?  If so, keep just one per
index, shared by all search threads, and, if possible, only open a new one
when the index has just been optimized.  Ideally, document additions should
be batched, and finished by a call to optimize().  Not only do optimized
indexes have fewer files open, but they're must faster to search.

Strictly speaking, since there is only supposed to be a single writer for an
index at a time, IndexWriter does not need to keep files open except when it
is using them.  So the number of file handles used while indexing could be
reduced if IndexWriter were permitted to open IndexReaders in a special
private mode, where files are opened on demand and closed prompty.  That
said, this might permit you to more easily create an index that you cannot
read!

On the upside, at search time, each query used to open a file per term (two
files per phrase term) per segment.  So big queries, or lots of concurrent
small ones, used to run out of file handles.  This is no longer the case.
IndexReader now opens every file once and only once.  Now it just keeps most
of them open...

Doug


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-218-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 02 17:10:09 2001
Return-Path: <lucene-user-return-218-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 72645 invoked from network); 2 Nov 2001 17:10:09 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 2 Nov 2001 17:10:09 -0000
Received: (qmail 12486 invoked from network); 2 Nov 2001 17:12:25 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 2 Nov 2001 17:12:25 -0000
Received: (qmail 6724 invoked by uid 97); 2 Nov 2001 17:08:31 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 6708 invoked by uid 97); 2 Nov 2001 17:08:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6693 invoked from network); 2 Nov 2001 17:08:30 -0000
Date: Fri, 2 Nov 2001 10:04:54 -0700
Subject: Re: Indexing problem
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v472)
From: Daryl Thachuk <daryl@montagetech.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <4BC270C6AB8AD411AD0B00B0D0493DF0EE7CE1@mail.grandcentral.com>
Message-Id: <BC6561A7-CFB3-11D5-BFCA-0050E430F97C@montagetech.com>
X-Mailer: Apple Mail (2.472)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

That makes sense. Thanks for the explanation Dave. I'll make the 
appropriate changes to my code.

Thanks again for your help

-daryl

On Friday, November 2, 2001, at 09:49  AM, Doug Cutting wrote:

> Sigh.
>
> IndexReader now keeps all files that are not read entirely into memory 
> open
> as long as the IndexReader is open.  This was to fix the bug where 
> another
> thread or process, while updating the index, would delete files that an 
> open
> index reader might need.  So there are now a few more files kept open 
> per
> segment, making it easier to run out of file handles.  IndexWriter uses
> IndexReader internally, so the number of open files while indexing has 
> also
> increased.
>
> In particular, there are five files, plus one per field, kept open per
> segment.  While indexing, a maximum of IndexWriter.MergeFactor+1 
> segments
> are ever open at once.  So a million document, three field index with
> IndexWriter.MergeFactor=10, would have a maximum of 88 files open at a 
> time
> while indexing.
>
> Note however, that an IndexReader must keep all segments open.  The 
> maximum
> number of segments in an index is (k - 1) * ( log_k(N) - 1), where k is 
> the
> IndexWriter.mergeFactor and N is the number of documents.  So an index 
> with
> a million documents could have up to 45 segments (on average it will 
> have
> 22.5).  With three fields, an unoptimized IndexReader would require a
> maximum of 360 open files.  Once optimized to a single segment, it would
> require only 8 open files.
>
> In practice, this should not be a problem.  Have you raised
> IndexWriter.mergeFactor?  If so, try lowering it to the default, 10.  
> Are
> you also opening IndexReaders in the same process?  If so, keep just 
> one per
> index, shared by all search threads, and, if possible, only open a new 
> one
> when the index has just been optimized.  Ideally, document additions 
> should
> be batched, and finished by a call to optimize().  Not only do optimized
> indexes have fewer files open, but they're must faster to search.
>
> Strictly speaking, since there is only supposed to be a single writer 
> for an
> index at a time, IndexWriter does not need to keep files open except 
> when it
> is using them.  So the number of file handles used while indexing could 
> be
> reduced if IndexWriter were permitted to open IndexReaders in a special
> private mode, where files are opened on demand and closed prompty.  That
> said, this might permit you to more easily create an index that you 
> cannot
> read!
>
> On the upside, at search time, each query used to open a file per term 
> (two
> files per phrase term) per segment.  So big queries, or lots of 
> concurrent
> small ones, used to run out of file handles.  This is no longer the 
> case.
> IndexReader now opens every file once and only once.  Now it just keeps 
> most
> of them open...
>
> Doug
>
>
>
------
Daryl Thachuk		daryl@montagetech.com
Montage Technologies Inc.
http://www.montagetech.com


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-219-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 02 17:22:57 2001
Return-Path: <lucene-user-return-219-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 82096 invoked from network); 2 Nov 2001 17:22:57 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 2 Nov 2001 17:22:57 -0000
Received: (qmail 21048 invoked from network); 2 Nov 2001 17:25:13 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 2 Nov 2001 17:25:13 -0000
Received: (qmail 8848 invoked by uid 97); 2 Nov 2001 17:20:11 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 8668 invoked by uid 97); 2 Nov 2001 17:20:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 8593 invoked from network); 2 Nov 2001 17:20:05 -0000
Message-ID: <4BC270C6AB8AD411AD0B00B0D0493DF0EE7CE3@mail.grandcentral.com>
From: Doug Cutting <DCutting@grandcentral.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: compile lucene-1.2-rc2
Date: Fri, 2 Nov 2001 09:08:48 -0800 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

This looks like a good start for a top-level README.txt, which we need
before the 1.2 final.  Besides build instructions, this should include
pointers to the documentation.  Anything else folks can think of?

One correction: We should not mention downloading JavaCC, just ant and
ant-optional.jar.

Anyone want to draft the README.txt?

Doug

> -----Original Message-----
> From: cloud jun [mailto:cloudjun_other@yahoo.com]
> Sent: Thursday, November 01, 2001 11:32 PM
> To: Lucene Users List
> Subject: Re: compile lucene-1.2-rc2
> 
> 
> Thanks, I have got it now. It's because I did not have
> the optional jar for Ant. 
> 
> Here is some guide on how to compile lucene-1.2-rc2 in
> case someone needs it:
> 1) Get Ant from the jakarta website, do not forget to
> download the optional jar as well.
> 2) Get JavaCC from
> http://www.webgain.com/products/java_cc/, this is
> optional because lucene-1.2-rc2 come along with
> javaCC.zip in its /lib folder.
> 3) Run ant from the lucene folder. You don't need to
> change the builde.properties file, but the
> configuration is there.
> 
> jun
> 
> 
> --- Otis Gospodnetic <otis_gospodnetic@yahoo.com>
> wrote:
> > What exactly is the error that you are getting?
> > Is it an Ant error or a Lucene error?
> > Does Ant know to convert forward slashes to back
> > slashes on Windows?
> > Have you tried using \ instead of / in those paths?
> > 
> > Otis
> 
> 
> 
> __________________________________________________
> Do You Yahoo!?
> Find a job, post your resume.
> http://careers.yahoo.com
> 
> --
> To unsubscribe, e-mail:   
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-220-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 02 21:05:17 2001
Return-Path: <lucene-user-return-220-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 18971 invoked from network); 2 Nov 2001 21:05:17 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 2 Nov 2001 21:05:17 -0000
Received: (qmail 2020 invoked from network); 2 Nov 2001 21:07:36 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 2 Nov 2001 21:07:36 -0000
Received: (qmail 9016 invoked by uid 97); 2 Nov 2001 21:05:21 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 8990 invoked by uid 97); 2 Nov 2001 21:05:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 8979 invoked from network); 2 Nov 2001 21:05:19 -0000
Subject: Re: compile lucene-1.2-rc2
In-Reply-To: <4BC270C6AB8AD411AD0B00B0D0493DF0EE7CE3@mail.grandcentral.com>
 "from Doug Cutting at Nov 2, 2001 09:08:48 am"
To: Lucene Users List <lucene-user@jakarta.apache.org>
Date: Fri, 2 Nov 2001 14:11:12 -0500 (EST)
X-Mailer: ELM [version 2.4ME+ PL89 (25)]
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset=US-ASCII
Message-Id: <20011102191112.160433C0C3@darksleep.com>
From: puffmail@darksleep.com (Steven J. Owens)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

[ Charset ISO-8859-1 unsupported, converting... ]
> This looks like a good start for a top-level README.txt, which we need
> before the 1.2 final.  Besides build instructions, this should include
> pointers to the documentation.  Anything else folks can think of?
> 
> One correction: We should not mention downloading JavaCC, just ant and
> ant-optional.jar.
> 
> Anyone want to draft the README.txt?

     I'll try to spend a couple hours on this later today.  I checked
out the jarkarta-lucene CVS archive last night to start playing with
the thread-safe version.  Might as well build it from scratch.  

     What is your goal for the README.txt?  Maybe it should point to
"build.txt" for build-from-checkout directions, another file for using
the .jar version, and another for the demo stuff?

     Okay, I went ahead and wrote a rough draft (included below).
But I have to do a bit more fiddling before I'm done.  I have two
questions; one, what version(s) of Ant does Lucene require, and two,
what versions of java can Lucene be built with and run with?

     As you'll see if you read all of the following, my initial
attempt at following these instructions failed.  The build.properties
and the build.xml look for a "jarkata-site2" directory parallel to the
checkout directory.  I'm going to save this, go back to the mailing
list, and reread the recent messages to see if this is addresesd.


Build Instructions for Lucene-1.2-rc2

Basic steps:
     0) download lucene-1.2-rc2 from the Apache Project
     1) set up the JDK, Ant, and the Ant optional.jar
     2) cd into the top folder of the jakarta-lucene checkout
     3) run ant

Step 0) download lucene-1.2-rc2 from the Apache Project

     We'll assume you already did Step 0, or you wouldn't be reading
this file.  However, you might have received this file by some
alternate route, or you might have an incomplete copy of the Lucene,
so:

     Lucene 1.2-rc2 is available for download at:

http://jakarta.apache.org/builds/jakarta-lucene/release/v1.2-rc2/

     Download either a zip or a tarred/gzipped version of the archive,
and uncompress it into a directory of your choice.

Step 1) Set up your development environment (JDK, Ant, Ant optional jar).

     We'll assume that you know how to get and set up the JDK - if you
don't, then we suggest starting at http://java.sun.com and learning more
about Java, before returning to this README.

     Lucene works with JDK 1.3.  Lucene works with earlier versions of
Java (WHICH VERSIONS?).  However, if you're going to work with the
development version of Lucene, we recommend you stick with the most
current version of Java.

     Lucene uses Apache Ant, like most of the Jakarta projects, for
build control.  Ant is "kind of like make without make's wrinkles".
Ant is implemented in java and uses XML-based configuration files.
You can get it at:

     http://jakarta.apache.org/ant/index.html

     Specifically, you can get the binary distributions at:

     http://jakarta.apache.org/builds/jakarta-ant/release/v1.4.1/bin/

     (AGAIN, WHICH VERSIONS OF ANT?  Obviously recommend the latest
version, but does it work with any earlier versions?)

     You'll need to download both the Ant binary distribution 
optional jar file.  Install the binary distribution according to
the instructions under the "Installing Ant" link at:

     http://jakarta.apache.org/ant/manual/index.html

Step 3) Cd into the top folder of the jarkata-lucene checkout.

     The top directory of the checkout contains the build.properties
and build.xml files.  You don't need to change any of the settings in
these files, but you do need to run ant from this location so it knows
where to find them.

Step 4) Run ant.

     Assuming you have ant in your PATH and both of the ant jars (the
main jar and the optional jar) in your CLASSPATH, simply entering
"ant" at the shell prompt and command prompt should invoke ant, and
ant will by default look for the "build.xml" file in your current
directory, where it should find it.

     Okay, so this first draft didn't work out so well.  I just followed
my own instructions and I got:

$ ant
Buildfile: build.xml

BUILD FAILED

C:\cygwin\home\Administrator\jakarta-lucene\build.xml:29: C:\cygwin\home\Administrator\jakarta-site2\lib not found.

Total time: 2 seconds


     Back to the drawing board, I'll have to check the list for recent
comments about this and see what I'm doing wrong.

Steven J. Owens
puff@darksleep.com

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-221-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 02 21:24:00 2001
Return-Path: <lucene-user-return-221-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 28906 invoked from network); 2 Nov 2001 21:24:00 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 2 Nov 2001 21:24:00 -0000
Received: (qmail 8845 invoked from network); 2 Nov 2001 21:26:20 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 2 Nov 2001 21:26:20 -0000
Received: (qmail 3507 invoked by uid 97); 2 Nov 2001 21:22:12 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 3344 invoked by uid 97); 2 Nov 2001 21:22:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3313 invoked from network); 2 Nov 2001 21:22:09 -0000
Mime-Version: 1.0
X-Sender: wintondavies@mail.earthlink.net
Message-Id: <v04205509b808bd17dfde@[172.19.0.98]>
Date: Fri, 2 Nov 2001 13:21:41 -0800
To: lucene-user@jakarta.apache.org
From: Winton Davies <wdavies@overture.com>
Subject: Maximum file size problem
Content-Type: text/plain; charset="us-ascii" ; format="flowed"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

  I ran into a problem earlier this week, where by an index of 8 
million small documents resulted in an index file of 2GB. It turns 
out this is a common file system limit (some say it might be a java 
limit as well).

  Anyway, I have no idea which index file it was, but it seems that I 
need to be able to control the distribution of the index ?

  Each document looks like this:

   exact_keywords: my_phrase_with_underscores , indexed, but not tokenized.
   body: my phrase with underscores (repeated N times for weight) 
<EOM> title words <EOM> body <EOM>
   add_info1:
   add_info2: (just stored, short info)
   add_info3:

   The body is pretty short (say 120 words or so).

 
  As it turns out, the Index I had created was actually usable (thank 
heaven, after 24 hours of indexing :)).

  *** Anyway, is there anyway to control how big the indexes grow ? ****


    Cheers,
    Winton


p.s. A big thank you to Doug -- I was able to deliver my experimental 
results on time :) My boss is V.Happy :)


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-222-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 02 21:24:45 2001
Return-Path: <lucene-user-return-222-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 29045 invoked from network); 2 Nov 2001 21:24:45 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 2 Nov 2001 21:24:45 -0000
Received: (qmail 8964 invoked from network); 2 Nov 2001 21:27:05 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 2 Nov 2001 21:27:05 -0000
Received: (qmail 7625 invoked by uid 97); 2 Nov 2001 21:23:09 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 7398 invoked by uid 97); 2 Nov 2001 21:23:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7306 invoked from network); 2 Nov 2001 21:23:04 -0000
Mime-Version: 1.0
X-Sender: wintondavies@mail.earthlink.net
Message-Id: <v0420550ab808bef650a8@[172.19.0.98]>
In-Reply-To: <FABBF873F68ED311BB35009027D390723E2EA2@DARTH_BOBO>
References: <FABBF873F68ED311BB35009027D390723E2EA2@DARTH_BOBO>
Date: Fri, 2 Nov 2001 13:22:36 -0800
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
From: Winton Davies <wdavies@overture.com>
Subject: RE: Indexing problem
Content-Type: text/plain; charset="us-ascii" ; format="flowed"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

  I implemented this, and I do have a question --
  What should the MergeFactor and MaxMergeDocuments be ?
 

  Cheers,
   Winton


>Well, I don't know if there's an archive of the list, so this what Doug
>wrote:
>
>"
>A more efficient and slightly more complex approach would be to build
>large
>indexes in RAM, and copy them to disk with IndexWriter.addIndexes:
>  IndexWriter fsWriter = new IndexWriter(new File(...), analyzer, true);
>  while (... more docs to index...)
>    RAMDirectory ramDir = new RAMDirectory();
>    IndexWriter ramWriter = new IndexWriter(ramDir, analyzer, true);
>    ... add 100,000 docs to ramWriter ...
>    ramWriter.optimize();
>    ramWriter.close();
>    fsWriter.addIndexes(new Directory[] { ramDir });
>  }
>  fsWriter.optimize();
>  fsWriter.close();
>"
>
>Scott
>
>> -----Original Message-----
>> From: Paul Friedman [mailto:pfriedman@macromedia.com]
>> Sent: Friday, November 02, 2001 9:13 AM
>> To: 'Lucene Users List'
>> Subject: RE: Indexing problem
>>
>>
>> Where can I get Doug's example of indexing in memory and then
>> writing it out
>> to disk? I just recently subscribed to this list and I can't
>> find it in the
>> archive.
>>
>> Thanks.
>> Paul
>>
>> -----Original Message-----
>> From: Scott Ganyo [mailto:scott.ganyo@eTapestry.com]
>> Sent: Friday, November 02, 2001 7:14 AM
>> To: 'Lucene Users List'
>> Subject: RE: Indexing problem
>>
>>
>> Yes.  You have too many open files.  There are a few things
>> you can try.  1)
>> Increase the number of file handles your system has
>> available.  Yes, there
>> is a setting for this in Windows.   2) Make sure that you have the
>> IndexWriter.maxMergeDocs set to Integer.MAX_VALUE (the
>> default).  3) Try
>> smaller values for IndexWriter.mergeFactor (default is 10).
>> 4) When all
>> else fails, do all your indexing in memory and then write it
>> out to disk
>> when you're done.  Doug posted an example of this just a
>> couple days ago.
>>
>> Scott
>>
>> > -----Original Message-----
>> > From: Daryl Thachuk [mailto:daryl@montagetech.com]
>> > Sent: Thursday, November 01, 2001 7:46 PM
>> > To: lucene-user@jakarta.apache.org
>> > Subject: Indexing problem
>> >
>> >
>> > Hi
>> >
>> > Since upgrading to 1.2  we've started getting the following
>> > error when
>> > creating an index in a directory with a large amount of
>> > files. Previous
>> > versions of Lucene were quite happy to index this directory.
>> >
>> > Any thoughts as to the cause?
>> >
>> > -d
>> >
>> > java.io.FileNotFoundException:
>> > /private/Network/Servers/montage/Volumes/Disk2/Users/daryl/Lib
>> > rary/Index/index5.
>> > mtlibx/_n8.f3 (Too many open files)
>> > 	at java.io.RandomAccessFile.open(Native Method)
>> > 	at java.io.RandomAccessFile.<init>(RandomAccessFile.java:98)
>> > 	at java.io.RandomAccessFile.<init>(RandomAccessFile.java:143)
>> > 	at
>> > org.apache.lucene.store.FSInputStream$Descriptor.<init>(Unknown
>> > Source)
>> > 	at org.apache.lucene.store.FSInputStream.<init>(Unknown Source)
>> > 	at org.apache.lucene.store.FSDirectory.openFile(Unknown Source)
>> > 	at
>> > org.apache.lucene.index.SegmentReader.openNorms(Unknown Source)
>> > 	at org.apache.lucene.index.SegmentReader.<init>(Unknown Source)
>> > 	at
>> > org.apache.lucene.index.IndexWriter.mergeSegments(Unknown Source)
>> > 	at
>> > org.apache.lucene.index.IndexWriter.mergeSegments(Unknown Source)
>> > 	at
>> > org.apache.lucene.index.IndexWriter.maybeMergeSegments(Unknown
>> > Source)
>> > 	at
>> > org.apache.lucene.index.IndexWriter.addDocument(Unknown Source)
>> > 	at IndexCreator.indexDocs(IndexCreator.java:75)
>> > 	at IndexCreator.indexDocs(IndexCreator.java:67)
>> > 	at IndexCreator.indexDocs(IndexCreator.java:67)
>> > 	at IndexCreator.indexDocs(IndexCreator.java:67)
>> > 	at IndexCreator.indexDocs(IndexCreator.java:67)
>> > 	at IndexCreator.indexDocs(IndexCreator.java:67)
>> > 	at IndexCreator.createIndex(IndexCreator.java:44)
>> >
>> > ------
>> > Daryl Thachuk		daryl@montagetech.com
>> > Montage Technologies Inc.
>> > http://www.montagetech.com
>> >
>> >
>> > --
>> > To unsubscribe, e-mail:
>> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
>> For additional commands, e-mail:
>> <mailto:lucene-user-help@jakarta.apache.org>
>>
>> --
>> To unsubscribe, e-mail:
>> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
>> For additional commands, e-mail:
>> <mailto:lucene-user-help@jakarta.apache.org>
>>


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-223-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 02 22:38:29 2001
Return-Path: <lucene-user-return-223-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 58940 invoked from network); 2 Nov 2001 22:38:29 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 2 Nov 2001 22:38:29 -0000
Received: (qmail 26909 invoked from network); 2 Nov 2001 22:40:50 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 2 Nov 2001 22:40:50 -0000
Received: (qmail 13876 invoked by uid 97); 2 Nov 2001 22:38:27 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 13842 invoked by uid 97); 2 Nov 2001 22:38:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 13831 invoked from network); 2 Nov 2001 22:38:25 -0000
Message-ID: <20011102223822.19241.qmail@web12707.mail.yahoo.com>
Date: Fri, 2 Nov 2001 14:38:22 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: compile lucene-1.2-rc2
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20011102191112.160433C0C3@darksleep.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Steven,

I believe Ant 1.4 (really 1.4.1 because 1.4 was buggy) is required.
I had Ant 1.3 until recently and it wouldn't work with anakia stuff in
build.xml because it's recently been added to optional Ant stuff, I
believe.

Otis


--- "Steven J. Owens" <puffmail@darksleep.com> wrote:
> [ Charset ISO-8859-1 unsupported, converting... ]
> > This looks like a good start for a top-level README.txt, which we
> need
> > before the 1.2 final.  Besides build instructions, this should
> include
> > pointers to the documentation.  Anything else folks can think of?
> > 
> > One correction: We should not mention downloading JavaCC, just ant
> and
> > ant-optional.jar.
> > 
> > Anyone want to draft the README.txt?
> 
>      I'll try to spend a couple hours on this later today.  I checked
> out the jarkarta-lucene CVS archive last night to start playing with
> the thread-safe version.  Might as well build it from scratch.  
> 
>      What is your goal for the README.txt?  Maybe it should point to
> "build.txt" for build-from-checkout directions, another file for
> using
> the .jar version, and another for the demo stuff?
> 
>      Okay, I went ahead and wrote a rough draft (included below).
> But I have to do a bit more fiddling before I'm done.  I have two
> questions; one, what version(s) of Ant does Lucene require, and two,
> what versions of java can Lucene be built with and run with?
> 
>      As you'll see if you read all of the following, my initial
> attempt at following these instructions failed.  The build.properties
> and the build.xml look for a "jarkata-site2" directory parallel to
> the
> checkout directory.  I'm going to save this, go back to the mailing
> list, and reread the recent messages to see if this is addresesd.
> 
> 
> Build Instructions for Lucene-1.2-rc2
> 
> Basic steps:
>      0) download lucene-1.2-rc2 from the Apache Project
>      1) set up the JDK, Ant, and the Ant optional.jar
>      2) cd into the top folder of the jakarta-lucene checkout
>      3) run ant
> 
> Step 0) download lucene-1.2-rc2 from the Apache Project
> 
>      We'll assume you already did Step 0, or you wouldn't be reading
> this file.  However, you might have received this file by some
> alternate route, or you might have an incomplete copy of the Lucene,
> so:
> 
>      Lucene 1.2-rc2 is available for download at:
> 
> http://jakarta.apache.org/builds/jakarta-lucene/release/v1.2-rc2/
> 
>      Download either a zip or a tarred/gzipped version of the
> archive,
> and uncompress it into a directory of your choice.
> 
> Step 1) Set up your development environment (JDK, Ant, Ant optional
> jar).
> 
>      We'll assume that you know how to get and set up the JDK - if
> you
> don't, then we suggest starting at http://java.sun.com and learning
> more
> about Java, before returning to this README.
> 
>      Lucene works with JDK 1.3.  Lucene works with earlier versions
> of
> Java (WHICH VERSIONS?).  However, if you're going to work with the
> development version of Lucene, we recommend you stick with the most
> current version of Java.
> 
>      Lucene uses Apache Ant, like most of the Jakarta projects, for
> build control.  Ant is "kind of like make without make's wrinkles".
> Ant is implemented in java and uses XML-based configuration files.
> You can get it at:
> 
>      http://jakarta.apache.org/ant/index.html
> 
>      Specifically, you can get the binary distributions at:
> 
>      http://jakarta.apache.org/builds/jakarta-ant/release/v1.4.1/bin/
> 
>      (AGAIN, WHICH VERSIONS OF ANT?  Obviously recommend the latest
> version, but does it work with any earlier versions?)
> 
>      You'll need to download both the Ant binary distribution 
> optional jar file.  Install the binary distribution according to
> the instructions under the "Installing Ant" link at:
> 
>      http://jakarta.apache.org/ant/manual/index.html
> 
> Step 3) Cd into the top folder of the jarkata-lucene checkout.
> 
>      The top directory of the checkout contains the build.properties
> and build.xml files.  You don't need to change any of the settings in
> these files, but you do need to run ant from this location so it
> knows
> where to find them.
> 
> Step 4) Run ant.
> 
>      Assuming you have ant in your PATH and both of the ant jars (the
> main jar and the optional jar) in your CLASSPATH, simply entering
> "ant" at the shell prompt and command prompt should invoke ant, and
> ant will by default look for the "build.xml" file in your current
> directory, where it should find it.
> 
>      Okay, so this first draft didn't work out so well.  I just
> followed
> my own instructions and I got:
> 
> $ ant
> Buildfile: build.xml
> 
> BUILD FAILED
> 
> C:\cygwin\home\Administrator\jakarta-lucene\build.xml:29:
> C:\cygwin\home\Administrator\jakarta-site2\lib not found.
> 
> Total time: 2 seconds
> 
> 
>      Back to the drawing board, I'll have to check the list for
> recent
> comments about this and see what I'm doing wrong.
> 
> Steven J. Owens
> puff@darksleep.com
> 
> --
> To unsubscribe, e-mail:  
> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
> <mailto:lucene-user-help@jakarta.apache.org>
> 


__________________________________________________
Do You Yahoo!?
Find a job, post your resume.
http://careers.yahoo.com

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-224-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 02 22:43:43 2001
Return-Path: <lucene-user-return-224-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 65074 invoked from network); 2 Nov 2001 22:43:42 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 2 Nov 2001 22:43:42 -0000
Received: (qmail 27319 invoked from network); 2 Nov 2001 22:46:02 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 2 Nov 2001 22:46:02 -0000
Received: (qmail 17436 invoked by uid 97); 2 Nov 2001 22:43:47 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 17384 invoked by uid 97); 2 Nov 2001 22:43:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17373 invoked from network); 2 Nov 2001 22:43:46 -0000
Message-ID: <20011102224345.43878.qmail@web12701.mail.yahoo.com>
Date: Fri, 2 Nov 2001 14:43:45 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Maximum file size problem
To: lucene-user@jakarta.apache.org
In-Reply-To: <v04205509b808bd17dfde@[172.19.0.98]>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Yes, 2GB files are a common problem.
I think the answer to your question is negative.  However, in case you
are using Linux please note that the newer kernels have support for
very large files (i.e. files over 2GB).
Also, FreeBSD and 64-bit OSs don't have that limit either.

This is an OS, not Java limitation.

Some people have reported that they have successfully created indices
over 2GB in size, but they were probably running one of the operating
systems that don't suffer from this limitation.

Otis


--- Winton Davies <wdavies@overture.com> wrote:
> Hi,
> 
>   I ran into a problem earlier this week, where by an index of 8 
> million small documents resulted in an index file of 2GB. It turns 
> out this is a common file system limit (some say it might be a java 
> limit as well).
> 
>   Anyway, I have no idea which index file it was, but it seems that I
> 
> need to be able to control the distribution of the index ?
> 
>   Each document looks like this:
> 
>    exact_keywords: my_phrase_with_underscores , indexed, but not
> tokenized.
>    body: my phrase with underscores (repeated N times for weight) 
> <EOM> title words <EOM> body <EOM>
>    add_info1:
>    add_info2: (just stored, short info)
>    add_info3:
> 
>    The body is pretty short (say 120 words or so).
> 
>  
>   As it turns out, the Index I had created was actually usable (thank
> 
> heaven, after 24 hours of indexing :)).
> 
>   *** Anyway, is there anyway to control how big the indexes grow ?
> ****
> 
> 
>     Cheers,
>     Winton
> 
> 
> p.s. A big thank you to Doug -- I was able to deliver my experimental
> 
> results on time :) My boss is V.Happy :)
> 
> 
> --
> To unsubscribe, e-mail:  
> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
> <mailto:lucene-user-help@jakarta.apache.org>
> 


__________________________________________________
Do You Yahoo!?
Find a job, post your resume.
http://careers.yahoo.com

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-225-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 02 23:04:12 2001
Return-Path: <lucene-user-return-225-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 75843 invoked from network); 2 Nov 2001 23:04:12 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 2 Nov 2001 23:04:12 -0000
Received: (qmail 1773 invoked from network); 2 Nov 2001 23:06:34 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 2 Nov 2001 23:06:34 -0000
Received: (qmail 10295 invoked by uid 97); 2 Nov 2001 23:04:11 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 10227 invoked by uid 97); 2 Nov 2001 23:04:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 10138 invoked from network); 2 Nov 2001 23:04:09 -0000
Subject: Re: compile lucene-1.2-rc2
In-Reply-To: <20011102223822.19241.qmail@web12707.mail.yahoo.com>
 "from Otis Gospodnetic at Nov 2, 2001 02:38:22 pm"
To: Lucene Users List <lucene-user@jakarta.apache.org>
Date: Fri, 2 Nov 2001 16:09:23 -0500 (EST)
X-Mailer: ELM [version 2.4ME+ PL89 (25)]
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset=US-ASCII
Message-Id: <20011102210923.59EBE3C45D@darksleep.com>
From: puffmail@darksleep.com (Steven J. Owens)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> Steven,
> 
> I believe Ant 1.4 (really 1.4.1 because 1.4 was buggy) is required.
> I had Ant 1.3 until recently and it wouldn't work with anakia stuff in
> build.xml because it's recently been added to optional Ant stuff, I
> believe.

     Ah, thanks, yeah, that did the trick.  Okay, here's the finished
draft:

------------------------------------------------------------------------------
Build Instructions for Lucene-1.2-rc2

Basic steps:
     0) download lucene-1.2-rc2 from the Apache Project
     1) set up JDK 1.3, Ant 1.4, and the Ant 1.4 optional.jar
     2) cd into the top folder of the jakarta-lucene checkout
     3) run ant

Step 0) download lucene-1.2-rc2 from the Apache Project

     We'll assume you already did Step 0, or you wouldn't be reading
this file.  However, you might have received this file by some
alternate route, or you might have an incomplete copy of the Lucene,
so:

     Lucene 1.2-rc2 is available for download at:

http://jakarta.apache.org/builds/jakarta-lucene/release/v1.2-rc2/

     Download either a zip or a tarred/gzipped version of the archive,
and uncompress it into a directory of your choice.

Step 1) Set up your development environment (JDK 1.3, Ant 1.4, Ant 1.4
        optional jar).

     We'll assume that you know how to get and set up the JDK - if you
don't, then we suggest starting at http://java.sun.com and learning more
about Java, before returning to this README.

     Lucene works with earlier versions of Java (WHICH VERSIONS?).
However, if you're going to work with the development version of
Lucene, we recommend you stick with the most current version of Java
(at the time of this writing, JDK 1.3).  Also, note that if you're
working with the Lucene source, you'll need to use Ant (see below) and
Ant requires at least JDK 1.1 (and in the future will likely move to
requiring JDK 1.2, according to the Ant install docs).

     Like most of the Jakarta projects, Lucene uses Apache Ant for
build control.  Specifically, you MUST use Ant version 1.4.

     Ant is "kind of like make without make's wrinkles".  Ant is
implemented in java and uses XML-based configuration files.  You can
get it at:

     http://jakarta.apache.org/ant/index.html

     Specifically, you can get the binary distributions at:

     http://jakarta.apache.org/builds/jakarta-ant/release/v1.4.1/bin/

     You'll need to download both the Ant binary distribution 
optional jar file.  Install the binary distribution according to
the instructions under the "Installing Ant" link at:

     http://jakarta.apache.org/ant/manual/index.html

Step 3) Cd into the top folder of the jarkata-lucene checkout.

     The top directory of the checkout contains the build.properties
and build.xml files.  You don't need to change any of the settings in
these files, but you do need to run ant from this location so it knows
where to find them.

Step 4) Run ant.

     Assuming you have ant in your PATH and both of the ant jars (the
main jar and the optional jar) in your CLASSPATH, simply entering
"ant" at the shell prompt and command prompt should invoke ant, and
ant will by default look for the "build.xml" file in your current
directory, where it should find it.


For further information on Lucene, go to:
     http://jakarta.apache.org/lucene

We strongly suggest that you join the Lucene-User mailing list:
     lucene-user-subscribe@jakarta.apache.org


Copyright 2001, Steven J. Owens (puff@darksleep.com), all rights are
assigned to Doug Cutting (or, at Doug Cutting's discretion, to the
Apache Project).

Please post suggestions, questions, corrections or additions to this
document to the lucene-user mailing list.
------------------------------------------------------------------------------

Steven J. Owens
puff@darksleep.com


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-226-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Sat Nov 03 00:51:42 2001
Return-Path: <lucene-user-return-226-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 75130 invoked from network); 3 Nov 2001 00:51:42 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 3 Nov 2001 00:51:42 -0000
Received: (qmail 15723 invoked from network); 3 Nov 2001 00:54:04 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 3 Nov 2001 00:54:04 -0000
Received: (qmail 5920 invoked by uid 97); 3 Nov 2001 00:51:47 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 5903 invoked by uid 97); 3 Nov 2001 00:51:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 5892 invoked from network); 3 Nov 2001 00:51:46 -0000
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Message-ID: <15331.16290.209696.393363@cabernet.nelson.monkey.org>
Date: Fri, 2 Nov 2001 16:51:46 -0800
From: Nelson Minar <nelson@monkey.org>
To: lucene-user@jakarta.apache.org
Subject: Announcing Funes, a mail archive search program
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello, I'm writing to announce the release of Funes, the little mail
archive search program I've been working on. It's at

  http://www.nelson.monkey.org/funes/

Funes is a Java program that enables you to search your memories. At
its core is a search engine: Funes indexes all of your email into a
quickly-searchable database and then lets you query that database. The
search engine itself is implemented with Lucene. Funes adds the glue
to parse mailboxes and interact with you. 

This release is very incomplete, simple, and only minimally
functional. I'm putting it out there under the idea of "release early
and often", and because I've been tinkering with it for weeks now and
felt it was time to put something out.

If you try it, let me know what you think!

                                                     nelson@monkey.org
.       .      .     .    .   .  . . http://www.media.mit.edu/~nelson/

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-227-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Sat Nov 03 08:31:57 2001
Return-Path: <lucene-user-return-227-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 88008 invoked from network); 3 Nov 2001 08:31:57 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 3 Nov 2001 08:31:57 -0000
Received: (qmail 12745 invoked from network); 3 Nov 2001 08:34:23 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 3 Nov 2001 08:34:23 -0000
Received: (qmail 17198 invoked by uid 97); 3 Nov 2001 08:32:08 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 17138 invoked by uid 97); 3 Nov 2001 08:32:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17114 invoked from network); 3 Nov 2001 08:32:06 -0000
From: "Parag Dharmadhikari" <parag@bsil.com>
To: "lucene-user" <lucene-user@jakarta.apache.org>
Subject: highligthig the searched text
Date: Sat, 3 Nov 2001 14:04:01 +0530
Message-ID: <NDBBIPCAFOAAMEDODMEDKEFNKEAA.parag@bsil.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2919.6600
Importance: Normal
X-AntiVirus: scanned for viruses by AMaViS 0.2.1 (http://amavis.org/)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi all,

If I want to highlight the text in colors that I have searched for in the
file (just like google does after selecting the "cached" option of its
results)
Then how should I go for?

Regards
parag



--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-228-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Sat Nov 03 13:05:46 2001
Return-Path: <lucene-user-return-228-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 57759 invoked from network); 3 Nov 2001 13:05:46 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 3 Nov 2001 13:05:46 -0000
Received: (qmail 25978 invoked from network); 3 Nov 2001 13:08:02 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 3 Nov 2001 13:08:02 -0000
Received: (qmail 1463 invoked by uid 97); 3 Nov 2001 13:05:44 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 1429 invoked by uid 97); 3 Nov 2001 13:05:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1399 invoked from network); 3 Nov 2001 13:05:42 -0000
Message-ID: <3BE3EA8B.D0B0866A@i-one.at>
Date: Sat, 03 Nov 2001 14:00:59 +0100
From: "Bernhard Huber" <bh22351@i-one.at>
X-Mailer: Mozilla 4.7 [en] (WinNT; I)
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: highligthig the searched text
References: <NDBBIPCAFOAAMEDODMEDKEFNKEAA.parag@bsil.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

hi, search the mailing list, there was some whitepaper published
which describes how to do it.

Parag Dharmadhikari wrote:

> Hi all,
>
> If I want to highlight the text in colors that I have searched for in the
> file (just like google does after selecting the "cached" option of its
> results)
> Then how should I go for?
>
> Regards
> parag
>
> --
> To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-229-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Sat Nov 03 16:27:38 2001
Return-Path: <lucene-user-return-229-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 8821 invoked from network); 3 Nov 2001 16:27:38 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 3 Nov 2001 16:27:38 -0000
Received: (qmail 4166 invoked from network); 3 Nov 2001 16:29:53 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 3 Nov 2001 16:29:53 -0000
Received: (qmail 13291 invoked by uid 97); 3 Nov 2001 16:27:35 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 13254 invoked by uid 97); 3 Nov 2001 16:27:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 13243 invoked from network); 3 Nov 2001 16:27:33 -0000
Message-ID: <4BC270C6AB8AD411AD0B00B0D0493DF0D78A0A@mail.grandcentral.com>
From: Doug Cutting <DCutting@grandcentral.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Maximum file size problem
Date: Sat, 3 Nov 2001 08:16:12 -0800 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Otis has already answered most of this.

> From: Winton Davies [mailto:wdavies@overture.com]
> 
>   *** Anyway, is there anyway to control how big the indexes 
> grow ? ****

The easiset thing is to set IndexWriter.maxMergeDocs. Since you hit 2GB at
8M docs, set this to 7M.  That will keep Lucene from trying to merge an
index that won't fit in your filesystem.  (It will actually effectively
round this down to the next lower power of Index.mergeFactor.  So with the
default mergeFactor=10, maxMergeDocs=7M will generate a series of 1M
document indexes, since merging 10 of these would exceed the max.)

Slightly more complex: you could further minimize the number of segments,
if, when you've added seven million documents, optimize the index and start
a new index.  Then use MultiSearcher to search.

Even more complex and optimal: write a version of FSDirectory that, when a
file exceeds 2GB, creates a subdirectory and represents the file as a series
of files.  (I've done this before, and found that, on at least the version
of Solaris that I was using, the files had to be a few 100k less than 2GB
for programs like 'cp' and 'ftp' to operate correctly on them.)

Doug

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-230-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Nov 05 01:33:23 2001
Return-Path: <lucene-user-return-230-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 55312 invoked from network); 5 Nov 2001 01:33:23 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 5 Nov 2001 01:33:23 -0000
Received: (qmail 16160 invoked from network); 5 Nov 2001 01:35:49 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 5 Nov 2001 01:35:49 -0000
Received: (qmail 29240 invoked by uid 97); 5 Nov 2001 01:33:29 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 29195 invoked by uid 97); 5 Nov 2001 01:33:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 29184 invoked from network); 5 Nov 2001 01:33:27 -0000
From: "Dave Kor" <dave.kor@nexusedge.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: Where can I find the source of StandardTokenizerConstants ??
Date: Mon, 5 Nov 2001 09:45:41 +0800
Message-ID: <OIEGKMALPHPCCJMBEKDMKEALCBAA.dave.kor@nexusedge.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4133.2400
In-Reply-To: <002d01c163af$ef72f680$cdcef0c3@ikke>
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> -----Original Message-----
> From: Ronald Muller [mailto:rk.muller@12move.nl]
> Sent: Friday, November 02, 2001 11:06 PM
> To: lucene-user@jakarta.apache.org
> Subject: Where can I find the source of StandardTokenizerConstants ??
>
>
>
Its an auto-generated file that's created when you javacc processes the
standardtokenizer.jj file.
Same thing happens for the html parser in the demo as well as the
queryparser.

Dave Kor Kian Wei
Consultant
Product Engineering
NexusEdge Technologies Pte. Ltd.
6 Aljunied Ave 3, #01-02 (Level 4)
Singapore 389932
Tel : (+65)848-2552
Fax : (+65)747-4536
Web : www.nexusedge.com


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-231-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Nov 05 03:54:41 2001
Return-Path: <lucene-user-return-231-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 91800 invoked from network); 5 Nov 2001 03:54:41 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 5 Nov 2001 03:54:41 -0000
Received: (qmail 18833 invoked from network); 5 Nov 2001 03:57:10 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 5 Nov 2001 03:57:10 -0000
Received: (qmail 29343 invoked by uid 97); 5 Nov 2001 03:54:48 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 29327 invoked by uid 97); 5 Nov 2001 03:54:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 29316 invoked from network); 5 Nov 2001 03:54:47 -0000
Message-ID: <20011105035447.29768.qmail@web11804.mail.yahoo.com>
Date: Sun, 4 Nov 2001 19:54:47 -0800 (PST)
From: srinivasa v <inrisrini2k@yahoo.com>
Subject: Frequency Problem 
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20011101140932.93760.qmail@web11802.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-224398785-1004932487=:28426"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

--0-224398785-1004932487=:28426
Content-Type: text/plain; charset=us-ascii


hi all,

When we search for perticular word(s) using the Query, we will get number of Hits. 

That is number of docs matching the given words.

But How to get the Frequency of a Perticular Word in each Docs individually ?

Say word "lucene" occurs 10 times in Doc1.

Please answer ASAP........

with regards

Srini





---------------------------------
Do You Yahoo!?
Find a job, post your resume on Yahoo! Careers.
--0-224398785-1004932487=:28426--

From lucene-user-return-232-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Nov 06 04:45:56 2001
Return-Path: <lucene-user-return-232-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 29047 invoked from network); 6 Nov 2001 04:45:56 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 6 Nov 2001 04:45:56 -0000
Received: (qmail 22916 invoked from network); 6 Nov 2001 04:48:29 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 6 Nov 2001 04:48:29 -0000
Received: (qmail 22420 invoked by uid 97); 6 Nov 2001 04:46:04 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 22391 invoked by uid 97); 6 Nov 2001 04:46:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22373 invoked from network); 6 Nov 2001 04:46:02 -0000
X-Apparently-From: <jakartatech@yahoo.com>
Message-ID: <008e01c1667d$0c31a5d0$3200a8c0@jerry>
From: "Amit Roy \(Yahoo\)" <jakartatech@yahoo.com>
To: <lucene-user@jakarta.apache.org>
Subject: How do i install Lucene
Date: Tue, 6 Nov 2001 10:09:30 +0530
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_008B_01C166AB.20337AD0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.00.2919.6700
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2919.6700
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_008B_01C166AB.20337AD0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hello Friends
                  I am new in this mailing list and Lucene can some one =
please guide me to a step by step installation of Lucene . I have Tomcat =
4 running on Windows Advanced Server.also are there othe dependencies =
that i need tto download to run Lucene?
                                                                         =
                                                                         =
Amit
                                                                         =
                               =20

------=_NextPart_000_008B_01C166AB.20337AD0--


_________________________________________________________
Do You Yahoo!?
Get your free @yahoo.com address at http://mail.yahoo.com


From lucene-user-return-233-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Nov 06 04:56:06 2001
Return-Path: <lucene-user-return-233-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 33407 invoked from network); 6 Nov 2001 04:56:05 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 6 Nov 2001 04:56:05 -0000
Received: (qmail 22988 invoked from network); 6 Nov 2001 04:58:38 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 6 Nov 2001 04:58:38 -0000
Received: (qmail 23845 invoked by uid 97); 6 Nov 2001 04:56:14 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 23829 invoked by uid 97); 6 Nov 2001 04:56:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23818 invoked from network); 6 Nov 2001 04:56:13 -0000
Message-ID: <20011106045612.28656.qmail@web12708.mail.yahoo.com>
Date: Mon, 5 Nov 2001 20:56:12 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: How do i install Lucene
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <008e01c1667d$0c31a5d0$3200a8c0@jerry>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello,

Try the README.txt from http://cvs.apache.org/viewcvs/jakarta-lucene/

If something doesn't work as described in the README please let us
know.

Thanks,
Otis


--- "Amit Roy (Yahoo)" <jakartatech@yahoo.com> wrote:
> Hello Friends
>                   I am new in this mailing list and Lucene can some
> one please guide me to a step by step installation of Lucene . I have
> Tomcat 4 running on Windows Advanced Server.also are there othe
> dependencies that i need tto download to run Lucene?
>                                                                      
>                                                                      
>       Amit
>                                                                      
>                                    
> 


__________________________________________________
Do You Yahoo!?
Find a job, post your resume.
http://careers.yahoo.com

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-234-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Nov 06 13:04:16 2001
Return-Path: <lucene-user-return-234-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 40892 invoked from network); 6 Nov 2001 13:04:16 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 6 Nov 2001 13:04:16 -0000
Received: (qmail 22648 invoked from network); 6 Nov 2001 13:06:39 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 6 Nov 2001 13:06:39 -0000
Received: (qmail 6814 invoked by uid 97); 6 Nov 2001 13:04:14 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 6762 invoked by uid 97); 6 Nov 2001 13:04:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6747 invoked from network); 6 Nov 2001 13:04:12 -0000
X-Apparently-From: <jakartatech@yahoo.com>
Message-ID: <002001c166c2$a24cb830$3200a8c0@jerry>
From: "Amit Roy \(Yahoo\)" <jakartatech@yahoo.com>
To: <lucene-user@jakarta.apache.org>
Subject: Are there any ready made implementations of lucene
Date: Tue, 6 Nov 2001 18:27:40 +0530
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_001D_01C166F0.B7C1CC40"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.00.2919.6700
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2919.6700
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_001D_01C166F0.B7C1CC40
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Are there any ready made implementations of Lucene like i know 1 of =
http://www.i2a.com/ please let me know if there are others

------=_NextPart_000_001D_01C166F0.B7C1CC40--


_________________________________________________________
Do You Yahoo!?
Get your free @yahoo.com address at http://mail.yahoo.com


From lucene-user-return-235-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Nov 06 13:43:54 2001
Return-Path: <lucene-user-return-235-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 63035 invoked from network); 6 Nov 2001 13:43:54 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 6 Nov 2001 13:43:54 -0000
Received: (qmail 3099 invoked from network); 6 Nov 2001 13:46:16 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 6 Nov 2001 13:46:16 -0000
Received: (qmail 26759 invoked by uid 97); 6 Nov 2001 13:43:52 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 26738 invoked by uid 97); 6 Nov 2001 13:43:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26727 invoked from network); 6 Nov 2001 13:43:51 -0000
X-Authentication-Warning: bitbang.com: Host p107.bit-bang.com [192.168.0.107] claimed to be Zurich
Message-ID: <020d01c166c9$6ba4b2e0$6b00a8c0@Zurich>
Reply-To: "David Bonilla" <david@bit-bang.com>
From: "David Bonilla" <david@bit-bang.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <002001c166c2$a24cb830$3200a8c0@jerry>
Subject: Re: Are there any ready made implementations of lucene
Date: Tue, 6 Nov 2001 14:46:21 +0100
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_020A_01C166D1.CD338BF0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.00.2919.6700
X-MIMEOLE: Produced By Microsoft MimeOLE V5.00.2919.6700
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_020A_01C166D1.CD338BF0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Yeah, of course, we are developing a Content-Manager and we have made a =
Lucene implementation to index and search and our Documents. We have now =
the Gold version and the final version will be ready in www.ubicua.com =
in a few days.

I=B4m just a member of the Development team but I think it will be =
absolutely free for developers. If you want to get more info please =
write me.
=20
__________________________
David Bonilla Fuertes
THE BIT BANG NETWORK
http://www.bit-bang.com
Profesor Waksman, 8, 6=BA B
28036 Madrid
SPAIN
Tel.: (+34) 914 577 747
M=F3vil: 656 62 83 92
Fax: (+34) 914 586 176
__________________________
=20
=20

------=_NextPart_000_020A_01C166D1.CD338BF0--


From lucene-user-return-236-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Nov 06 14:15:28 2001
Return-Path: <lucene-user-return-236-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 82767 invoked from network); 6 Nov 2001 14:15:28 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 6 Nov 2001 14:15:28 -0000
Received: (qmail 13642 invoked from network); 6 Nov 2001 14:17:53 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 6 Nov 2001 14:17:53 -0000
Received: (qmail 13588 invoked by uid 97); 6 Nov 2001 14:15:27 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 13530 invoked by uid 97); 6 Nov 2001 14:15:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 13519 invoked from network); 6 Nov 2001 14:15:25 -0000
Content-Type: text/plain;
  charset="iso-8859-1"
From: Andrzej Jarmoniuk <andrzej.jarmoniuk@e-point.pl>
Organization: E-Point S.A.
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: Are there any ready made implementations of lucene
Date: Tue, 6 Nov 2001 15:15:53 +0100
X-Mailer: KMail [version 1.3.1]
References: <002001c166c2$a24cb830$3200a8c0@jerry>
In-Reply-To: <002001c166c2$a24cb830$3200a8c0@jerry>
MIME-Version: 1.0
Content-Transfer-Encoding: 8bit
Message-Id: <E1616WU-0001uE-00@mail.pov.com.pl>
X-Scanner: exiscan *1616WU-0001uE-00*Wa9JRG0hqng* http://duncanthrax.net/exiscan/
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


> Are there any ready made implementations of Lucene like i know 1 of
> http://www.i2a.com/ please let me know if there are others

Hello

As the developer responsible for the search engine in our products, I can 
give you some examples of the sites that use Lucene (there are more, but I 
can't remember all of them right now) that were created by the company I work 
for:

www.bzwbk.pl
www.rabobank.pl
www.ing.pl
www.pfm.pl

It's a version modified to accomodate specific polish characters, that would 
otherwise produce errors (I described the issue in a bug report some time 
ago).

Jarmoni (Andrzej Jarmoniuk, andrzej.jarmoniuk@e-point.pl, Internet Developer, 
E-Point SA (www.e-point.pl))

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-237-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Nov 06 16:26:44 2001
Return-Path: <lucene-user-return-237-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 14037 invoked from network); 6 Nov 2001 16:26:43 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 6 Nov 2001 16:26:43 -0000
Received: (qmail 3016 invoked from network); 6 Nov 2001 16:29:09 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 6 Nov 2001 16:29:09 -0000
Received: (qmail 3598 invoked by uid 97); 6 Nov 2001 16:26:29 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 3576 invoked by uid 97); 6 Nov 2001 16:26:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3550 invoked from network); 6 Nov 2001 16:26:26 -0000
Message-ID: <002101c166df$c2473030$a301a8c0@arcadsoftware.fr>
From: "Christophe GOGUYER DESSAGNES" <cgd@arcadsoftware.com>
To: <lucene-user@jakarta.apache.org>
Subject: queryParser error with first charactere
Date: Tue, 6 Nov 2001 17:25:55 +0100
Organization: Arcad Software
MIME-Version: 1.0
Content-Type: text/plain;
	charset="Windows-1252"
Content-Transfer-Encoding: 8bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
Disposition-Notification-To: "Christophe GOGUYER DESSAGNES" <cgd@arcadsoftware.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Virus-Scanned: by NWC
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

I've a queryParser error if the first character is a spacial character.
ie : ' @   ...
It doesn't appear with lucene old version (<1.1).
Is it a bug or something has changed in the way to call the parser ?

TY.

[Tue Nov 06 17:23:20 CET 2001] org.apache.lucene.queryParser.TokenMgrError:
Lexical error at line 1, column 1.  Encountered: "\u00c0" (192), after : ""
[Tue Nov 06 17:23:20 CET 2001]  at
org.apache.lucene.queryParser.QueryParserTokenManager.getNextToken(Unknown
Source)
[Tue Nov 06 17:23:20 CET 2001]  at
org.apache.lucene.queryParser.QueryParser.jj_ntk(Unknown Source)
[Tue Nov 06 17:23:20 CET 2001]  at
org.apache.lucene.queryParser.QueryParser.Modifiers(Unknown Source)
[Tue Nov 06 17:23:20 CET 2001]  at
org.apache.lucene.queryParser.QueryParser.Query(Unknown Source)
[Tue Nov 06 17:23:20 CET 2001]  at
org.apache.lucene.queryParser.QueryParser.parse(Unknown Source)
[Tue Nov 06 17:23:20 CET 2001]  at
org.apache.lucene.queryParser.QueryParser.parse(Unknown Source)


-----
Christophe


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-238-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Nov 06 16:42:11 2001
Return-Path: <lucene-user-return-238-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 28881 invoked from network); 6 Nov 2001 16:42:10 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 6 Nov 2001 16:42:10 -0000
Received: (qmail 6379 invoked from network); 6 Nov 2001 16:44:36 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 6 Nov 2001 16:44:36 -0000
Received: (qmail 19907 invoked by uid 97); 6 Nov 2001 16:42:11 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 19859 invoked by uid 97); 6 Nov 2001 16:42:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 19837 invoked from network); 6 Nov 2001 16:42:09 -0000
Message-ID: <1718B3F8E2E0D31181A100508B94EECC036A3C94@USCAMEXCP003>
From: Paul Friedman <pfriedman@macromedia.com>
To: "'lucene-user@jakarta.apache.org'" <lucene-user@jakarta.apache.org>
Subject: QueryParser.parse(...) javadoc is incorrect
Date: Tue, 6 Nov 2001 11:41:35 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C166E1.E62EDC30"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C166E1.E62EDC30
Content-Type: text/plain;
	charset="iso-8859-1"

To whoever maintains the javadocs...
 
The javadoc for QueryParser.parse(...) says that it throws a ParseException
if an error occurs, in fact, it throws an
org.apache.lucene.queryParser.TokenMgrError.
 
Thanks.
Paul

------_=_NextPart_001_01C166E1.E62EDC30--

From lucene-user-return-239-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Nov 06 17:10:33 2001
Return-Path: <lucene-user-return-239-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 52307 invoked from network); 6 Nov 2001 17:10:33 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 6 Nov 2001 17:10:33 -0000
Received: (qmail 9791 invoked from network); 6 Nov 2001 17:12:58 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 6 Nov 2001 17:12:58 -0000
Received: (qmail 10849 invoked by uid 97); 6 Nov 2001 17:10:33 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 10833 invoked by uid 97); 6 Nov 2001 17:10:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 10822 invoked from network); 6 Nov 2001 17:10:32 -0000
Message-ID: <000e01c166e5$f02735d0$a301a8c0@arcadsoftware.fr>
From: "Christophe" <cgd@free.fr>
To: <lucene-user@jakarta.apache.org>
Subject: partial search
Date: Tue, 6 Nov 2001 18:10:25 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="Windows-1252"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
Disposition-Notification-To: "Christophe" <cgd@free.fr>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Virus-Scanned: by NWC
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

How could I make a search with something like "tes*" for test, testing, ...?

Currently, I use a StandardAnalyzer for indexing and searching (with query
parser), and it doesn't work.
Do I need to use another analyser ?

TY.
-----
Christophe


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-240-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Nov 06 21:51:43 2001
Return-Path: <lucene-user-return-240-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 10942 invoked from network); 6 Nov 2001 21:51:43 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 6 Nov 2001 21:51:43 -0000
Received: (qmail 2327 invoked from network); 6 Nov 2001 21:54:12 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 6 Nov 2001 21:54:12 -0000
Received: (qmail 16049 invoked by uid 97); 6 Nov 2001 21:51:46 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 16024 invoked by uid 97); 6 Nov 2001 21:51:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16013 invoked from network); 6 Nov 2001 21:51:44 -0000
Sender: tril@pluto.blackwell.co.uk
Message-ID: <3BE85B75.3A8E6DFF@blackwell.co.uk>
Date: Tue, 06 Nov 2001 21:51:49 +0000
From: Ian Lea <ian.lea@blackwell.co.uk>
X-Mailer: Mozilla 4.74 [en] (X11; U; Linux 2.2.16 i686)
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>, cgd@free.fr
Subject: Re: partial search
References: <000e01c166e5$f02735d0$a301a8c0@arcadsoftware.fr>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> How could I make a search with something like "tes*" for test, testing, ...?
> 
> Currently, I use a StandardAnalyzer for indexing and searching (with query
> parser), and it doesn't work.
> Do I need to use another analyser ?

I don't think so.  The short program below works for me with lucene-1.2-rc2.


--
Ian.
ian.lea@blackwell.co.uk


import org.apache.lucene.queryParser.*; 
import org.apache.lucene.search.*; 
import org.apache.lucene.index.*; 
import org.apache.lucene.analysis.*; 
import org.apache.lucene.analysis.standard.*;
import org.apache.lucene.document.*; 


public class Test { 

    public static void main(String args[]) throws Exception { 
	Analyzer analyzer = new StandardAnalyzer(); 
	IndexWriter writer = new IndexWriter("test", analyzer, true); 
	Document d;
	d = new Document();
	d.add(Field.Text("word", "test"));
	writer.addDocument(d);
	d = new Document();
	d.add(Field.Text("word", "testing"));
	writer.addDocument(d);
	writer.close();
	IndexReader reader = IndexReader.open("test");
	Searcher searcher = new IndexSearcher(reader);
	String s = "test*";
	if (args.length > 0) { s = args[0]; }
	Query query = QueryParser.parse(s, "word", analyzer);
	Hits hits = searcher.search(query);
	for (int i = 0; i < hits.length(); i++) {
	    System.out.println(hits.doc(i).get("word"));
	}
    }
}

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-241-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Nov 07 06:35:27 2001
Return-Path: <lucene-user-return-241-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 38931 invoked from network); 7 Nov 2001 06:35:27 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 7 Nov 2001 06:35:27 -0000
Received: (qmail 21351 invoked from network); 7 Nov 2001 06:38:04 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 7 Nov 2001 06:38:04 -0000
Received: (qmail 16864 invoked by uid 97); 7 Nov 2001 06:35:36 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 16822 invoked by uid 97); 7 Nov 2001 06:35:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16811 invoked from network); 7 Nov 2001 06:35:34 -0000
X-Apparently-From: <jakartatech@yahoo.com>
Message-ID: <000c01c16755$84356f20$3200a8c0@jerry>
From: "Amit Roy \(Yahoo\)" <jakartatech@yahoo.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
	"David Bonilla" <david@bit-bang.com>
References: <002001c166c2$a24cb830$3200a8c0@jerry> <020d01c166c9$6ba4b2e0$6b00a8c0@Zurich>
Subject: Re: Are there any ready made implementations of lucene
Date: Wed, 7 Nov 2001 11:59:08 +0530
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.00.2919.6700
X-MIMEOLE: Produced By Microsoft MimeOLE V5.00.2919.6700
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi David Bonilla,
                            I went to the site you told me and filled in the
download form in spanish with gr8 difficuoty but did not get any mail or
download link if the downlaod is small and if it is legal can u send me the
file at roys_amit@yahoo.com.
----- Original Message -----
From: "David Bonilla" <david@bit-bang.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Tuesday, November 06, 2001 7:16 PM
Subject: Re: Are there any ready made implementations of lucene


Yeah, of course, we are developing a Content-Manager and we have made a
Lucene implementation to index and search and our Documents. We have now the
Gold version and the final version will be ready in www.ubicua.com in a few
days.

Im just a member of the Development team but I think it will be absolutely
free for developers. If you want to get more info please write me.

__________________________
David Bonilla Fuertes
THE BIT BANG NETWORK
http://www.bit-bang.com
Profesor Waksman, 8, 6 B
28036 Madrid
SPAIN
Tel.: (+34) 914 577 747
Mvil: 656 62 83 92
Fax: (+34) 914 586 176
__________________________





_________________________________________________________
Do You Yahoo!?
Get your free @yahoo.com address at http://mail.yahoo.com


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-242-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Nov 07 08:33:51 2001
Return-Path: <lucene-user-return-242-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 83347 invoked from network); 7 Nov 2001 08:33:51 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 7 Nov 2001 08:33:51 -0000
Received: (qmail 27309 invoked from network); 7 Nov 2001 08:36:28 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 7 Nov 2001 08:36:28 -0000
Received: (qmail 3488 invoked by uid 97); 7 Nov 2001 08:34:01 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 3472 invoked by uid 97); 7 Nov 2001 08:34:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3461 invoked from network); 7 Nov 2001 08:34:00 -0000
Message-ID: <001801c16766$efcbf1d0$a301a8c0@arcadsoftware.fr>
From: "Christophe" <cgd@free.fr>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <000e01c166e5$f02735d0$a301a8c0@arcadsoftware.fr> <3BE85B75.3A8E6DFF@blackwell.co.uk>
Subject: Re: partial search
Date: Wed, 7 Nov 2001 09:33:49 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
Disposition-Notification-To: "Christophe" <cgd@free.fr>
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Virus-Scanned: by NWC
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

After some test, I found there was a difference between "tes*" and "TES*".
It seems to not work with uppercase and *.
however it works fine with "test" and "TEST".
It happend only with the '*'.

-----
Christophe

----- Message d'origine -----
De : "Ian Lea" <ian.lea@blackwell.co.uk>
 : "Lucene Users List" <lucene-user@jakarta.apache.org>; <cgd@free.fr>
Envoy : mardi 6 novembre 2001 22:51
Objet : Re: partial search


> > How could I make a search with something like "tes*" for test, testing,
...?
> >
> > Currently, I use a StandardAnalyzer for indexing and searching (with
query
> > parser), and it doesn't work.
> > Do I need to use another analyser ?
>
> I don't think so.  The short program below works for me with
lucene-1.2-rc2.
>
>
> --
> Ian.
> ian.lea@blackwell.co.uk
>
>
> import org.apache.lucene.queryParser.*;
> import org.apache.lucene.search.*;
> import org.apache.lucene.index.*;
> import org.apache.lucene.analysis.*;
> import org.apache.lucene.analysis.standard.*;
> import org.apache.lucene.document.*;
>
>
> public class Test {
>
>     public static void main(String args[]) throws Exception {
> Analyzer analyzer = new StandardAnalyzer();
> IndexWriter writer = new IndexWriter("test", analyzer, true);
> Document d;
> d = new Document();
> d.add(Field.Text("word", "test"));
> writer.addDocument(d);
> d = new Document();
> d.add(Field.Text("word", "testing"));
> writer.addDocument(d);
> writer.close();
> IndexReader reader = IndexReader.open("test");
> Searcher searcher = new IndexSearcher(reader);
> String s = "test*";
> if (args.length > 0) { s = args[0]; }
> Query query = QueryParser.parse(s, "word", analyzer);
> Hits hits = searcher.search(query);
> for (int i = 0; i < hits.length(); i++) {
>     System.out.println(hits.doc(i).get("word"));
> }
>     }
> }
>


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-243-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Nov 07 09:00:40 2001
Return-Path: <lucene-user-return-243-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 95187 invoked from network); 7 Nov 2001 09:00:40 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 7 Nov 2001 09:00:40 -0000
Received: (qmail 28481 invoked from network); 7 Nov 2001 09:03:17 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 7 Nov 2001 09:03:17 -0000
Received: (qmail 14277 invoked by uid 97); 7 Nov 2001 09:00:50 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 14267 invoked by uid 97); 7 Nov 2001 09:00:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 787 invoked from network); 6 Nov 2001 20:40:22 -0000
Date: Tue, 6 Nov 2001 12:40:22 -0800
From: Brian Goetz <brian@quiotix.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: QueryParser.parse(...) javadoc is incorrect
Message-ID: <20011106124022.D24250@lx.quiotix.com>
References: <1718B3F8E2E0D31181A100508B94EECC036A3C94@USCAMEXCP003>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.2.5i
In-Reply-To: <1718B3F8E2E0D31181A100508B94EECC036A3C94@USCAMEXCP003>; from pfriedman@macromedia.com on Tue, Nov 06, 2001 at 11:41:35AM -0500
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> The javadoc for QueryParser.parse(...) says that it throws a ParseException
> if an error occurs, in fact, it throws an
> org.apache.lucene.queryParser.TokenMgrError.

Actually, this is not quite correct.  

It throws a ParseException if it encounters a valid sequence of tokens
but which do not match the parsing rules.  For example, I'll bet 
  foo AND AND bar
would throw a ParseException, even though this is a sequence of valid
tokens.  

It throws a TokenMgrError when it cannot even assemble a sequence of
characters into a token.  This shouldn't happen; post the offending
query and I'll see if it can be fixed.


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-244-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Nov 07 10:44:06 2001
Return-Path: <lucene-user-return-244-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 57911 invoked from network); 7 Nov 2001 10:44:06 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 7 Nov 2001 10:44:06 -0000
Received: (qmail 20528 invoked from network); 7 Nov 2001 10:46:45 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 7 Nov 2001 10:46:45 -0000
Received: (qmail 26640 invoked by uid 97); 7 Nov 2001 10:44:17 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 26624 invoked by uid 97); 7 Nov 2001 10:44:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26607 invoked from network); 7 Nov 2001 10:44:15 -0000
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C16779.217055C1"
Subject: RE: queryParser error with first charactere
X-MimeOLE: Produced By Microsoft Exchange V6.0.4417.0
Date: Wed, 7 Nov 2001 11:44:09 +0100
Message-ID: <50EA669584662B498F13A5F24630A0C0DB12A3@peach.mnet.private>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: queryParser error with first charactere
Thread-Index: AcFm39L4HHQwAdqITQqbtBUCXYYU8QAl9H1g
From: =?Windows-1252?Q?Hal=E1csy_P=E9ter?= <halacsy.peter@axelero.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C16779.217055C1
Content-Type: text/plain;
	charset="Windows-1252"
Content-Transfer-Encoding: quoted-printable



> From: Christophe GOGUYER DESSAGNES [mailto:cgd@arcadsoftware.com]
> Sent: Tuesday, November 06, 2001 5:26 PM
> Hi,
>=20
> I've a queryParser error if the first character is a spacial=20
> character.
> ie : ' @ =E7 =E0 ...
> It doesn't appear with lucene old version (<1.1).
> Is it a bug or something has changed in the way to call the parser ?

Hello,

on 01/11 Doug wrote to dev list:
<quote>
Thanks to Brian Goetz, the new version of the QueryParser in CVS should
now
correctly handle non-ASCII characters, such as diactritics, kana and
kanji.
Can the folks who have reported problems with this please try the new
version?  If you don't want to compile it for yourself, wait until
tomorrow
and try the nightly build at:
  http://jakarta.apache.org/builds/jakarta-lucene/nightly/
</quote>

peter

------_=_NextPart_001_01C16779.217055C1--

From lucene-user-return-245-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Nov 07 11:19:53 2001
Return-Path: <lucene-user-return-245-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 72645 invoked from network); 7 Nov 2001 11:19:53 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 7 Nov 2001 11:19:53 -0000
Received: (qmail 24273 invoked from network); 7 Nov 2001 11:22:33 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 7 Nov 2001 11:22:33 -0000
Received: (qmail 18485 invoked by uid 97); 7 Nov 2001 11:20:05 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 18469 invoked by uid 97); 7 Nov 2001 11:20:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 18458 invoked from network); 7 Nov 2001 11:20:04 -0000
Message-ID: <002801c1677e$2440a0c0$a301a8c0@arcadsoftware.fr>
From: "Christophe" <cgd@free.fr>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <50EA669584662B498F13A5F24630A0C0DB12A3@peach.mnet.private>
Subject: Re: queryParser error with first charactere
Date: Wed, 7 Nov 2001 12:19:58 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="Windows-1252"
Content-Transfer-Encoding: 8bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
Disposition-Notification-To: "Christophe" <cgd@free.fr>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Virus-Scanned: by NWC
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I've tested the 6/11/01 nightly build, and it doesn't work with
&,$,@,[,],...
-----
Christophe

----- Message d'origine -----
De : "Halcsy Pter" <halacsy.peter@axelero.com>
 : "Lucene Users List" <lucene-user@jakarta.apache.org>
Envoy : mercredi 7 novembre 2001 11:44
Objet : RE: queryParser error with first charactere




> From: Christophe GOGUYER DESSAGNES [mailto:cgd@arcadsoftware.com]
> Sent: Tuesday, November 06, 2001 5:26 PM
> Hi,
>
> I've a queryParser error if the first character is a spacial
> character.
> ie : ' @   ...
> It doesn't appear with lucene old version (<1.1).
> Is it a bug or something has changed in the way to call the parser ?

Hello,

on 01/11 Doug wrote to dev list:
<quote>
Thanks to Brian Goetz, the new version of the QueryParser in CVS should
now
correctly handle non-ASCII characters, such as diactritics, kana and
kanji.
Can the folks who have reported problems with this please try the new
version?  If you don't want to compile it for yourself, wait until
tomorrow
and try the nightly build at:
  http://jakarta.apache.org/builds/jakarta-lucene/nightly/
</quote>

peter



--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-246-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Nov 07 14:06:01 2001
Return-Path: <lucene-user-return-246-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 82419 invoked from network); 7 Nov 2001 14:06:01 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 7 Nov 2001 14:06:01 -0000
Received: (qmail 25716 invoked from network); 7 Nov 2001 14:08:27 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 7 Nov 2001 14:08:27 -0000
Received: (qmail 15572 invoked by uid 97); 7 Nov 2001 14:04:26 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 15550 invoked by uid 97); 7 Nov 2001 14:04:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 15521 invoked from network); 7 Nov 2001 14:04:25 -0000
Message-ID: <1718B3F8E2E0D31181A100508B94EECC036A3CA1@USCAMEXCP003>
From: Paul Friedman <pfriedman@macromedia.com>
To: "'lucene-user@jakarta.apache.org'" <lucene-user@jakarta.apache.org>
Subject: RE: QueryParser.parse(...) javadoc is incorrect
Date: Wed, 7 Nov 2001 09:03:59 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Here's an example that throws the TokenMgrError.

import org.apache.lucene.queryParser.*; 
import org.apache.lucene.search.*; 
import org.apache.lucene.index.*; 
import org.apache.lucene.analysis.*; 
import org.apache.lucene.analysis.standard.*;
import org.apache.lucene.document.*; 

public class ParseTest { 

    public static void main(String args[]) throws Exception {

    	Analyzer analyzer = new StandardAnalyzer(); 
    	IndexReader reader = IndexReader.open("index");
    	Searcher searcher = new IndexSearcher(reader);
    	String qStr = "[]";
    	Query query = QueryParser.parse(qStr, "text", analyzer);
    }
}

-----Original Message-----
From: Brian Goetz [mailto:brian@quiotix.com]
Sent: Tuesday, November 06, 2001 3:40 PM
To: Lucene Users List
Subject: Re: QueryParser.parse(...) javadoc is incorrect


> The javadoc for QueryParser.parse(...) says that it throws a
ParseException
> if an error occurs, in fact, it throws an
> org.apache.lucene.queryParser.TokenMgrError.

Actually, this is not quite correct.  

It throws a ParseException if it encounters a valid sequence of tokens
but which do not match the parsing rules.  For example, I'll bet 
  foo AND AND bar
would throw a ParseException, even though this is a sequence of valid
tokens.  

It throws a TokenMgrError when it cannot even assemble a sequence of
characters into a token.  This shouldn't happen; post the offending
query and I'll see if it can be fixed.


--
To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-247-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Nov 07 15:23:20 2001
Return-Path: <lucene-user-return-247-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 58651 invoked from network); 7 Nov 2001 15:23:19 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 7 Nov 2001 15:23:19 -0000
Received: (qmail 19250 invoked from network); 7 Nov 2001 15:25:46 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 7 Nov 2001 15:25:46 -0000
Received: (qmail 6376 invoked by uid 97); 7 Nov 2001 15:23:18 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 6340 invoked by uid 97); 7 Nov 2001 15:23:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6329 invoked from network); 7 Nov 2001 15:23:17 -0000
Message-ID: <20011107152317.23879.qmail@web12705.mail.yahoo.com>
Date: Wed, 7 Nov 2001 07:23:17 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: partial search
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <001801c16766$efcbf1d0$a301a8c0@arcadsoftware.fr>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Yes, and here is the explanation, if you are interested:
http://www.jguru.com/faq/view.jsp?EID=538312

Otis

--- Christophe <cgd@free.fr> wrote:
> After some test, I found there was a difference between "tes*" and
> "TES*".
> It seems to not work with uppercase and *.
> however it works fine with "test" and "TEST".
> It happend only with the '*'.
> 
> -----
> Christophe
> 
> ----- Message d'origine -----
> De : "Ian Lea" <ian.lea@blackwell.co.uk>
>  : "Lucene Users List" <lucene-user@jakarta.apache.org>;
> <cgd@free.fr>
> Envoy : mardi 6 novembre 2001 22:51
> Objet : Re: partial search
> 
> 
> > > How could I make a search with something like "tes*" for test,
> testing,
> ...?
> > >
> > > Currently, I use a StandardAnalyzer for indexing and searching
> (with
> query
> > > parser), and it doesn't work.
> > > Do I need to use another analyser ?
> >
> > I don't think so.  The short program below works for me with
> lucene-1.2-rc2.
> >
> >
> > --
> > Ian.
> > ian.lea@blackwell.co.uk
> >
> >
> > import org.apache.lucene.queryParser.*;
> > import org.apache.lucene.search.*;
> > import org.apache.lucene.index.*;
> > import org.apache.lucene.analysis.*;
> > import org.apache.lucene.analysis.standard.*;
> > import org.apache.lucene.document.*;
> >
> >
> > public class Test {
> >
> >     public static void main(String args[]) throws Exception {
> > Analyzer analyzer = new StandardAnalyzer();
> > IndexWriter writer = new IndexWriter("test", analyzer, true);
> > Document d;
> > d = new Document();
> > d.add(Field.Text("word", "test"));
> > writer.addDocument(d);
> > d = new Document();
> > d.add(Field.Text("word", "testing"));
> > writer.addDocument(d);
> > writer.close();
> > IndexReader reader = IndexReader.open("test");
> > Searcher searcher = new IndexSearcher(reader);
> > String s = "test*";
> > if (args.length > 0) { s = args[0]; }
> > Query query = QueryParser.parse(s, "word", analyzer);
> > Hits hits = searcher.search(query);
> > for (int i = 0; i < hits.length(); i++) {
> >     System.out.println(hits.doc(i).get("word"));
> > }
> >     }
> > }
> >
> 
> 
> --
> To unsubscribe, e-mail:  
> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
> <mailto:lucene-user-help@jakarta.apache.org>
> 


__________________________________________________
Do You Yahoo!?
Find a job, post your resume.
http://careers.yahoo.com

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-248-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Nov 07 15:38:52 2001
Return-Path: <lucene-user-return-248-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 74914 invoked from network); 7 Nov 2001 15:38:52 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 7 Nov 2001 15:38:52 -0000
Received: (qmail 25352 invoked from network); 7 Nov 2001 15:41:21 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 7 Nov 2001 15:41:21 -0000
Received: (qmail 1995 invoked by uid 97); 7 Nov 2001 15:38:47 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 1902 invoked by uid 97); 7 Nov 2001 15:38:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1857 invoked from network); 7 Nov 2001 15:38:45 -0000
Message-ID: <000d01c167a2$4866bce0$a301a8c0@arcadsoftware.fr>
From: "Christophe" <cgd@free.fr>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20011107152317.23879.qmail@web12705.mail.yahoo.com>
Subject: Re: partial search
Date: Wed, 7 Nov 2001 16:38:42 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
Disposition-Notification-To: "Christophe" <cgd@free.fr>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Virus-Scanned: by NWC
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

ok, thank you.

-----
Christophe

----- Message d'origine -----
De : "Otis Gospodnetic" <otis_gospodnetic@yahoo.com>
 : "Lucene Users List" <lucene-user@jakarta.apache.org>
Envoy : mercredi 7 novembre 2001 16:23
Objet : Re: partial search


> Yes, and here is the explanation, if you are interested:
> http://www.jguru.com/faq/view.jsp?EID=538312
>
> Otis
>
> --- Christophe <cgd@free.fr> wrote:
> > After some test, I found there was a difference between "tes*" and
> > "TES*".
> > It seems to not work with uppercase and *.
> > however it works fine with "test" and "TEST".
> > It happend only with the '*'.
> >
> > -----
> > Christophe
> >
> > ----- Message d'origine -----
> > De : "Ian Lea" <ian.lea@blackwell.co.uk>
> >  : "Lucene Users List" <lucene-user@jakarta.apache.org>;
> > <cgd@free.fr>
> > Envoy : mardi 6 novembre 2001 22:51
> > Objet : Re: partial search
> >
> >
> > > > How could I make a search with something like "tes*" for test,
> > testing,
> > ...?
> > > >
> > > > Currently, I use a StandardAnalyzer for indexing and searching
> > (with
> > query
> > > > parser), and it doesn't work.
> > > > Do I need to use another analyser ?
> > >
> > > I don't think so.  The short program below works for me with
> > lucene-1.2-rc2.
> > >
> > >
> > > --
> > > Ian.
> > > ian.lea@blackwell.co.uk
> > >
> > >
> > > import org.apache.lucene.queryParser.*;
> > > import org.apache.lucene.search.*;
> > > import org.apache.lucene.index.*;
> > > import org.apache.lucene.analysis.*;
> > > import org.apache.lucene.analysis.standard.*;
> > > import org.apache.lucene.document.*;
> > >
> > >
> > > public class Test {
> > >
> > >     public static void main(String args[]) throws Exception {
> > > Analyzer analyzer = new StandardAnalyzer();
> > > IndexWriter writer = new IndexWriter("test", analyzer, true);
> > > Document d;
> > > d = new Document();
> > > d.add(Field.Text("word", "test"));
> > > writer.addDocument(d);
> > > d = new Document();
> > > d.add(Field.Text("word", "testing"));
> > > writer.addDocument(d);
> > > writer.close();
> > > IndexReader reader = IndexReader.open("test");
> > > Searcher searcher = new IndexSearcher(reader);
> > > String s = "test*";
> > > if (args.length > 0) { s = args[0]; }
> > > Query query = QueryParser.parse(s, "word", analyzer);
> > > Hits hits = searcher.search(query);
> > > for (int i = 0; i < hits.length(); i++) {
> > >     System.out.println(hits.doc(i).get("word"));
> > > }
> > >     }
> > > }
> > >
> >
> >
> > --
> > To unsubscribe, e-mail:
> > <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> > For additional commands, e-mail:
> > <mailto:lucene-user-help@jakarta.apache.org>
> >
>
>
> __________________________________________________
> Do You Yahoo!?
> Find a job, post your resume.
> http://careers.yahoo.com
>
> --
> To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>
>
>


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-249-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Nov 07 22:45:06 2001
Return-Path: <lucene-user-return-249-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 50344 invoked from network); 7 Nov 2001 22:45:06 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 7 Nov 2001 22:45:06 -0000
Received: (qmail 18295 invoked from network); 7 Nov 2001 22:47:39 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 7 Nov 2001 22:47:39 -0000
Received: (qmail 3420 invoked by uid 97); 7 Nov 2001 22:45:11 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 3362 invoked by uid 97); 7 Nov 2001 22:45:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3350 invoked from network); 7 Nov 2001 22:45:09 -0000
Message-ID: <1718B3F8E2E0D31181A100508B94EECC036A3CAF@USCAMEXCP003>
From: Paul Friedman <pfriedman@macromedia.com>
To: "'lucene-user@jakarta.apache.org'" <lucene-user@jakarta.apache.org>
Subject: Keyword search with punctuation?
Date: Wed, 7 Nov 2001 17:44:59 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C167DD.D4CEF1D0"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C167DD.D4CEF1D0
Content-Type: text/plain;
	charset="iso-8859-1"

I am unable to find the expected documents when I execute a query on a
keyword whose value contains punctuation.
 
Here is the test case:
 
import org.apache.lucene.queryParser.*; 
import org.apache.lucene.search.*; 
import org.apache.lucene.index.*; 
import org.apache.lucene.analysis.*; 
import org.apache.lucene.analysis.standard.*;
import org.apache.lucene.document.*; 
 
public class KeywordTest { 
 
    public static void main(String args[]) throws Exception {
 
        Analyzer analyzer = new StandardAnalyzer(); 
        IndexWriter writer = new IndexWriter("index", analyzer, true); 
 
        Document d3 = new Document();
        d3.add(Field.Keyword("id","person/john"));
        d3.add(Field.Text("macrinstfulltext","male married"));
        writer.addDocument(d3);
 
        Document d4 = new Document();
        d4.add(Field.Keyword("id","person/wendy"));
        d4.add(Field.Text("macrinstfulltext","female Single"));
        writer.addDocument(d4);

        Document d5 = new Document();
        d5.add(Field.Keyword("id","person123"));
        d5.add(Field.Text("macrinstfulltext","female Single"));
        writer.addDocument(d5);
        
        writer.close();
 
        IndexReader reader = IndexReader.open("index");
        Searcher searcher = new IndexSearcher(reader);
 
        search(searcher, analyzer, "id:person/john");
// this query doesn't find anything
        search(searcher, analyzer, "id:person/wendy");
// this query doesn't find anything
        search(searcher, analyzer, "id:person123");
// this query works
        search(searcher, analyzer, "id:person/john id:person/wendy");   //
this query doesn't find anything
      }
 
      private static void search(Searcher searcher, Analyzer analyzer,
                                 String queryString) throws Exception {
        Query query = QueryParser.parse(queryString, "macrfulltext",
analyzer);
        Hits hits = searcher.search(query);
        System.out.println(query.toString("macrfulltext") + ": " +
hits.length() + " hits");
        for (int i = 0; i < hits.length(); i++) {
          System.out.println(" " + hits.doc(i).get("id"));
        }
      }
}
 
 

------_=_NextPart_001_01C167DD.D4CEF1D0--

From lucene-user-return-250-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Nov 08 06:46:07 2001
Return-Path: <lucene-user-return-250-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 55148 invoked from network); 8 Nov 2001 06:46:07 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 8 Nov 2001 06:46:07 -0000
Received: (qmail 25606 invoked from network); 8 Nov 2001 06:48:41 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 8 Nov 2001 06:48:41 -0000
Received: (qmail 6138 invoked by uid 97); 8 Nov 2001 06:46:13 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 6106 invoked by uid 97); 8 Nov 2001 06:46:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6095 invoked from network); 8 Nov 2001 06:46:11 -0000
X-WebMail-UserID:  vduggira
Date: Thu, 8 Nov 2001 01:46:01 -0500
Sender: Duggirala Vedavyas <vduggira@vt.edu>
From: Duggirala Vedavyas <vduggira@vt.edu>
To: Lucene Users List <lucene-user@jakarta.apache.org>
X-EXP32-SerialNo: 00002964
Subject: Newsgroup archive
Message-ID: <3C174DA5@zathras>
Mime-Version: 1.0
Content-Type: text/plain; charset="ISO-8859-1"
Content-Transfer-Encoding: 7bit
X-Mailer: WebMail (Hydra) SMTP v3.61
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,
I am new to Lucene.I would like to know if there is an archive of this      
group anywhere.
Thanks in advance,
vyas



--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-251-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Nov 08 09:21:15 2001
Return-Path: <lucene-user-return-251-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 25045 invoked from network); 8 Nov 2001 09:21:15 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 8 Nov 2001 09:21:15 -0000
Received: (qmail 14606 invoked from network); 8 Nov 2001 09:23:56 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 8 Nov 2001 09:23:56 -0000
Received: (qmail 4855 invoked by uid 97); 8 Nov 2001 09:21:24 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 4839 invoked by uid 97); 8 Nov 2001 09:21:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4828 invoked from network); 8 Nov 2001 09:21:23 -0000
Message-ID: <20011108092121.19627.qmail@web14804.mail.yahoo.com>
Date: Thu, 8 Nov 2001 01:21:21 -0800 (PST)
From: cloud jun <cloudjun_other@yahoo.com>
Subject: lucene indexing technique
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <3C174DA5@zathras>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

I am asking this question because I am currently
working on an internet search engine program. Can any
body tell me where is the part that lucene does its
indexing and which kind of indexing technique it is
using? Say, inverted file, document signature or
something else?

Thanks
jun

__________________________________________________
Do You Yahoo!?
Find a job, post your resume.
http://careers.yahoo.com

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-252-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Nov 08 09:49:04 2001
Return-Path: <lucene-user-return-252-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 39651 invoked from network); 8 Nov 2001 09:49:04 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 8 Nov 2001 09:49:04 -0000
Received: (qmail 18493 invoked from network); 8 Nov 2001 09:51:45 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 8 Nov 2001 09:51:45 -0000
Received: (qmail 28891 invoked by uid 97); 8 Nov 2001 09:49:14 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 28875 invoked by uid 97); 8 Nov 2001 09:49:14 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 28864 invoked from network); 8 Nov 2001 09:49:13 -0000
X-Apparently-From: <jakartatech@yahoo.com>
Message-ID: <009901c16839$bc832360$3200a8c0@jerry>
From: "Amit Roy \(Yahoo\)" <jakartatech@yahoo.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20011108092121.19627.qmail@web14804.mail.yahoo.com>
Subject: Re: lucene indexing technique
Date: Thu, 8 Nov 2001 15:12:48 +0530
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.00.2919.6700
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2919.6700
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Probably http://www.javaworld.com/javaworld/jw-09-2000/jw-0915-lucene.html
this article will help you

----- Original Message -----
From: "cloud jun" <cloudjun_other@yahoo.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Thursday, November 08, 2001 2:51 PM
Subject: lucene indexing technique


> Hi,
>
> I am asking this question because I am currently
> working on an internet search engine program. Can any
> body tell me where is the part that lucene does its
> indexing and which kind of indexing technique it is
> using? Say, inverted file, document signature or
> something else?
>
> Thanks
> jun
>
> __________________________________________________
> Do You Yahoo!?
> Find a job, post your resume.
> http://careers.yahoo.com
>
> --
> To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>


_________________________________________________________
Do You Yahoo!?
Get your free @yahoo.com address at http://mail.yahoo.com


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-253-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Nov 08 10:50:05 2001
Return-Path: <lucene-user-return-253-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 71607 invoked from network); 8 Nov 2001 10:50:05 -0000
Received: from unknown (HELO osaka.betaversion.org) (192.18.49.133)
  by daedalus.apache.org with SMTP; 8 Nov 2001 10:50:05 -0000
Received: (qmail 27400 invoked from network); 8 Nov 2001 10:52:46 -0000
Received: from nagoya.betaversion.org (192.18.49.131)
  by osaka.betaversion.org with SMTP; 8 Nov 2001 10:52:46 -0000
Received: (qmail 19292 invoked by uid 97); 8 Nov 2001 10:50:16 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 19258 invoked by uid 97); 8 Nov 2001 10:50:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 19246 invoked from network); 8 Nov 2001 10:50:14 -0000
Sender: tril@pluto.blackwell.co.uk
Message-ID: <3BEA6365.3A1FDEB8@blackwell.co.uk>
Date: Thu, 08 Nov 2001 10:50:13 +0000
From: Ian Lea <ian.lea@blackwell.co.uk>
X-Mailer: Mozilla 4.74 [en] (X11; U; Linux 2.2.16 i686)
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>,
	Paul Friedman <pfriedman@macromedia.com>
Subject: Re: Keyword search with punctuation?
References: <1718B3F8E2E0D31181A100508B94EECC036A3CAF@USCAMEXCP003>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I guess the StandardAnalyzer is splitting "person/john" into
"person john" before the comparison gets done with "person/john"
as stored in the index.  Does seem to make Field.Keyword of limited
use so perhaps I'm missing something.

Possible workarounds might include writing your own analyzer/
tokenizer combination that doesn't split up "person/john" if
the search field is "id", or reformatting the id field so that
it doesn't contain punctuation.  Neither seem very nice!




--
Ian.
ian.lea@blackwell.co.uk


Paul Friedman wrote:
> 
> I am unable to find the expected documents when I execute a query on a
> keyword whose value contains punctuation.
> 
> Here is the test case:
> 
> import org.apache.lucene.queryParser.*;
> import org.apache.lucene.search.*;
> import org.apache.lucene.index.*;
> import org.apache.lucene.analysis.*;
> import org.apache.lucene.analysis.standard.*;
> import org.apache.lucene.document.*;
> 
> public class KeywordTest {
> 
>     public static void main(String args[]) throws Exception {
> 
>         Analyzer analyzer = new StandardAnalyzer();
>         IndexWriter writer = new IndexWriter("index", analyzer, true);
> 
>         Document d3 = new Document();
>         d3.add(Field.Keyword("id","person/john"));
>         d3.add(Field.Text("macrinstfulltext","male married"));
>         writer.addDocument(d3);
> 
>         Document d4 = new Document();
>         d4.add(Field.Keyword("id","person/wendy"));
>         d4.add(Field.Text("macrinstfulltext","female Single"));
>         writer.addDocument(d4);
> 
>         Document d5 = new Document();
>         d5.add(Field.Keyword("id","person123"));
>         d5.add(Field.Text("macrinstfulltext","female Single"));
>         writer.addDocument(d5);
> 
>         writer.close();
> 
>         IndexReader reader = IndexReader.open("index");
>         Searcher searcher = new IndexSearcher(reader);
> 
>         search(searcher, analyzer, "id:person/john");
> // this query doesn't find anything
>         search(searcher, analyzer, "id:person/wendy");
> // this query doesn't find anything
>         search(searcher, analyzer, "id:person123");
> // this query works
>         search(searcher, analyzer, "id:person/john id:person/wendy");   //
> this query doesn't find anything
>       }
> 
>       private static void search(Searcher searcher, Analyzer analyzer,
>                                  String queryString) throws Exception {
>         Query query = QueryParser.parse(queryString, "macrfulltext",
> analyzer);
>         Hits hits = searcher.search(query);
>         System.out.println(query.toString("macrfulltext") + ": " +
> hits.length() + " hits");
>         for (int i = 0; i < hits.length(); i++) {
>           System.out.println(" " + hits.doc(i).get("id"));
>         }
>       }
> }
> 
>

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-262-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 09 00:42:10 2001
Return-Path: <lucene-user-return-262-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 61673 invoked from network); 9 Nov 2001 00:42:09 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 9 Nov 2001 00:42:09 -0000
Received: (qmail 27050 invoked by uid 97); 8 Nov 2001 23:32:40 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 27034 invoked by uid 97); 8 Nov 2001 23:32:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26978 invoked from network); 8 Nov 2001 23:32:39 -0000
Message-ID: <A8C793F63A63D411BD9300D0B73C4B232946ED@ecomail.nsbusiness.com>
From: soshima@business.com
To: lucene-user@jakarta.apache.org
Subject: nonalpha numberic characters
Date: Thu, 8 Nov 2001 15:32:34 -0800 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N



My search works for At&t with the ampersand in the middle.  However it
doesn't work for e-commerce with the dash in the middle.  Anything I have to
do with the analyzers/filters to fix this?  Thanks.

-scott

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-255-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 09 00:50:19 2001
Return-Path: <lucene-user-return-255-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 67018 invoked from network); 9 Nov 2001 00:50:19 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 9 Nov 2001 00:50:19 -0000
Received: (qmail 24129 invoked by uid 97); 8 Nov 2001 15:15:54 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 24079 invoked by uid 97); 8 Nov 2001 15:15:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 24029 invoked from network); 8 Nov 2001 15:15:52 -0000
From: "Jaume Homs" <jaume.homs@lostboys.es>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Indexing a Database && Spanish
Date: Thu, 8 Nov 2001 16:16:01 +0100
Message-ID: <MLEBLDNNKGHENECAKIPIGEIIDCAA.jaume.homs@lostboys.es>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4522.1200
Importance: Normal
X-MDRemoteIP: 212.0.126.66
X-Return-Path: jaume.homs@lostboys.es
X-MDaemon-Deliver-To: lucene-user@jakarta.apache.org
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi!
	I've tried Lucene and it looks very good, but I've two questions:

		-I've tried a sample that index a Web Site (all the html files) but, now I
would like to mix in the same index, information from a directory and
information from a database. Is it possible??? Is there a DatabaseDocument
like a HTMLDocument??? Does anyone have a sample? Does anyone tried?

		-I would like to index spanish information, is it optimized with the
StandardAnalyzer?? Have I to create an org.apache.lucene.analysis.es?? like
org.apache.lucene.analysis.de for german???? Is there anyone in spanish?



Thanks in advanced!




Jaume Homs | Technical Leader

Lost Boys Spain | Diputaci, 246 | 08007 Barcelona Espaa | www.lostboys.es
jaume.homs@lostboys.es | ICQ: 97362231 | Tel: +34 93 4457200 | Fax: +34 93
4457220

Amsterdam | Barcelona | Berlin | London | Madrid | Paris | San Francisco |
Warsaw | Zurich




----------------------------------- //
La informacin transmitida en este mensaje es CONFIDENCIAL y est dirigida
nicamente al destinatario del mensaje arriba indicado. No puede ser
transmitida ni revelada a persona distinta del destinatario sin autorizacin
expresa del remitente.
La recepcin de este mensaje, por cualquier causa, por persona distinta al
destinatario del mismo no le autoriza para hacer uso alguno de la
informacin. En este caso queda prohibida, y puede ser ilcita, cualquier
divulgacin, copia, distribucin y/o cualquier uso de la informacin. Le
rogamos borre inmediatamente el mensaje de su sistema y, en su caso, todas
las copias del mismo y lo notifique al remitente. Gracias.



--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-260-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 09 00:53:14 2001
Return-Path: <lucene-user-return-260-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 67808 invoked from network); 9 Nov 2001 00:53:13 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 9 Nov 2001 00:53:13 -0000
Received: (qmail 17024 invoked by uid 97); 8 Nov 2001 21:00:10 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 17008 invoked by uid 97); 8 Nov 2001 21:00:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16997 invoked from network); 8 Nov 2001 21:00:09 -0000
Sender: tril@pluto.blackwell.co.uk
Message-ID: <3BEAF260.655565C3@blackwell.co.uk>
Date: Thu, 08 Nov 2001 21:00:16 +0000
From: Ian Lea <ian.lea@blackwell.co.uk>
X-Mailer: Mozilla 4.74 [en] (X11; U; Linux 2.2.16 i686)
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Memory Usage?
References: <CAEEIOALDICHEGPNHMLCKEFOCKAA.anders@visator.dk>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

For what it is worth I've got an index with 1.6 million
small entries, taking up 350Mb of disk space, and have
a long running server process handling search requests
against the index and memory usage is stable at 95Mb.
It has handled 425000+ mostly simple searches so far.
The index is optimized and the process reuses an IndexReader.



--
Ian.
ian.lea@blackwell.co.uk


Anders Nielsen wrote:
> 
> funny...I was just about to write something along the same lines..
> 
> I have 700.000 entries, in all about 1 gig of data. And when I search I have
> to allocate at least 150meg to the java-process or it'll run out of memory.
> 
> Could someone (most likely Doug) outline how much memory we can expect is
> necessary when searching? (big-Oh notation would be nice)
> 
> regards,
> Anders Nielsen
> 
> -----Original Message-----
> From: Scott Ganyo [mailto:scott.ganyo@eTapestry.com]
> Sent: 8. november 2001 21:30
> To: Lucene-Users (E-mail)
> Subject: Memory Usage?
> 
> We're having problems with memory allocation (and thus garbage collection)
> that seem to be directly attributable to our heavy use of Lucene indexes.  I
> don't have a lot of data on this yet, but has anyone else seen this as an
> issue?  Is there any way that Lucene could be tuned to use less memory
> during searches?
> 
> Thanks,
> Scott

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-259-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 09 00:58:27 2001
Return-Path: <lucene-user-return-259-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 72032 invoked from network); 9 Nov 2001 00:58:27 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 9 Nov 2001 00:58:27 -0000
Received: (qmail 19813 invoked by uid 97); 8 Nov 2001 20:44:18 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 19783 invoked by uid 97); 8 Nov 2001 20:44:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 19772 invoked from network); 8 Nov 2001 20:44:17 -0000
From: "Anders Nielsen" <anders@visator.dk>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: Memory Usage?
Date: Thu, 8 Nov 2001 21:44:33 +0100
Message-ID: <CAEEIOALDICHEGPNHMLCOEFOCKAA.anders@visator.dk>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
In-Reply-To: <FABBF873F68ED311BB35009027D390723E2EB3@darth_bobo.etapestry.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

oh, and I forgot to mention that the excessive memory-usage only appears
when I run very complex queries (BooleanQuery with about 30 or so terms and
a DateFilter)

I'm not complaining mind you, Lucene is still by far the best performing
full text indexing system I've been able to find.

regards,
Anders Nielsen

-----Original Message-----
From: Scott Ganyo [mailto:scott.ganyo@eTapestry.com]
Sent: 8. november 2001 21:30
To: Lucene-Users (E-mail)
Subject: Memory Usage?


We're having problems with memory allocation (and thus garbage collection)
that seem to be directly attributable to our heavy use of Lucene indexes.  I
don't have a lot of data on this yet, but has anyone else seen this as an
issue?  Is there any way that Lucene could be tuned to use less memory
during searches?

Thanks,
Scott


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-263-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 09 01:01:16 2001
Return-Path: <lucene-user-return-263-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 74788 invoked from network); 9 Nov 2001 01:01:16 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 9 Nov 2001 01:01:16 -0000
Received: (qmail 9461 invoked by uid 97); 9 Nov 2001 00:24:25 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 9442 invoked by uid 97); 9 Nov 2001 00:24:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 9431 invoked from network); 9 Nov 2001 00:24:23 -0000
Message-ID: <008f01c168b4$e14ff440$1e01a8c0@finaltouch.com>
From: "Robert J. Lebowitz" <lebowitz@finaltouch.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <A8C793F63A63D411BD9300D0B73C4B232946ED@ecomail.nsbusiness.com>
Subject: Re: nonalpha numberic characters
Date: Thu, 8 Nov 2001 18:24:22 -0600
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4807.1700
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4807.1700
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Yes... you should extend one of the standard analyzers and provide a
mechanism to include the dash (-) within words.  Use this analyzer to index
and search.


Rob
----- Original Message -----
From: <soshima@business.com>
To: <lucene-user@jakarta.apache.org>
Sent: Thursday, November 08, 2001 5:32 PM
Subject: nonalpha numberic characters


>
>
> My search works for At&t with the ampersand in the middle.  However it
> doesn't work for e-commerce with the dash in the middle.  Anything I have
to
> do with the analyzers/filters to fix this?  Thanks.
>
> -scott
>
> --
> To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-256-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 09 01:06:18 2001
Return-Path: <lucene-user-return-256-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 77175 invoked from network); 9 Nov 2001 01:06:18 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 9 Nov 2001 01:06:18 -0000
Received: (qmail 24691 invoked by uid 97); 8 Nov 2001 16:32:50 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 24635 invoked by uid 97); 8 Nov 2001 16:32:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 24619 invoked from network); 8 Nov 2001 16:32:48 -0000
Sender: tril@pluto.blackwell.co.uk
Message-ID: <3BEAB3BB.EC5716DA@blackwell.co.uk>
Date: Thu, 08 Nov 2001 16:32:59 +0000
From: Ian Lea <ian.lea@blackwell.co.uk>
X-Mailer: Mozilla 4.74 [en] (X11; U; Linux 2.2.16 i686)
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Indexing a Database && Spanish
References: <MLEBLDNNKGHENECAKIPIGEIIDCAA.jaume.homs@lostboys.es>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> ...
>                 -I've tried a sample that index a Web Site (all the html files) but, now I
> would like to mix in the same index, information from a directory and
> information from a database. Is it possible??? Is there a DatabaseDocument
> like a HTMLDocument??? Does anyone have a sample? Does anyone tried?

It is possible. Lucene neither knows nor cares where the information
comes from in the first place.

How about
  Document htmld = getDocFromHtml();
  writer.addDocument(htmld);
  Document dbd = getDocumentFromDB();
  writer.addDocument(dbd);

where getDocumentFromDB() will read whatever info you want
from your database and load it into a Lucene Document.


>                 -I would like to index spanish information, is it optimized with the
> StandardAnalyzer?? Have I to create an org.apache.lucene.analysis.es?? like
> org.apache.lucene.analysis.de for german???? Is there anyone in spanish?

StandardAnalyzer used StandardTokenizer and the javadocs for that say
"This should be a good tokenizer for most European-language documents"
but I've no personal experience of using if for any languages other
than English.



--
Ian.
ian.lea@blackwell.co.uk

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-254-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 09 01:13:18 2001
Return-Path: <lucene-user-return-254-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 81277 invoked from network); 9 Nov 2001 01:13:18 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 9 Nov 2001 01:13:18 -0000
Received: (qmail 461 invoked by uid 97); 8 Nov 2001 14:00:06 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 359 invoked by uid 97); 8 Nov 2001 14:00:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 317 invoked from network); 8 Nov 2001 14:00:04 -0000
Message-ID: <86F21E9558CE6F429B2D0AEB9820F1B82F2F12@S1001EXM01.macromedia.com>
From: Paul Friedman <pfriedman@macromedia.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: RE: Keyword search with punctuation?
Date: Thu, 8 Nov 2001 08:59:58 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

This really seems like a bug to me.  If I do the indexing using the StandardAnalyzer and do the search using the same analyzer, then shouldn't I be able to find the document?

Thanks.
Paul 

-----Original Message-----
From: Ian Lea [mailto:ian.lea@blackwell.co.uk]
Sent: Thursday, November 08, 2001 5:50 AM
To: Lucene Users List; Paul Friedman
Subject: Re: Keyword search with punctuation?


I guess the StandardAnalyzer is splitting "person/john" into
"person john" before the comparison gets done with "person/john"
as stored in the index.  Does seem to make Field.Keyword of limited
use so perhaps I'm missing something.

Possible workarounds might include writing your own analyzer/
tokenizer combination that doesn't split up "person/john" if
the search field is "id", or reformatting the id field so that
it doesn't contain punctuation.  Neither seem very nice!




--
Ian.
ian.lea@blackwell.co.uk


Paul Friedman wrote:
> 
> I am unable to find the expected documents when I execute a query on a
> keyword whose value contains punctuation.
> 
> Here is the test case:
> 
> import org.apache.lucene.queryParser.*;
> import org.apache.lucene.search.*;
> import org.apache.lucene.index.*;
> import org.apache.lucene.analysis.*;
> import org.apache.lucene.analysis.standard.*;
> import org.apache.lucene.document.*;
> 
> public class KeywordTest {
> 
>     public static void main(String args[]) throws Exception {
> 
>         Analyzer analyzer = new StandardAnalyzer();
>         IndexWriter writer = new IndexWriter("index", analyzer, true);
> 
>         Document d3 = new Document();
>         d3.add(Field.Keyword("id","person/john"));
>         d3.add(Field.Text("macrinstfulltext","male married"));
>         writer.addDocument(d3);
> 
>         Document d4 = new Document();
>         d4.add(Field.Keyword("id","person/wendy"));
>         d4.add(Field.Text("macrinstfulltext","female Single"));
>         writer.addDocument(d4);
> 
>         Document d5 = new Document();
>         d5.add(Field.Keyword("id","person123"));
>         d5.add(Field.Text("macrinstfulltext","female Single"));
>         writer.addDocument(d5);
> 
>         writer.close();
> 
>         IndexReader reader = IndexReader.open("index");
>         Searcher searcher = new IndexSearcher(reader);
> 
>         search(searcher, analyzer, "id:person/john");
> // this query doesn't find anything
>         search(searcher, analyzer, "id:person/wendy");
> // this query doesn't find anything
>         search(searcher, analyzer, "id:person123");
> // this query works
>         search(searcher, analyzer, "id:person/john id:person/wendy");   //
> this query doesn't find anything
>       }
> 
>       private static void search(Searcher searcher, Analyzer analyzer,
>                                  String queryString) throws Exception {
>         Query query = QueryParser.parse(queryString, "macrfulltext",
> analyzer);
>         Hits hits = searcher.search(query);
>         System.out.println(query.toString("macrfulltext") + ": " +
> hits.length() + " hits");
>         for (int i = 0; i < hits.length(); i++) {
>           System.out.println(" " + hits.doc(i).get("id"));
>         }
>       }
> }
> 
>

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-258-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 09 01:13:47 2001
Return-Path: <lucene-user-return-258-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 81718 invoked from network); 9 Nov 2001 01:13:46 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 9 Nov 2001 01:13:46 -0000
Received: (qmail 8221 invoked by uid 97); 8 Nov 2001 20:38:40 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 8203 invoked by uid 97); 8 Nov 2001 20:38:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 8191 invoked from network); 8 Nov 2001 20:38:39 -0000
From: "Anders Nielsen" <anders@visator.dk>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: Memory Usage?
Date: Thu, 8 Nov 2001 21:38:47 +0100
Message-ID: <CAEEIOALDICHEGPNHMLCKEFOCKAA.anders@visator.dk>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
In-Reply-To: <FABBF873F68ED311BB35009027D390723E2EB3@darth_bobo.etapestry.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

funny...I was just about to write something along the same lines..

I have 700.000 entries, in all about 1 gig of data. And when I search I have
to allocate at least 150meg to the java-process or it'll run out of memory.

Could someone (most likely Doug) outline how much memory we can expect is
necessary when searching? (big-Oh notation would be nice)

regards,
Anders Nielsen

-----Original Message-----
From: Scott Ganyo [mailto:scott.ganyo@eTapestry.com]
Sent: 8. november 2001 21:30
To: Lucene-Users (E-mail)
Subject: Memory Usage?


We're having problems with memory allocation (and thus garbage collection)
that seem to be directly attributable to our heavy use of Lucene indexes.  I
don't have a lot of data on this yet, but has anyone else seen this as an
issue?  Is there any way that Lucene could be tuned to use less memory
during searches?

Thanks,
Scott


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-257-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 09 01:23:42 2001
Return-Path: <lucene-user-return-257-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 87436 invoked from network); 9 Nov 2001 01:23:41 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 9 Nov 2001 01:23:41 -0000
Received: (qmail 12864 invoked by uid 97); 8 Nov 2001 20:26:21 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 12842 invoked by uid 97); 8 Nov 2001 20:26:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 12819 invoked from network); 8 Nov 2001 20:26:19 -0000
Message-ID: <FABBF873F68ED311BB35009027D390723E2EB3@darth_bobo.etapestry.com>
From: Scott Ganyo <scott.ganyo@eTapestry.com>
To: "Lucene-Users (E-mail)" <lucene-user@jakarta.apache.org>
Subject: Memory Usage?
Date: Thu, 8 Nov 2001 15:29:51 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C16894.1E275FF0"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C16894.1E275FF0
Content-Type: text/plain;
	charset="iso-8859-1"

We're having problems with memory allocation (and thus garbage collection)
that seem to be directly attributable to our heavy use of Lucene indexes.  I
don't have a lot of data on this yet, but has anyone else seen this as an
issue?  Is there any way that Lucene could be tuned to use less memory
during searches?

Thanks,
Scott

------_=_NextPart_001_01C16894.1E275FF0--

From lucene-user-return-261-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 09 01:24:25 2001
Return-Path: <lucene-user-return-261-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 87629 invoked from network); 9 Nov 2001 01:24:24 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 9 Nov 2001 01:24:24 -0000
Received: (qmail 23833 invoked by uid 97); 8 Nov 2001 23:29:11 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 23773 invoked by uid 97); 8 Nov 2001 23:29:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23762 invoked from network); 8 Nov 2001 23:29:09 -0000
Reply-To: <swong@progress.com>
From: "Stephen Wong" <swong@progress.com>
To: "Lucene-Users \(E-mail\)" <lucene-user@jakarta.apache.org>
Subject: Regular expression searching?
Date: Thu, 8 Nov 2001 17:49:07 -0500
Message-ID: <MOEHLDGPPFCFPJENGKDHKEIHCCAA.swong@progress.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4522.1200
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,
Has anyone implemented a regular expression searching
mechanism using Lucene?  If so, is it available?

If not, any ideas on if it is possible?  

Any ideas would be greatly appreciated.
Regards,
Steve

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-264-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 09 01:39:36 2001
Return-Path: <lucene-user-return-264-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 94331 invoked from network); 9 Nov 2001 01:39:36 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 9 Nov 2001 01:39:36 -0000
Received: (qmail 3049 invoked by uid 97); 9 Nov 2001 00:40:42 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 3009 invoked by uid 97); 9 Nov 2001 00:40:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 2949 invoked from network); 9 Nov 2001 00:40:38 -0000
Message-ID: <A8C793F63A63D411BD9300D0B73C4B232946EF@ecomail.nsbusiness.com>
From: soshima@business.com
To: lucene-user@jakarta.apache.org
Subject: RE: nonalpha numberic characters
Date: Thu, 8 Nov 2001 16:40:33 -0800 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Thanks, do you know if nonalphanumeric characters are excluded by default?
since & works, but - works, I am assuming they are not.  I am not sure how
to cleary include nonalphanumeric character explicitly.  If you have any
exmaples of this that would be great. Much thanks again. 

-----Original Message-----
From: Robert J. Lebowitz [mailto:lebowitz@finaltouch.com]
Sent: Thursday, November 08, 2001 4:24 PM
To: Lucene Users List
Subject: Re: nonalpha numberic characters


Yes... you should extend one of the standard analyzers and provide a
mechanism to include the dash (-) within words.  Use this analyzer to index
and search.


Rob
----- Original Message -----
From: <soshima@business.com>
To: <lucene-user@jakarta.apache.org>
Sent: Thursday, November 08, 2001 5:32 PM
Subject: nonalpha numberic characters


>
>
> My search works for At&t with the ampersand in the middle.  However it
> doesn't work for e-commerce with the dash in the middle.  Anything I have
to
> do with the analyzers/filters to fix this?  Thanks.
>
> -scott
>
> --
> To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>


--
To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-265-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 09 03:39:02 2001
Return-Path: <lucene-user-return-265-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 41147 invoked from network); 9 Nov 2001 03:39:02 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 9 Nov 2001 03:39:02 -0000
Received: (qmail 13214 invoked by uid 97); 9 Nov 2001 03:39:10 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 13169 invoked by uid 97); 9 Nov 2001 03:39:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 13158 invoked from network); 9 Nov 2001 03:39:08 -0000
Message-ID: <00e801c168d0$152c5e00$1e01a8c0@finaltouch.com>
From: "Robert J. Lebowitz" <lebowitz@finaltouch.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <A8C793F63A63D411BD9300D0B73C4B232946EF@ecomail.nsbusiness.com>
Subject: Re: nonalpha numberic characters
Date: Thu, 8 Nov 2001 21:39:05 -0600
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4807.1700
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4807.1700
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

It all depends on the analyzer and filters that you are using to index your
text.  Look at the archive for this list using my last name (lebowitz).  I
posted the source code for a slightly modified analyzer and filter that
should provide you with an example you can use for your own purposes.  It
was for an AlphaNumericAnalyzer, I believe.  You'd have to provide
additional tests for the characters you have in mind; not just standard
digits and characters.

Rob


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-266-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 09 05:16:48 2001
Return-Path: <lucene-user-return-266-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 63221 invoked from network); 9 Nov 2001 05:16:48 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 9 Nov 2001 05:16:48 -0000
Received: (qmail 14812 invoked by uid 97); 9 Nov 2001 05:16:56 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 14796 invoked by uid 97); 9 Nov 2001 05:16:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 14785 invoked from network); 9 Nov 2001 05:16:55 -0000
From: "Parag Dharmadhikari" <parag@bsil.com>
To: "lucene-user" <lucene-user@jakarta.apache.org>
Subject: printing file in html format??
Date: Fri, 9 Nov 2001 10:48:17 +0530
Message-ID: <NDBBIPCAFOAAMEDODMEDMEGIKEAA.parag@bsil.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2919.6600
X-AntiVirus: scanned for viruses by AMaViS 0.2.1 (http://amavis.org/)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi all,

This question may not be directly related to the lucene but still I would
like to put up this question as it could help me a great deal.

How should I show the file (of any type like word or excel) in the html
format which make it compatible throughout the any type of browser. Does
lucene provides any type of help to solve my problem?

Regards
parag




--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-267-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 09 09:52:01 2001
Return-Path: <lucene-user-return-267-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 88369 invoked from network); 9 Nov 2001 09:52:01 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 9 Nov 2001 09:52:01 -0000
Received: (qmail 27356 invoked by uid 97); 9 Nov 2001 09:52:13 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 27313 invoked by uid 97); 9 Nov 2001 09:52:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 27302 invoked from network); 9 Nov 2001 09:52:11 -0000
Sender: tril@pluto.blackwell.co.uk
Message-ID: <3BEBA756.8B436E01@blackwell.co.uk>
Date: Fri, 09 Nov 2001 09:52:22 +0000
From: Ian Lea <ian.lea@blackwell.co.uk>
X-Mailer: Mozilla 4.74 [en] (X11; U; Linux 2.2.16 i686)
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: printing file in html format??
References: <NDBBIPCAFOAAMEDODMEDMEGIKEAA.parag@bsil.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Lucene does not provide this directly, but there is nothing stopping
you from integrating your own or someone else's converter.  There
was some discussion of this on the list a little while ago.  See e.g.
http://www.mail-archive.com/lucene-user@jakarta.apache.org/msg00043.html


--
Ian.
ian.lea@blackwell.co.uk


Parag Dharmadhikari wrote:
> 
> Hi all,
> 
> This question may not be directly related to the lucene but still I would
> like to put up this question as it could help me a great deal.
> 
> How should I show the file (of any type like word or excel) in the html
> format which make it compatible throughout the any type of browser. Does
> lucene provides any type of help to solve my problem?
> 
> Regards
> parag

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-268-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 09 14:56:46 2001
Return-Path: <lucene-user-return-268-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 67329 invoked from network); 9 Nov 2001 14:56:46 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 9 Nov 2001 14:56:46 -0000
Received: (qmail 21134 invoked by uid 97); 9 Nov 2001 14:56:21 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 21101 invoked by uid 97); 9 Nov 2001 14:56:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 21085 invoked from network); 9 Nov 2001 14:56:17 -0000
Message-ID: <03bb01c1692e$a1decd70$6401a8c0@PROVIDENCE>
From: "Jeff Trent" <jtrent@structsoft.com>
To: <lucene-user@jakarta.apache.org>
Subject: Queries involving AND don't seem to work properly
Date: Fri, 9 Nov 2001 09:55:54 -0500
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_03B8_01C16904.B88B7F20"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2462.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2462.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_03B8_01C16904.B88B7F20
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi, I'm using RC1 and it seems that queries such as

"KeywordThatIKnowIsNotIndexed AND KeywordThatIsIndexed" is queried, the =
results act as if I specified OR instead of AND and I get all matches to =
KeywordThatIsIndexed instead of getting no results as I expected to see.

Any ideas?

Thanks,
Jeff


------=_NextPart_000_03B8_01C16904.B88B7F20--


From lucene-user-return-269-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 09 16:47:10 2001
Return-Path: <lucene-user-return-269-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 42300 invoked from network); 9 Nov 2001 16:47:10 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 9 Nov 2001 16:47:10 -0000
Received: (qmail 12884 invoked by uid 97); 9 Nov 2001 16:46:35 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 12792 invoked by uid 97); 9 Nov 2001 16:46:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 12650 invoked from network); 9 Nov 2001 16:46:33 -0000
Sender: tril@pluto.blackwell.co.uk
Message-ID: <3BEC0875.8EE078F9@blackwell.co.uk>
Date: Fri, 09 Nov 2001 16:46:45 +0000
From: Ian Lea <ian.lea@blackwell.co.uk>
X-Mailer: Mozilla 4.74 [en] (X11; U; Linux 2.2.16 i686)
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Queries involving AND don't seem to work properly
References: <03bb01c1692e$a1decd70$6401a8c0@PROVIDENCE>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Perhaps upgrade to rc2?  I don't see this using rc2.
Against an index of books by author,

kkkkkk AND bloch  returns 0 hits, as expected.
kkkkkk OR  bloch  returns lots of hits, as expected.


As suggested before on this list, it might help if you posted a
bit of code to demonstrate the problem.



--
Ian.
ian.lea@blackwell.co.uk



Jeff Trent wrote:
> 
> Hi, I'm using RC1 and it seems that queries such as
> 
> "KeywordThatIKnowIsNotIndexed AND KeywordThatIsIndexed" is queried, the results act as if I specified OR instead of AND and I get all matches to KeywordThatIsIndexed instead of getting no results as I expected to see.
> 
> Any ideas?
> 
> Thanks,
> Jeff

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-270-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 09 17:05:32 2001
Return-Path: <lucene-user-return-270-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 63578 invoked from network); 9 Nov 2001 17:05:32 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 9 Nov 2001 17:05:32 -0000
Received: (qmail 21094 invoked by uid 97); 9 Nov 2001 17:03:52 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 21072 invoked by uid 97); 9 Nov 2001 17:03:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 21054 invoked from network); 9 Nov 2001 17:03:51 -0000
Message-ID: <86F21E9558CE6F429B2D0AEB9820F1B82F2F20@S1001EXM01.macromedia.com>
From: Paul Friedman <pfriedman@macromedia.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Indexing problem
Date: Fri, 9 Nov 2001 12:03:47 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

When using the FSWriter, the actual file io doesn't occur until I close the writer, right?  So wouldn't it be just as efficient to do the following:

  IndexWriter fsWriter = new IndexWriter(new File(...), analyzer, false);
  while (... more docs to index...)
    ... add 100,000 docs to fsWriter ...
  }
  fsWriter.optimize();
  fsWriter.close();

-----Original Message-----
From: Scott Ganyo [mailto:scott.ganyo@eTapestry.com]
Sent: Friday, November 02, 2001 10:47 AM
To: 'Lucene Users List'
Subject: RE: Indexing problem


Well, I don't know if there's an archive of the list, so this what Doug
wrote:

"
A more efficient and slightly more complex approach would be to build large
indexes in RAM, and copy them to disk with IndexWriter.addIndexes:
  IndexWriter fsWriter = new IndexWriter(new File(...), analyzer, true);
  while (... more docs to index...)
    RAMDirectory ramDir = new RAMDirectory();
    IndexWriter ramWriter = new IndexWriter(ramDir, analyzer, true);
    ... add 100,000 docs to ramWriter ...
    ramWriter.optimize();
    ramWriter.close();
    fsWriter.addIndexes(new Directory[] { ramDir });
  }
  fsWriter.optimize();
  fsWriter.close();
"

Scott

> -----Original Message-----
> From: Paul Friedman [mailto:pfriedman@macromedia.com]
> Sent: Friday, November 02, 2001 9:13 AM
> To: 'Lucene Users List'
> Subject: RE: Indexing problem
> 
> 
> Where can I get Doug's example of indexing in memory and then 
> writing it out
> to disk? I just recently subscribed to this list and I can't 
> find it in the
> archive.  
> 
> Thanks.
> Paul
> 
> -----Original Message-----
> From: Scott Ganyo [mailto:scott.ganyo@eTapestry.com]
> Sent: Friday, November 02, 2001 7:14 AM
> To: 'Lucene Users List'
> Subject: RE: Indexing problem
> 
> 
> Yes.  You have too many open files.  There are a few things 
> you can try.  1)
> Increase the number of file handles your system has 
> available.  Yes, there
> is a setting for this in Windows.   2) Make sure that you have the
> IndexWriter.maxMergeDocs set to Integer.MAX_VALUE (the 
> default).  3) Try
> smaller values for IndexWriter.mergeFactor (default is 10).  
> 4) When all
> else fails, do all your indexing in memory and then write it 
> out to disk
> when you're done.  Doug posted an example of this just a 
> couple days ago.
> 
> Scott
> 
> > -----Original Message-----
> > From: Daryl Thachuk [mailto:daryl@montagetech.com]
> > Sent: Thursday, November 01, 2001 7:46 PM
> > To: lucene-user@jakarta.apache.org
> > Subject: Indexing problem
> > 
> > 
> > Hi
> > 
> > Since upgrading to 1.2  we've started getting the following 
> > error when 
> > creating an index in a directory with a large amount of 
> > files. Previous 
> > versions of Lucene were quite happy to index this directory.
> > 
> > Any thoughts as to the cause?
> > 
> > -d
> > 
> > java.io.FileNotFoundException: 
> > /private/Network/Servers/montage/Volumes/Disk2/Users/daryl/Lib
> > rary/Index/index5.
> > mtlibx/_n8.f3 (Too many open files)
> > 	at java.io.RandomAccessFile.open(Native Method)
> > 	at java.io.RandomAccessFile.<init>(RandomAccessFile.java:98)
> > 	at java.io.RandomAccessFile.<init>(RandomAccessFile.java:143)
> > 	at 
> > org.apache.lucene.store.FSInputStream$Descriptor.<init>(Unknown 
> > Source)
> > 	at org.apache.lucene.store.FSInputStream.<init>(Unknown Source)
> > 	at org.apache.lucene.store.FSDirectory.openFile(Unknown Source)
> > 	at 
> > org.apache.lucene.index.SegmentReader.openNorms(Unknown Source)
> > 	at org.apache.lucene.index.SegmentReader.<init>(Unknown Source)
> > 	at 
> > org.apache.lucene.index.IndexWriter.mergeSegments(Unknown Source)
> > 	at 
> > org.apache.lucene.index.IndexWriter.mergeSegments(Unknown Source)
> > 	at 
> > org.apache.lucene.index.IndexWriter.maybeMergeSegments(Unknown 
> > Source)
> > 	at 
> > org.apache.lucene.index.IndexWriter.addDocument(Unknown Source)
> > 	at IndexCreator.indexDocs(IndexCreator.java:75)
> > 	at IndexCreator.indexDocs(IndexCreator.java:67)
> > 	at IndexCreator.indexDocs(IndexCreator.java:67)
> > 	at IndexCreator.indexDocs(IndexCreator.java:67)
> > 	at IndexCreator.indexDocs(IndexCreator.java:67)
> > 	at IndexCreator.indexDocs(IndexCreator.java:67)
> > 	at IndexCreator.createIndex(IndexCreator.java:44)
> > 
> > ------
> > Daryl Thachuk		daryl@montagetech.com
> > Montage Technologies Inc.
> > http://www.montagetech.com
> > 
> > 
> > --
> > To unsubscribe, e-mail:   
> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
> <mailto:lucene-user-help@jakarta.apache.org>
> 
> --
> To unsubscribe, e-mail:   
> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail: 
> <mailto:lucene-user-help@jakarta.apache.org>
> 

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-271-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 09 18:59:34 2001
Return-Path: <lucene-user-return-271-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 2003 invoked from network); 9 Nov 2001 18:59:34 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 9 Nov 2001 18:59:34 -0000
Received: (qmail 13013 invoked by uid 97); 9 Nov 2001 18:54:32 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 12955 invoked by uid 97); 9 Nov 2001 18:54:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 12891 invoked from network); 9 Nov 2001 18:54:30 -0000
Message-ID: <03fa01c1694f$f5ba88a0$6401a8c0@PROVIDENCE>
From: "Jeff Trent" <jtrent@structsoft.com>
To: <lucene-user@jakarta.apache.org>
Subject: WILDTERM
Date: Fri, 9 Nov 2001 13:54:27 -0500
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_03F7_01C16926.0C57F810"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2462.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2462.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_03F7_01C16926.0C57F810
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

What would be the appropriate syntax for retrieving all documents in the =
index?  In AltaVista, an asterisk (*) can be passed.  This causes an =
exception to be thrown using Lucene.

Thanks,
- Jeff

------=_NextPart_000_03F7_01C16926.0C57F810--


From lucene-user-return-272-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 09 21:56:05 2001
Return-Path: <lucene-user-return-272-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 9250 invoked from network); 9 Nov 2001 21:56:04 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 9 Nov 2001 21:56:04 -0000
Received: (qmail 8504 invoked by uid 97); 9 Nov 2001 21:55:37 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 8371 invoked by uid 97); 9 Nov 2001 21:55:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 8287 invoked from network); 9 Nov 2001 21:55:33 -0000
Mime-Version: 1.0
X-Sender: wintondavies@mail.earthlink.net
Message-Id: <v0420550db812008f02b1@[172.19.0.98]>
Date: Fri, 9 Nov 2001 13:55:03 -0800
To: Lucene Users List <lucene-user@jakarta.apache.org>
From: Winton Davies <wdavies@overture.com>
Subject: RE: Maximum file size problem
Content-Type: text/plain; charset="us-ascii" ; format="flowed"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi Otis and Doug,

  Many thanks for your comments before, sorry I was unable to deal 
with it, I was under time-pressure for results :)

  I'm still hitting the 2Gb limit though -- and I'm on a solaris box 
with supposedly big files enabled. I'm using Java 1.2 -- could this 
be the problem ?
 
  I adopted Doug's version, of setting the maxMergeDocuments and 
mergeFactor. However, optimize() still wanted to create one big file 
(I think this was the cause). Is there anyway to semi-optimize :-) ?


Cheers,
  Winton

Winton Davies
Lead Engineer, Overture (NSDQ: OVER)
1820 Gateway Drive, Suite 360
San Mateo, CA 94404
work: (650) 403-2259
cell: (650) 867-1598
http://www.overture.com/

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-273-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 09 22:26:42 2001
Return-Path: <lucene-user-return-273-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 23990 invoked from network); 9 Nov 2001 22:26:42 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 9 Nov 2001 22:26:42 -0000
Received: (qmail 8872 invoked by uid 97); 9 Nov 2001 22:26:47 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 8856 invoked by uid 97); 9 Nov 2001 22:26:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 8845 invoked from network); 9 Nov 2001 22:26:46 -0000
Message-ID: <86F21E9558CE6F429B2D0AEB9820F1B82F2F2F@S1001EXM01.macromedia.com>
From: Paul Friedman <pfriedman@macromedia.com>
To: "'lucene-user@jakarta.apache.org'" <lucene-user@jakarta.apache.org>
Subject: Strange behavior indexing 1000 documents in RAMDirectory
Date: Fri, 9 Nov 2001 17:26:32 -0500 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: multipart/mixed;
	boundary="----_=_NextPart_000_01C1696D.9AFF8504"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------_=_NextPart_000_01C1696D.9AFF8504
Content-Type: text/plain;
	charset="iso-8859-1"

While comparing RAMDirectory vs FSDirectory indexing performance I ran across some strange behavior.  If I try to add 1000 documents using the RAMDirectory and then write it to disk, the search fails to find any documents.  However, running the exact same test with any other number of documents seems to work fine.

I have attached a test case that attempts to add/search 500, 999, 1000, 1001, 2000, 5000 documents to both a RAMDirectory and FSDirectory and then searches for the documents.  Notice in the following test output that the RAMDirectory test using 1000 documents fails to find any documents, all other tests work fine.

D:\Dev\Test Tools\lucene>java -cp %CLASSPATH%;.\ RAMWriterTest

Index and search 500 documents
RAMDirectory: indexed 500 in 1656 msec
RAMDirectory indexing: search 500 in 125 msec
FSDirectory: indexed 500 in 4157 msec
FSDirectory indexing: search 500 in 78 msec

Index and search 999 documents
RAMDirectory: indexed 999 in 1953 msec
RAMDirectory indexing: search 999 in 31 msec
FSDirectory: indexed 999 in 7797 msec
FSDirectory indexing: search 999 in 235 msec

Index and search 1000 documents
RAMDirectory: indexed 1000 in 1891 msec
RAMDirectory indexing: search 0 in 15 msec
FSDirectory: indexed 1000 in 8485 msec
FSDirectory indexing: search 1000 in 31 msec

Index and search 1001 documents
RAMDirectory: indexed 1001 in 1797 msec
RAMDirectory indexing: search 1001 in 16 msec
FSDirectory: indexed 1001 in 8484 msec
FSDirectory indexing: search 1001 in 32 msec

Index and search 2000 documents
RAMDirectory: indexed 2000 in 3594 msec
RAMDirectory indexing: search 2000 in 16 msec
FSDirectory: indexed 2000 in 16875 msec
FSDirectory indexing: search 2000 in 31 msec

Index and search 5000 documents
RAMDirectory: indexed 5000 in 8641 msec
RAMDirectory indexing: search 5000 in 31 msec
FSDirectory: indexed 5000 in 42375 msec
FSDirectory indexing: search 5000 in 78 msec


Can anybody explain this?

Thanks.
Paul


------_=_NextPart_000_01C1696D.9AFF8504
Content-Type: application/octet-stream;
	name="RAMWriterTest.java"
Content-Disposition: attachment;
	filename="RAMWriterTest.java"

import org.apache.lucene.queryParser.*; 
import org.apache.lucene.search.*; 
import org.apache.lucene.index.*; 
import org.apache.lucene.analysis.*; 
import org.apache.lucene.analysis.standard.*; 
import org.apache.lucene.document.*; 
import org.apache.lucene.store.*;

import java.util.*;
import java.io.*;

public class RAMWriterTest {
    public static void main(String args[]) throws Exception {
        test(500);
        test(999);
        test(1000);
        test(1001);
        test(2000);
        test(5000);
    }

    private static void test(int numdocs) throws Exception {
        
        System.out.println("\nIndex and search " + numdocs + " documents");

        long start = 0;
        long stop = 0;
        int count = 0;

        ArrayList documents = new ArrayList(numdocs);
        long id_seed = System.currentTimeMillis();
        for (int i = 1; i <= numdocs; i++) {
            Document doc = new Document();
            doc.add(Field.Keyword("id","address/home" + (id_seed + i)));
            doc.add(Field.Keyword("type","address"));
            doc.add(Field.Text("macrinstfulltext","We should have much more text here"));
            documents.add(doc);
        }

        Analyzer analyzer = new StandardAnalyzer();
        IndexSearcher searcher = null;

        start = System.currentTimeMillis();
        RAMDirectory ramDir = new RAMDirectory();
        IndexWriter ramWriter = new IndexWriter(ramDir, analyzer, true);
        for (Iterator it = documents.iterator(); it.hasNext();) {
            Document doc = (Document)it.next();
            ramWriter.addDocument(doc);
        }
        ramWriter.close();
        IndexWriter fsWriter = new IndexWriter(new File("index"), analyzer, true);
        fsWriter.addIndexes(new Directory[] {ramDir});
        fsWriter.close();
        stop = System.currentTimeMillis();
        System.out.println("RAMDirectory: indexed " + numdocs + " in " + (stop - start) + " msec");

        // test search for all documents
        start = System.currentTimeMillis();
        searcher = new IndexSearcher(IndexReader.open("index"));
        count = search(searcher, analyzer, "type:address");
        searcher.close();
        stop = System.currentTimeMillis();
        System.out.println("RAMDirectory indexing: search " + count + " in " + (stop - start) + " msec");

        start = System.currentTimeMillis();
        IndexWriter writer = new IndexWriter("index", analyzer, true);
        for (Iterator it = documents.iterator(); it.hasNext();) {
            Document doc = (Document)it.next();
            writer.addDocument(doc);
        }
        writer.close();
        stop = System.currentTimeMillis();
        System.out.println("FSDirectory: indexed " + numdocs + " in " + (stop - start) + " msec");

        // test search for all documents
        start = System.currentTimeMillis();
        searcher = new IndexSearcher(IndexReader.open("index"));
        count = search(searcher, analyzer, "type:address");
        searcher.close();
        stop = System.currentTimeMillis();
        System.out.println("FSDirectory indexing: search " + count + " in " + (stop - start) + " msec");
    }


    private static int search(Searcher searcher, Analyzer analyzer,String queryString) throws Exception {
        Query query = QueryParser.parse(queryString, "macrfulltext", analyzer);
        Hits hits = searcher.search(query);
        return hits.length();
    }
}




------_=_NextPart_000_01C1696D.9AFF8504
Content-Type: text/plain; charset=us-ascii

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>
------_=_NextPart_000_01C1696D.9AFF8504--

From lucene-user-return-274-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 09 22:47:18 2001
Return-Path: <lucene-user-return-274-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 37353 invoked from network); 9 Nov 2001 22:47:18 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 9 Nov 2001 22:47:18 -0000
Received: (qmail 7686 invoked by uid 97); 9 Nov 2001 22:47:20 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 7670 invoked by uid 97); 9 Nov 2001 22:47:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7636 invoked from network); 9 Nov 2001 22:47:19 -0000
Mime-Version: 1.0
X-Sender: wintondavies@mail.earthlink.net
Message-Id: <v0420550eb8120d08f4b9@[172.19.0.98]>
In-Reply-To: <v0420550db812008f02b1@[172.19.0.98]>
References: <v0420550db812008f02b1@[172.19.0.98]>
Date: Fri, 9 Nov 2001 14:46:32 -0800
To: Lucene Users List <lucene-user@jakarta.apache.org>
From: Winton Davies <wdavies@overture.com>
Subject: RE: Maximum file size problem
Content-Type: text/plain; charset="us-ascii" ; format="flowed"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

 From http://developer.java.sun.com/developer/bugParade/bugs/4116672.html

It looks like Java 1.2 had a bug at least... and its in RandomFile as well.
  I'm trying 1.3...

Cheers,
  Winton



Bug Id	4116672

Votes	1

Synopsis	java.io does not support large files >2GB

Category	java:classes_io

Reported Against	1.1.5, 1.1.3, 1.2beta2

Release Fixed	1.2beta4

State	Closed, fixed

Related Bugs	4100321, 4110555

Submit Date	Mar 02, 1998

Description
Java cannot handle files >2GB.


------------------------------------------------------------------------

SunSoft bug 4109867.

Java cannot handle files >2GB.

(1) **API Problems which need immediate attention**

   + The method FileInputStream.available() (for disk files) returns the
     number of bytes remaining in the file as an int.  The actual value for
     a large file may not fit in an int (needs a long).

   + The RandomAccessFile class has a skipBytes(int) method,
     rather than the skip(long) method which the InputStreams have.

(2) Implementation - these methods have problems:

   + java.io.FileInputStream.skip()
   + java.io.FileInputStream.available()
   + java.io.RandomAccessFile.getFilePointer()
   + java.io.RandomAccessFile.length()
   + java.io.RandomAccessFile.setlength()  [JDK1.2]
   + java.io.File.length()





Workaround
None.

Evaluation
>		How do you plan to manage the API change required for
>		the available method?  To just change the signature
>		seems like an incompatible change.

People often assume that the FileInputStream.available method is supposed to
return the total number of bytes remaining in the file, but this is incorrect.
The specification in the JLS (22.3.5) says:

     The general contract of available is that it returns an integer k; the next
     caller of a method for this input stream, which might be the same thread or
     another thread, can then expect to be able to read or skip up to k bytes
     without blocking (waiting for input data to arrive).

Now there well may be a bug in that available returns a nonsense value if there
are more than 2GB remaining; if so, we'll certainly fix that.  I don't see a
pressing need, however, to change the signature of the available method (which,
actually, we cannot do) or to provide some other method.  We already have the
File.length method, which returns a long; this isn't exactly the same as having
an available method that returns a long, but it's pretty close.

>		Do you plan to manage the API change for skip as suggested
>		in the "Suggested Fix"?

We can certainly consider adding a skip(long) method to RandomAccessFile as you
suggest, but only in 1.2.

>		Do you plan not to address this in the 1.1 release
>		sequence?  Its a bug both places.

We can fix bugs in the 1.1 implementation, but we cannot add to APIs.

-- xxxxx@xxxxx 3/4/1998


xxxxx@xxxxx 1998-03-05
I think getting a consistant semantic/syntax for the "available" family of
methods is critical.  The intended use is clear from the language specification
quotation above, but the syntax is in conflict with the semantic specification.
There are two ways to resolve this.  Either we change the syntax or we change
the semantic.  There are a couple of variations of each theme:

Change the syntax:

    1)	If this were Java 0.9 (i.e.: before any FCS) the simple solution would
	be to retain the simple existing semantic and provide a syntax which
	matched appropriately.  This implies changing the syntax of the
	entire family of "available()" methods to return a long rather than
	an int.  This is probably inapproprate at this time as being too
	significant of an incompatible change.

    2)	A related and palatable solution is to define a new set of 
"available()"
	methods (say, "bytesAvailable()") and deprecate (but support) the
	existing "available()" family of methods.  This must be accompanied
	by a semantic definition of the behavior of "available" when the
	current semantic definition can't be accomodated by the syntax.
	Either option A or B below could be used.

Change the semantics:

    A)	Augment the semantics of available() such that if the number of bytes
	available without blocking exceeds the value Integer.MAX_VALUE the
	value Integer.MAX_VALUE will be returned.  On the surface this may
	seem a bit kludgy, but if you realize that the intent of the
	available method is to feed its result as the third operand of a
	subsequent invokation of a read(byte b[], int off, int len) method,
	it kinda makes sense.

     B)	Augment the semantics of available such that a "file too large" io
	exception is the specified behavior.  This probably isn't ideal, but
	it is clear.

My preference is A) or 2) combined with A).  Note that both of these have the
property of not being able to break any existing applications.  A) by itself
is probably sufficient.

The solution for the randomAccessFile.skipBytes(int) is also less than obvious.
First one needs to note that the semantics of skip(long) and skipBytes(int)
are different.  skipBytes is guarenteed to skip the appropriate number of
bytes while skip is very explicit about not extending such a guarentee.  I
think I can guess that the "must" semantic of skipBytes was determined to
be necessary for some classes (such as ObjectInputStream), but don't see
why it was appropriate for RandomAccessFile.  I might further guess that
because the "must" semantic could be easily delivered for this class it was
chosen even though skip(long) would be more regular.  (The other classes
which have skipBytes are reading structured types, rather than a byte stream.)

Considering the above, it would be good and increase the regularity of the
platform if a skip(long) method were to be added to the RandomAccessFile
class.  Considering the differing semantics, I would suggest not deprecating
the skipBytes method (although, if it didn't exist, I'd not suggest adding it).

However (as has always been acknowledged) this isn't a required change for
the correct implementation of large file support.  A resolution of the
available() method semantics is.


Re. FileInputStream.available: I wasn't sufficiently clear in my earlier
comment.  The JLS text quoted above does not imply that the available method
must return the total number of bytes remaining in the file.  The value
returned by an available method may, in fact, be much less than the total
number of bytes that can be read without pausing.  A valid, though not
particularly useful, implementation of available can return zero every time
it's invoked.

So we don't need to change the signature or the specification of any of the
available methods.  Since the true meaning of available is so widely
misunderstood, we should clarify the specifications on this point.  We should
note in particular that if more than 2GB are immediately available, then
Integer.MAX_INT will be returned.

Re. RandomAccessFile.skipBytes(int): RandomAccessFile implements the DataInput
interface, which is why it must have a skipBytes method.  The JLS does not
require "must" semantics for skipBytes; the old javadoc, which is in the
process of being updated to contain the JLS text, was incorrect on this point.

We could add a skip(long) method to RandomAccessFile, but it's roughly
equivalent to this idiom, assuming raf is a RandomAccessFile:

     raf.seek(raf.getFilePointer() + offset);

The only difference is that skip(long) wouldn't throw an IOException if you try
to skip past the end of the file.  If you think this functionality is 
important,

please file a separate RFE.  I'd like to use this bug report just to track the
implementation bugs.

-- xxxxx@xxxxx 3/9/1998


xxxxx@xxxxx 1998-03-09

I pretty much agree with the above.  I got thrown for a major loop by the
out-of-sync and incorrect javadoc entries.  Note that skipBytes() javadoc
has already been fixed in 1.2.

I don't know if I'd go as far as specifying that available() return
Integer.MAX_INT.  I believe that taking the JLS diescription of available
and inserting it into javadoc would be sufficient.


Winton Davies
Lead Engineer, Overture (NSDQ: OVER)
1820 Gateway Drive, Suite 360
San Mateo, CA 94404
work: (650) 403-2259
cell: (650) 867-1598
http://www.overture.com/

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-275-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 09 23:13:48 2001
Return-Path: <lucene-user-return-275-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 11174 invoked from network); 9 Nov 2001 23:13:48 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 9 Nov 2001 23:13:48 -0000
Received: (qmail 8781 invoked by uid 97); 9 Nov 2001 23:13:55 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 8733 invoked by uid 97); 9 Nov 2001 23:13:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 8694 invoked from network); 9 Nov 2001 23:13:52 -0000
Message-ID: <4BC270C6AB8AD411AD0B00B0D0493DF0EE7CF9@mail.grandcentral.com>
From: Doug Cutting <DCutting@grandcentral.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Strange behavior indexing 1000 documents in RAMDirectory
Date: Fri, 9 Nov 2001 15:02:05 -0800 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Paul,

Thanks for the nice test case!

This bug was fixed a week or so ago.  Try the latest nightly release from:
  http://jakarta.apache.org/builds/jakarta-lucene/nightly/

Using that, I get the desired output:

Index and search 1000 documents
RAMDirectory: indexed 1000 in 1532 msec
RAMDirectory indexing: search 1000 in 0 msec
FSDirectory: indexed 1000 in 8622 msec
FSDirectory indexing: search 1000 in 0 msec

RAMDirectory is sure a lot faster!  Looks like I should add an option to let
more of indexing automatically happen in a RAMDirectory...

Currently mergeFactor documents are indexed in RAM and then merged to disk.
It would be fairly easy to add a limit so that, up to N documents could be
indexed in RAM before any are written to disk, where N is user-specified.
IndexWriter.close() would still flush RAM-based segments to disk.  The
default should still probably be fairly low, in case folks are adding large
documents and don't have much RAM, but folks with RAM and small documents
could raise it.

A better approach would be to have users specify the limit in bytes rather
than documents, and to flush the RAM-based segments when the RAM directory's
size reaches that limit.  This would take a bit more work, but still
shouldn't be hard.  Then you could dedicate, say, 10MB to indexing,
regardless of document size.  Hmm...

Doug

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-276-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Sat Nov 10 02:08:59 2001
Return-Path: <lucene-user-return-276-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 88999 invoked from network); 10 Nov 2001 02:08:59 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 10 Nov 2001 02:08:59 -0000
Received: (qmail 27937 invoked by uid 97); 10 Nov 2001 02:09:07 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 27863 invoked by uid 97); 10 Nov 2001 02:09:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 27848 invoked from network); 10 Nov 2001 02:09:03 -0000
Mime-Version: 1.0
X-Sender: wintondavies@mail.earthlink.net
Message-Id: <v04205511b8123b75de41@[172.19.0.98]>
In-Reply-To: <4BC270C6AB8AD411AD0B00B0D0493DF0EE7CF9@mail.grandcentral.com>
References: <4BC270C6AB8AD411AD0B00B0D0493DF0EE7CF9@mail.grandcentral.com>
Date: Fri, 9 Nov 2001 18:08:10 -0800
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
From: Winton Davies <wdavies@overture.com>
Subject: Large-files redeux, Sorting and Uniqifying results.
Content-Type: text/plain; charset="us-ascii" ; format="flowed"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi again,

offtopic -- Java 1.3 allowed me to optimize to a single 6GB 
segment... :-) yah -- needed Solaris largefile support though. 
However, I'm now fighting a problem when I try to open a searcher :-( 
StackTrace later!


ok, So I have a bunch of results -- I'd like to uniqify them (I can 
only return one document per document owner -- a document owner may 
have several versions), and then sort them according to another 
criteria other than score (eg alphabetically by owners name).

  Any guesses other than extracting the whole set and then processing 
:) I looked at HitCollector, but it says DO NOT CALL Searcher.Doc(i), 
which is what I would need to get the owners name... ?

  Any ideas ?

  Cheers,
  Winton

Winton Davies
Lead Engineer, Overture (NSDQ: OVER)
1820 Gateway Drive, Suite 360
San Mateo, CA 94404
work: (650) 403-2259
cell: (650) 867-1598
http://www.overture.com/

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-277-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Sat Nov 10 02:13:52 2001
Return-Path: <lucene-user-return-277-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 90005 invoked from network); 10 Nov 2001 02:13:52 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 10 Nov 2001 02:13:52 -0000
Received: (qmail 524 invoked by uid 97); 10 Nov 2001 02:13:59 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 495 invoked by uid 97); 10 Nov 2001 02:13:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 425 invoked from network); 10 Nov 2001 02:13:58 -0000
Mime-Version: 1.0
X-Sender: wintondavies@mail.earthlink.net
Message-Id: <v04205512b8123d554f99@[172.19.0.98]>
In-Reply-To: <v04205511b8123b75de41@[172.19.0.98]>
References: <4BC270C6AB8AD411AD0B00B0D0493DF0EE7CF9@mail.grandcentral.com>
 <v04205511b8123b75de41@[172.19.0.98]>
Date: Fri, 9 Nov 2001 18:13:04 -0800
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
From: Winton Davies <wdavies@overture.com>
Subject: 6GB file, stack trace on open...
Content-Type: text/plain; charset="us-ascii" ; format="flowed"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

Ok, here's the stack trace... Easily reproducible test code ? Hmm, 
its needs a 6GB file :) actually I guess a smaller one will do...


cheers,
  Winton

  java.io.FileNotFoundException: 
/sanmateo1/daviesw/godzilla/indexdir/epsindex/_4dnmk.fdt (Value too 
large for defined data type)
         at java.io.RandomAccessFile.open(Native Method)
         at java.io.RandomAccessFile.<init>(RandomAccessFile.java:102)
         at java.io.RandomAccessFile.<init>(RandomAccessFile.java:145)
         at 
org.apache.lucene.store.FSInputStream$Descriptor.<init>(Unknown 
Source)
         at org.apache.lucene.store.FSInputStream.<init>(Unknown Source)
         at org.apache.lucene.store.FSDirectory.openFile(Unknown Source)
         at org.apache.lucene.index.FieldsReader.<init>(Unknown Source)
         at org.apache.lucene.index.SegmentReader.<init>(Unknown Source)
         at org.apache.lucene.index.SegmentReader.<init>(Unknown Source)
         at org.apache.lucene.index.IndexReader$1.doBody(Compiled Code)
         at org.apache.lucene.store.Lock$With.run(Compiled Code)
         at org.apache.lucene.index.IndexReader.open(Unknown Source)
         at org.apache.lucene.index.IndexReader.open(Unknown Source)

Winton Davies
Lead Engineer, Overture (NSDQ: OVER)
1820 Gateway Drive, Suite 360
San Mateo, CA 94404
work: (650) 403-2259
cell: (650) 867-1598
http://www.overture.com/

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-278-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Sat Nov 10 03:46:30 2001
Return-Path: <lucene-user-return-278-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 16875 invoked from network); 10 Nov 2001 03:46:30 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 10 Nov 2001 03:46:30 -0000
Received: (qmail 10693 invoked by uid 97); 10 Nov 2001 03:46:38 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 10677 invoked by uid 97); 10 Nov 2001 03:46:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 10666 invoked from network); 10 Nov 2001 03:46:36 -0000
Message-ID: <4BC270C6AB8AD411AD0B00B0D0493DF0D78A1C@mail.grandcentral.com>
From: Doug Cutting <DCutting@grandcentral.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Memory Usage?
Date: Fri, 9 Nov 2001 19:34:54 -0800 
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I'm surprised that your memory use is that high.

An IndexReader requires:
  one byte per field per document in index (norms)
  one open file per file in index
  1/128 of the Terms in the index
    a Term has two pointers (8 bytes)
     and a String (4 pointers = 24 bytes, one to 16-bit chars)

A Search requires:
  1 1024 byte buffer per TermQuery
  2 128 int buffers per TermQuery
  2 1024 byte buffers per PhraseQuery term
  1 1024 element bucket array per BooleanQuery
    each bucket has 5 fields, and hence requires ~20 bytes
  1 bit per document in index per DateFilter

A Hits requires:
  up to n+100 ScoreDocs (float+int, 8 bytes)
    where n is the highest Hits.doc(n) accessed
  up to 200 Document objects

I may have forgotten something...

Let's assume that your 1M document index has 2M unique terms, and that you
only look at the top-100 hits, that your index has three fields, and that
the typical document has two stored fields, each 20 characters.  Your
30-term boolean query over a 1M document index should use around the
following numbers of bytes:
  IndexReader:
    3,000,000 (norms)
    1,000,000 (1/128 of 2M terms, each requiring ~50 bytes)
  during search
       50,000 (TermQuery buffers)
       20,000 (BooleanQuery buckets)
      100,000 (DateFilter bit vector)
  in Hits
        2,000 (200 ScoreDocs)
       30,000 (up to 200 cached Documents)

So searches should run in a 5Mb heap.  Are my assumptions off?

You can also see why it is useful to keep a single IndexReader and use it
for all queries.  (IndexReader is thread safe.)

You could also 'java -Xrunhprof:heap=sites' to see what's using memory.

Doug

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-279-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Sat Nov 10 14:50:02 2001
Return-Path: <lucene-user-return-279-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 93796 invoked from network); 10 Nov 2001 14:50:02 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 10 Nov 2001 14:50:02 -0000
Received: (qmail 14661 invoked by uid 97); 10 Nov 2001 14:50:04 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 14622 invoked by uid 97); 10 Nov 2001 14:50:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 14611 invoked from network); 10 Nov 2001 14:50:02 -0000
Message-ID: <006901c169f6$f6663810$6401a8c0@PROVIDENCE>
From: "Jeff Trent" <jtrent@structsoft.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <86F21E9558CE6F429B2D0AEB9820F1B82F2F2F@S1001EXM01.macromedia.com>
Subject: Re: Strange behavior indexing 1000 documents in RAMDirectory
Date: Sat, 10 Nov 2001 09:49:55 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2462.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2462.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I was wondering if there is more documentation surrounding RAMDirectory?
There is essentially no documentation in the javadoc for the Directory
classes or how to apply them effectively in your application.

Does it make sense to index a large collection of documents using a
temporary RAMDirectory and then merging with primary index directory? Does
anyone have code examples they can share to illustrate?  I've only been
developing using Lucene for a little while now...

thanks,
jeff


----- Original Message -----
From: "Paul Friedman" <pfriedman@macromedia.com>
To: <lucene-user@jakarta.apache.org>
Sent: Friday, November 09, 2001 5:26 PM
Subject: Strange behavior indexing 1000 documents in RAMDirectory


> While comparing RAMDirectory vs FSDirectory indexing performance I ran
across some strange behavior.  If I try to add 1000 documents using the
RAMDirectory and then write it to disk, the search fails to find any
documents.  However, running the exact same test with any other number of
documents seems to work fine.
>
> I have attached a test case that attempts to add/search 500, 999, 1000,
1001, 2000, 5000 documents to both a RAMDirectory and FSDirectory and then
searches for the documents.  Notice in the following test output that the
RAMDirectory test using 1000 documents fails to find any documents, all
other tests work fine.
>
> D:\Dev\Test Tools\lucene>java -cp %CLASSPATH%;.\ RAMWriterTest
>
> Index and search 500 documents
> RAMDirectory: indexed 500 in 1656 msec
> RAMDirectory indexing: search 500 in 125 msec
> FSDirectory: indexed 500 in 4157 msec
> FSDirectory indexing: search 500 in 78 msec
>
> Index and search 999 documents
> RAMDirectory: indexed 999 in 1953 msec
> RAMDirectory indexing: search 999 in 31 msec
> FSDirectory: indexed 999 in 7797 msec
> FSDirectory indexing: search 999 in 235 msec
>
> Index and search 1000 documents
> RAMDirectory: indexed 1000 in 1891 msec
> RAMDirectory indexing: search 0 in 15 msec
> FSDirectory: indexed 1000 in 8485 msec
> FSDirectory indexing: search 1000 in 31 msec
>
> Index and search 1001 documents
> RAMDirectory: indexed 1001 in 1797 msec
> RAMDirectory indexing: search 1001 in 16 msec
> FSDirectory: indexed 1001 in 8484 msec
> FSDirectory indexing: search 1001 in 32 msec
>
> Index and search 2000 documents
> RAMDirectory: indexed 2000 in 3594 msec
> RAMDirectory indexing: search 2000 in 16 msec
> FSDirectory: indexed 2000 in 16875 msec
> FSDirectory indexing: search 2000 in 31 msec
>
> Index and search 5000 documents
> RAMDirectory: indexed 5000 in 8641 msec
> RAMDirectory indexing: search 5000 in 31 msec
> FSDirectory: indexed 5000 in 42375 msec
> FSDirectory indexing: search 5000 in 78 msec
>
>
> Can anybody explain this?
>
> Thanks.
> Paul
>
>


----------------------------------------------------------------------------
----


> --
> To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-280-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Sun Nov 11 18:59:16 2001
Return-Path: <lucene-user-return-280-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 87889 invoked from network); 11 Nov 2001 18:59:14 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 11 Nov 2001 18:59:14 -0000
Received: (qmail 7731 invoked by uid 97); 11 Nov 2001 18:59:14 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 7646 invoked by uid 97); 11 Nov 2001 18:59:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7560 invoked from network); 11 Nov 2001 18:59:08 -0000
From: "Anders Nielsen" <anders@visator.dk>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: Memory Usage?
Date: Sun, 11 Nov 2001 15:59:17 +0100
Message-ID: <CAEEIOALDICHEGPNHMLCKEOACKAA.anders@visator.dk>
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----=_NextPart_000_0061_01C16AC9.D152F490"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
In-Reply-To: <4BC270C6AB8AD411AD0B00B0D0493DF0D78A1C@mail.grandcentral.com>
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0061_01C16AC9.D152F490
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit

I am not very familiar with the output of -Xrunhprof, but I've attached the
output of a run of a search through and index of 50.000 documents. It gave
me out-of-memory errors until I allocated 100 megabytes of heap-space.

The top 10:

SITES BEGIN (ordered by live bytes) Sun Nov 11 15:50:31 2001
          percent         live       alloc'ed  stack class
 rank   self  accum    bytes objs   bytes objs trace name
    1 26.41% 26.41% 12485200 12005 45566560 43814  1783 [B
    2 25.18% 51.59% 11904880 11447 44867680 43142  1796 [B
    3  4.15% 55.74%  1962904 69214 171546352 5510292  1632 [C
    4  3.83% 59.58%  1812096 3432 1812096 3432  1768 [I
    5  3.83% 63.41%  1812096 3432 1812096 3432  1769 [I
    6  3.34% 66.75%  1580688 65862 130618992 5442458  1631 java.lang.String
    7  3.19% 69.95%  1509584 44763 1509584 44763   458 [C
    8  3.03% 72.98%  1432416 44763 1432416 44763   459
org.apache.lucene.index.TermInfo
    9  2.27% 75.25%  1074312 44763 1074312 44763   457 java.lang.String
   10  2.23% 77.48%  1053792 65862 87079328 5442458  1631
org.apache.lucene.index.Term

and the top 3 traces were:

TRACE 1783:
        org.apache.lucene.store.InputStream.refill(InputStream.java:165)
        org.apache.lucene.store.InputStream.readByte(InputStream.java:80)
        org.apache.lucene.store.InputStream.readVInt(InputStream.java:106)

org.apache.lucene.index.SegmentTermDocs.next(SegmentTermDocs.java:101)

TRACE 1796:
        org.apache.lucene.store.InputStream.refill(InputStream.java:165)
        org.apache.lucene.store.InputStream.readByte(InputStream.java:80)
        org.apache.lucene.store.InputStream.readVInt(InputStream.java:106)

org.apache.lucene.index.SegmentTermPositions.next(SegmentTermPositions.java:
100)

TRACE 1632:
        java.lang.String.<init>(String.java:198)

org.apache.lucene.index.SegmentTermEnum.readTerm(SegmentTermEnum.java:134)

org.apache.lucene.index.SegmentTermEnum.next(SegmentTermEnum.java:114)

org.apache.lucene.index.TermInfosReader.scanEnum(TermInfosReader.java:166)


I've attached the whole trace as gzipped.txt

regards,
Anders Nielsen

-----Original Message-----
From: Doug Cutting [mailto:DCutting@grandcentral.com]
Sent: 10. november 2001 04:35
To: 'Lucene Users List'
Subject: RE: Memory Usage?


I'm surprised that your memory use is that high.

An IndexReader requires:
  one byte per field per document in index (norms)
  one open file per file in index
  1/128 of the Terms in the index
    a Term has two pointers (8 bytes)
     and a String (4 pointers = 24 bytes, one to 16-bit chars)

A Search requires:
  1 1024 byte buffer per TermQuery
  2 128 int buffers per TermQuery
  2 1024 byte buffers per PhraseQuery term
  1 1024 element bucket array per BooleanQuery
    each bucket has 5 fields, and hence requires ~20 bytes
  1 bit per document in index per DateFilter

A Hits requires:
  up to n+100 ScoreDocs (float+int, 8 bytes)
    where n is the highest Hits.doc(n) accessed
  up to 200 Document objects

I may have forgotten something...

Let's assume that your 1M document index has 2M unique terms, and that you
only look at the top-100 hits, that your index has three fields, and that
the typical document has two stored fields, each 20 characters.  Your
30-term boolean query over a 1M document index should use around the
following numbers of bytes:
  IndexReader:
    3,000,000 (norms)
    1,000,000 (1/128 of 2M terms, each requiring ~50 bytes)
  during search
       50,000 (TermQuery buffers)
       20,000 (BooleanQuery buckets)
      100,000 (DateFilter bit vector)
  in Hits
        2,000 (200 ScoreDocs)
       30,000 (up to 200 cached Documents)

So searches should run in a 5Mb heap.  Are my assumptions off?

You can also see why it is useful to keep a single IndexReader and use it
for all queries.  (IndexReader is thread safe.)

You could also 'java -Xrunhprof:heap=sites' to see what's using memory.

Doug

--
To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>


------=_NextPart_000_0061_01C16AC9.D152F490
Content-Type: application/x-compressed;
	name="java.hprof.txt.gz"
Content-Transfer-Encoding: base64
Content-Disposition: attachment;
	filename="java.hprof.txt.gz"

H4sICDeQ7jsAA2phdmEuaHByb2YudHh0AOw9a2/bOLafJ79Ct8gHB8gIelpS78wCqZNO05s0WTvt
LBYXWCgyk2giSx5JTurF/fH38CWKEiXLjtPp7mw+OBbJc0QekudN+uPJlxPtenr1/vziTDN1QzeP
tShHYYnm2myVap+yJ800NdN9aztvHUuzDMM8OPiAwjnKtbss137828Myz+60k9nk/Fy7WpXLVXlw
MMmW6zy+fyg1Mwh8gukyjvKsWBclWhTH2nka6VpgmNosTLWTtMzSONOmWTg/1q7DJNNOkjI7PpiE
SQwvSePwWAsc27CPtc/6TD/RNWiQaFP8hkKbogLlT2iuHxz8ejL9dP7pl//StJuHuNDu4gThXi7C
UoPHVYp7PUdPKMmWC5SWx1qYznFNsbr9DUWlVmYH0UOY3iPtOS4fslWppVkZRwhQC4RRlpZhnBZa
+YCxJ0n2HKf3WrleokIDUuQoyvJ58RZgPkzPTk612c3J9IY/nH061cjfIswfCQoYIyrjBcKwH8On
EAphBuYFwE9PJmea+MvRMofBpjDokDYtyjACLHkIfdS0szB6oA+4k0VclMWB1viDlwAYymPaWYrg
Lg8XqAAMV9ChnI8A/t/BExCliYR0DAiQafEcuhPfrbWReaQ9AzAMg9IyBMJEYRlDR7SH8Am1kJTh
I0q1ZQLdPdZG1hGlJ+mJFqeALIbR/DLR8iyDAT8D6haKuwzmlM7iyD4CYPT7CvqTrDX0FUUrvIoX
CCZyXsAMfjg7udZOP19eM+AYUzHKFssElUgr0nBZPGQlIRAsriR+4kMh3cGdwyRv9eEBhUug3Ptq
IcyB7nEa0ZGHQJAF7BZYDU3A6dXVDZlVGB/MCFCsgMVZonwRp9Dx2zUMvgU0uZiR/1ESFgUQqtXg
6t1HOroUpjaNUHsFnEyn5H+Y5+EaVtns/OZsVqsndCmyHFMvgbEwirDJ1Iq4JEuFbAg2/bHiNZhg
iwzAgUBPMUwJwwFY2QohO4bOHm5MFlULDWxduhJgGgskraosilZ5Tjb+5PqzNju5vL5gI6FjKKEh
zEUUJhpmUnjzwljg6z2sMrZEABMZDNK+XLZevoR9ks0xAuh/EeKlUpDVka/SlGx6ulXpIGBG4vu0
TYlQ+30VpuVqgTdMCAvjCfEdRBYWHhdDhDdxWuYqepKmccE2J1lYDEkepo90wWAyQp8jmJTwHg+2
PStZCdQg/cGMBq0Jp1gt0Py/oW75I8PFMIeKPQezxgiCd0uxzMT+YJRl83Fzfnn2A5mIPuLDYsDc
lPZ/gcJilQNhlauJMMliCYPDL4zTefwUz1cwHLbHtRH6GiWrOZ0Y2r6FqILHY0CoODrG++4ZwaTC
/1tMjxUsaYYiXS1ugQWqCBljPoUwx6Wvx2uO4JzrfA4Vc9bFSnvmkM0ZJil+qY4XawvNG9LtNyCh
UDIntMFbrZAHUe80lS3tVYY7/ZQ9kl11efXp/OZqSmaSVUqTuQCxXYISgCUi5gOds/nDD435g1ou
57TnMKb0zjSogo6GHLEOgN2k3EQ6AK6Ip+gp6Q3ZttotvOEOeG8R5fESVzJQwsFoTyiLGEZlPFxC
6BoCGGXB3j6HzgJXKx/ggwyhRmksnn7oF0w1pAXjnYR1YAoxQs+ImlUXecca4fLHWo1R/h+ZVoyh
/nZayjUATOZ7lKKc8O0D6LHYwHFJqQJbBpS4MCky7RaJBTAnU6/Y8HiigIdA3cGkzJMf/1cbQeks
S8I8Lo40oJVoQRq8g/E9kka/xqltHcHAfmR/so4FbW5/+9k3/NvAM45BOGk/a6DQpqBS/PzmfZyC
OvlPlL851u7zbLX8+Q1VR98cdSBxPZ8hsTiSKdaIEIhV7QMQLhmOLJzf8R7ZHNkCCCXgyZMS2jTu
QsS74nDoGcgaWNmncbEMy+hhaFdM0/AjjszlyCaw2mBT35ClZHRjwtrriI5ChT1wzLlRUW3MsVO0
P5pdgxVYnSOm9Jqu7749+GH+qKcI+CuKHvR5WIawu7FaixUbfZKlKSJq1nWWJfpPMeyJv4wapb+B
yvZ2bB71ozqF59uwQBxJ9UzAfeNF4J7VAA9z0EkSrKrma51+LtbF74l+uZ799eKvpIBhqpUQXKZX
EciyLCBQsUr1En0tdTAMshWwvgL3Br0nRs/fsxThvuj3qJxQzleMFNUEteXAlA7El4CldpFlj6tl
JzrTcQejg+79D1p3d800zD3iGlckNB0DSIiL9QSsPn1WYpb1bnUHm1xHX5ewxSfhMozicj2S6ijB
DFitXdDhEuTcXAHlOnwsKSr15+dn/TrMC/S5jBMdGEs2R9dh+TAShXQJOp1AWBjfZGcEdP55etEE
tYxqzfhkT2X5vX7/W6kvFmzZgQG9SsoZYP4pSui6E0UEx+f0Mc2eUzAHUnSkwPDb/Day9PMr/XYV
J/MK+FcwoqfZczGCGrERW9CX+BOawNRVoCNeOOj9vDF8ks1yGoMA68VBCeIZtoogpzmo6Lm+JIQE
irLnQV1hbSPKhvpAQcLrIB3LDNZoidsAEfUlZlof4ZvMx8STjido1NuC7T9z93cw7rP5Lb7FSemY
QfdeYvjau8E0/e491A2F9zAhPd6dD0hPVqDzISDNHH3V32PlrJgSHxXHIZVRrtyHYobusX9IxiEX
so5UAsv2nLcqhCu8EYFsWFSUhdhhooh2x1N2pwAtD+nvZ3RBZ/n60NSphjWqFbKNbhk9OC6y6PEQ
b0gdbNcRfuJDsHoIcY4/2Ygz4GijegGBD9yKncL4f0KLZbn+Cy8ZWxWDJXQ4uS2we6q8AMmpxyVW
K7N8JJUSpLbtbpaZrKMX5B/Z9jc5Ql/igijswEyuH3IQwtc5uou/kvpRR1v6Tn8Pr9z8Gu/Fr3nC
/3vfYdbUBNfFLO4+XYHYvAeZpk/PbsC8w5LkazniDyr+1Ia5StHVnb7A6uZIKhoGPkVL4lmWMVSl
w5Bs7DfbjpbHtKMC7I4cJDhdgZdhGt+hosRm5foLyrHvqtrh6koqtsdH9YX8W5jrH8P8PchewpBj
YlpwkBGvYoqV1wkLS+Y8Xa5K4HEoXMhwtsk1qEVcRDoIogl2+mH14NBpQtZrWY/xgqbEsIieU1cf
LlFRgIlMHfk6KOXPI7mIqQ72UR8cJ1sbsqXk4P615ItcSAGbbyTSK8qonqNj6ihRtSuYtlXbCCoB
pRcrzH3gG5MzlfbatBmkfVqgMI8egPSIfyXLcUa+k6WJLc1D8q04Z4xOxy9akrJRo2WHnbKHd9Jo
Tq2R+tWE7nt+NdmpyrfZldoAaoqzwc6rrKl5Nvs9+QV0Q9m+sjxng312E97SvXZJLOViRAtoV8be
S6DdpnG3FbTYooFvSpLyQ1g8XIZLvrz5I12c4+BocFvflNpiGTtl9tO7FXZh1I05RS3bDt4mLA/E
HwKzc0Wc+92ojKBSGY2xUmVqKT1E9cA7XKH0mGqlp6YKnqd3WSEpgrREiOOXq4H2HrAEQpc0nK1Z
lZJnYlHDHFXCmuEFdPw2n1gMDNU13syYkhFsauJ4QtQYSi6bIxLnkzvuetXaJG2vw+gR5AjeLNSD
yQpGvIK+jKi5AoqIvYuMCjJQ+hhMvZibGrsC1ob3rY0ctc0/R9jab1r6pmV2KgygWYihMjVDoTQ4
QY0zjy2l5nh9NTv/W81VUC/dqMPx8cK3b9iWu8xcd7DLrMnPuvxJvqwYNljefQWv4oW2ab4EuHI/
kdGIDs7Wi9ssKQhjx52la6vuEuMt6Jy7wlowg+EUGuJUNP3gz+dU5JZHaxfW9V5533l2fedehKsU
e/Txe9/h7Acwj5cVxKiqZrpUL1tTwLc4XID1sQEo+DJsY/CFIwgIYL/dIDBsy9kkU2CvbmxChPeO
XlGzkrZBIDN1Mjj9Lss/hQtk0LFSoE8hid3TeG+bYhymDmLarrTFJzhjIY2wHwf7YfgjZ+CVoKis
1pMI1mSBN1qeJVhsz7PrPH6C4d2j+ahVq+onG6Yj+2JknnLIHydYgYHFDj3Aa/5LmKxAaVUxIMd3
+rjXHWg/9KsS2g/sDbyPfjtfLBMlAs/sfX2FQAlMvPCULmPP+sYyvW4ukK7jZVnoVLf7mMXpiBZQ
9WuTgQGqVUZ8P2sgQfUVhn+WlnEZk8mriungLaGC27ZSBaea6w3KF0RXlnXXZjGdzz49fLgivQ+v
LFakh3g0YQ/Os3fZfN32atYcu6ZnKC0zEBhg0MrWlmPJi5pXhvM58SnJrT1D3Xq5KuWGtmdIDbFa
f1LCcrld4Vws3L72yFhJJdRdLo/iDDuin1AOBnqBV8gpugtXSUm4JCw9yrtEC7r+PMU6n5D2LF41
ksqYUa3aHWRPrqGLkhngepUGBR38nMZfsW7KUhiiMM1SnG6ESd2o62Z1pm/5yjnrmgdzm3no9JLk
JHjFwmnNWJqI324dC16Ej4giaceDTV+sUzJohTlNPDA6SPEEheksAuO62j1yIZ1w9e6RsdAuFARs
JJXVBFknEgm6BhaYfVBkk1J3EvSVFo7kQrZ3RUhibLsSc6f6tB4loL6N2INStG/gQZgFnqWrBcPU
LBWWwVDWitM+CzVntczhPgqKRsVZfVt4Qs3x2w1SaMrs9ZogMse9i3+zi5AZa5MsJ8HZeg1deL0x
nwH4K4nQQPxSV24nYqFEgM4r++8uYpyURiJaDLpWst1wPwGP5UjId/ruobPBeg1f3+HgPCwIEqQf
tcvpahuQrUK27CRbLLKU78N6UYWHBdlNqy/InuW9UfL/BNi5U9AOpBX2z3gJLPEuCfFr8bGAclQ9
dlsrw0BrxlcF8Pd4KUJWtPGIlzEgqx9IRKtkOMOo3Gte0JLbJfGXc1lcCu+5Y1SKQ2UtXePs+aLA
6eHEp1c9TrB5ROg6qrdhDLYfEWgNbaCg0ouYedp0JwqAUaOW9n4snIpWxTuq98/wF9SDs92Arcqm
Zb1tv0zusZFcEYcny2UPJtklYXltgqoHBDuHzspphlMCO0flCjXHML23KouarjFqFDXsasttuMpQ
FC/CRPaFiTDuSFlPqWMbmzHxLMBOLGNXQvKJZA7TdtIopAqmjVciJyDRE9VeqcWBatvFdNvWRm/7
8bi7l5Vy2+6i5xoqtn0NdmqYo/msBM6BtROBo12l4OYsg83xt46MdGaLEUa/VZ5ZjTtH1ddzjKbJ
t4dlzA3H51cmu297dffaLIseJeZKh9Uu7pYJajTV9HSgEjsBw18nsH1Zy8UyaTL8ZjWzEs12F5hj
jD7w7SIc1J6njhlKynBdqb7Grg/GMaVKtimCPpODZhBJ5kq9iK0ytZ6/ncFkq7OwtkdSZTu4e0v7
mTyEuZyzQ0qGAe/ywu0Thbjr2f4+4nPdibxeM79lt0Re11OxQamvnIs7KvZDsKboeZKvl+VIvGPs
fx8Mk1kOwjUbZyT3R2JQIvOnxZyID0ClgeAvNUlflTGooBsqJK72Q8MwGlBWNxBnZlJ7v9JlxsRo
3MaE6DJO6g7FrfB1GiLcX7Upt2aLUxjNFKPtT2Ewp3WgTrVVygDZTSynAA/MfO31E7u75Nyafa6h
bXJuHWEwtZ2nOKSZPKn9pkFlq7GdVd9OXItXZ7XsLz1ncFhABOvMwGoEF+m2b2W5tGpof6oAsjq/
sD9ZRhi4+0mWMRUq/GskfTXiBQykGTJwnR2AHKc2GOu1R0MMkaoLc6yGhBHwOJ5yeFjVCfW1pzlj
A76Efhbjg5ci0l9ThJs1lC95VezftTflMqqDdbVQgRyp63fydSWL68SUrhcIh1UVo3/bM9f4tF5r
pmvaegXDE6YpRPXEptjtbt9IuGYLsA1Qy5PmbeUkadM1xAI0Oh1kCr1BVUXXg7wPdkXjt9EwtxfI
EwYs+8FE9H9X/xmYR25fDGiYPbOPANDe7Jm9GkW+vbczpW7Tff/vcKbUdWS+sKfzOrtHI9xmvsSe
8NpNtXZf0RORB+YEsi/7C9GLdGCqi5tsho0PVsImwX7FVMlWrI8B/pKupvQbgxcFtFeWyJJyx92m
dZnN6u43yUy27N4MyShMohXmoPQZ5yCo042CfjwDEoasYRlHmxKGHP+109ZlFRhj+ZR1xHWt/Zxj
NNVmzK4J7Oa4rV/06QqWaX0rXWFIfrRIlVRkapqV8dXYEbWoxaFNs/va0RmRrLnPDL+O3E2SURvf
5mG+NlSdMb0hoApIOwhqnkZHxedQWuBIDjs+/wElINwkjmeZ8pkSVodTdBISBZBau16wJ1fh7mcK
TcvjVy6QHgPrQukcVh5OBsZpG3jt3MQLhJ9HVSEzHeXR8mYSSFVIlX/X7ARhmVsNCNeSA0stg6Xu
+VIaM65RpYnA6zd7WaqMF5kryIkw420SYTB3IA4PdTIMzdreS8LiPs7s1BO/LbPHpjrEgk1hlHIz
Oug1vkHzJ4m47TQ/xdnSzYZcj2HWZchxu9Ed6Hemjpbv0cKsJFSHFG9bSgxVy1LqzwaUrPPWUXRx
WLxdpbYvXv8EfP8Z0L2egOeyg8QyXyXna6iCv0vO1x91RneoMbTnM7qeiDZtEUwRCTKvHEt5rQMT
pupyoI6TjOOmZ7iuDNKOq5JtTOGG3786qMj/wWcyyLO6NyLJwPQctfRn7BFLVDmTuFYiPBS98JLj
RhQwudoRe9ij/2iKL/qVUNRKGAKRNDvuCDqpeoQTxtrd8Xdir8ScOXULhT/X3OkqEZ6x2cLXnya7
ReanMANtSw5wYHVTKEHkib5aMItNiivTfCegiK1A0KjV2Jqpv6sibI77MfzUFxNwnEot9JygdvfG
OXyczOc53sN4FV1nSVwdBlNXNr3Je2UU/f0SU9XbNSkRqNaSmNK49ZwV1NFw06Byq3iG3zan93sM
7/vOJeYxpKZK9ELPsPpCCs61Rb6ftcmh3RG7UkeubKvJnHrQUf2jjbRVTtdMFe5wzV71sZMDVsu6
xQNtEUoZk3DS4AR9fGnB6hYru0UtS9/dKYC33W1PwVBVl3SL4qv18MV2xoD7qMSBQ9Ox5Shx7VgE
vmycK6at4xKOK5+Bk4IQEqQiPNGwknmLGb0uHgSBOsDRqGfSrVfqviB0UBObniw2J9zRxONR/JnZ
U7Lz9Jcc3Wd5HKZNsHYFM7u9l8HbwV6j1FU4yhJkYEkqIuUcJ68ps/sbzegaV5gJu50UMPoRvfZJ
AafT47zRYSunOE7xHecLJHuIeSFdVZ4rQbDkofpr6vlEvs0Tawph5BEBdyEgTmgJTYZqltKZqhTu
ShnYzYzpoRKFbIHZxo5g1tGA8xICQ+OoxLh2gNPtdUl9DzbTHxW4Hwev5Sd6zbOBr4LY6uW2HYgv
43RVKLC3ytmiFKKoI6lr7yepB19rMM2e2zcatBKlupTmw+qGYdkFJivRriCAIY6St0/8KI/6cHVa
+LK2P+Vj94LS5x4EtqfM497PGZzAlm8nG3ymWqyLTXePUFzKS0caysqWl474Rh/0wEtHuCzuOWuw
OSHi5SH7fd05t7+rMmxbvnZhqwy2HeBMT84ibWQB0Lsm5LtY/W6Izfe4VlaMNd7+gr4OPZZ4CFRK
qylcPm2oWrJ2E84SV9XuqG/aNTdw511Wh/jdDKz7Wquxf9QFb0lecQFjiXOKe3d1tW/kAnrQQah6
IkwR07E2pQ5u5R5xN52FeJF35HUwb8x4bGGupU7T56aha5l7/g0L68/2GxZjR32E4A/SzwpU3qyX
qJ3I7m/6CZbdF3y1SR2j71zQgLtg+1JLvv1dsHuUy6bX6TeYI9CZUM/lp73iRIZWSRPbbN4w24bv
tuUtu3mept6EhZFNw1AC148Nd4oxkfjXKcWccfe9qt1S7FUi0y+UYt7Y+HeP6u7gXAia1yH9x9Gv
7AS+h2xzeo/l1pwHTbfNN1aaJiBA7+GxS5Yo6umO31qJ2vVNrYMTg9/UVK6q8uYsWCRfvTtrlVg4
NAWJF42kupoPfQMW2Bs9KJygH8UrpM9yEtjefvVM78+mZ5qWFeyXhFg6/6lI6Dmq5NntTtA0MyxU
CRpc1febQPROlQpUAMoVTO+T3smuY+EsrXY5C7l0nunfjtWjf2+TMd5x8vxf/lZanlpAjt/KB7j4
+QVl9sk+f4ppizdVP1tC/aF9V+vbblOJeplD3970qyzbO/Rf+CMzW+SzDL2HWWSbuFbz1067tTPp
ytP3YQRLDF5OBbhUV4xUTdWq1Havq3hHB/r+GNWL8nJsR+l63T4tV49x4CsBy0tptlp9oJvN1j7o
LczWce+VvpvttY6jN9+RvVY/+MCPpDfPQphG7YhyoL6OW3lzRNB2d82EGOOPVOTsZB71ZOca+8/O
ZS4/35YosMNVs9tzv03XAO3I/faN06xCF2PvW18F9rJr/VsQl6ukkO5fNuvRiKEuiz/w9t/9pYS5
lbPG973W7t9wQex3donjC5KQ+aVoPk8ojzM9KvTz2dU/fN8N/mHipLhT8tNQ+ahWSonB05QYFI2n
staH+GqcAgyB09oiF9VMJDrjHhQ467oWqKWarwrNuB7WbEEI1aJZQSlYuTW8cWVNbXXDW8fNtP8y
p5I8q9J/hhuDlin9mM7rGoPd9wdWF5Bs+Flux+gzJAcEcvZj9X1/gRxzrDyTtrfzt+2fGem9tcEY
d7ffdP7WED+r0vj5skMynfIxIelwj7HpaM6AC7sGJUdtkRrVJRy2xer9f3tv0txGkm0J79+v0IJt
H3JDC/eY095GU2XptaZKKqvauhdpSDIosRMCWACYkvrXfz6P1z08BgyUXplVigiEX8Tofodzz9F1
iaZAU/JF862+ZhNchATm4E7VsBj1ztz22/1+Q9zL7vmn7vrPcNw6AMkO2YA0SUzzlXElG9s9fb0h
/1E3lX3i8wccwN1srh/YQ8Mebva+UOj2B2lAb+ZW4AkRsEIvUsjK/A2M2qPF7UihFqAmwAc51BgO
8CuBTKNE8WlmCJkGQkUZKkFH4FMWX83jVgXMMhtILBn6WapczdjWVrEo+QdxOnE+KaVnU304SNEd
rcbT6has21nYT+IwBGubpZFYHVw2D5eTVicZALi4RvkggIjIXMUwieLwFtoxpBGPGqtSMgIwqfHy
TE7vkWqt8XeaZu+0Y5gNEF3LK9RTAth/u+9ubtmCQlc4vrSQt+Vv283n55vVw+f1Qm/XUevwHBFP
hlMk2g0zBjQMuCv9ufYf4CrynqW4XPDidb35fE+Z6QIrV9PjYveufUVfR39q/zzCRXrhOalQLLMY
Z1goBuOhwXLOatEt6kjF+SDu+ixM3zOWWnm38fkUgOdIBYyjmxfXA8HXgxswOYxpvC8WcV9dIY+d
ipGNYUkDNzuDAgqTqdmdmWr6yjfHGBLTEM929/V+ub6RNIbAc4+zIvy2LO/vu/UNMIo5UgEdkBuW
LXXVP1AVd34kUT1lC9Uejs1fXxlE0VkACeqRmFLrb4i/QdbtG5/IFDGfJUXKgHhNe2XHf7KjIpdD
7EyrbI/NGsiwvjr9jDs0N5Bs5c2rt7+/ePrh5e9XH3599fYX11BtcGcgm8tl293SnvrLp9vt8hut
UrA/FvxjT/TmjVV9j8Zwhw6WfcPqn/uN8VMGi0MbfUwS2nMp8FCIrTrds6zyK33izK7VAtwKMuIJ
sCvg1k7Kqm+5jys/OpwQjaPFqL61RPLsIXk70ecz8h0tno5148VtFkibmTH2mXs6tU2YPzgWrhzm
jLGxcNNqgjxV0HuzXC8/8gDSmI/t77gh/faPGI3aPmiTw15vWwRlhPqK/SpY+egcnhXEsBVLFK0c
0Mb7LVmmtrSEz4kReBy8MDbzZ7+xUb/OMH9/TSA6pCaIIqOiNUGJ61QF2VMzaQUHP12tnn3jKTNv
ZIuC8NKekU2rXvg6z0NlSXqr2CvojUeMXx4cRQeQNdaI5qHh4XOOAWO9QYNroVLY2K7G8cyisUJZ
+Ulco5+ie1s7l6Bs2xnylVVaSsafvciSRuaMbsu3QtMXrsGKsTgzXQMMn6l7RefMDYukHvaFZYz2
dN5naTemx+np+Qibm77xa6nGCPInNKjOg4P6u9mNqnKDT1jWU/WY7eUXMr929M8F/6xm2nnLTvrM
C9QHW/agcYpnzIHI9WYU+0F2fSs5Z+uToOxuZ9L3cRav0aN10oj4rDaLw3HZxw7r3yqdUOWw+Xnw
6+V6s7675q5CQvrbqmXwlVoYYHU1o4UKuZUPa2+uFKL3zmWDjFf9E4UMt+TX6HJjwYgb5lFjff/u
6tX/slsN+Ka04eM7FSZqwZaREORAaZ0iy6F7dmF7Mq40oXMfiyzYbhwuFSMtAlY5ghwGGnh5c/Os
I4td50GESwf7Yw/ydkdN32wT5Ad4v737vNx++5/dN5Y7YOuu1385BG88sdVTVzRbn+qqB1vq+BGi
KHhN00XPSWAC0MWVdbgub3YV+ANDyMUuZML/VoTYyoHl9Buxg5nGCxBpkChQZHRCg0RobJRsXReV
ytqlc5kJQF0diB20PJDdYwihlecjhDZgX1V+nLl1uP3hWodR7vK4zu/3AAPuyeL4YUP2dzk3c1yB
A8S0k5Npx/0FDWPKoXI8qLzuUK6GEH4IFUn74dwWd3px9/GOcxzrKFlt4ley1DkqHeFR8D6F+wu/
5ct2eb8wPvMTzlV5Kt4tQPPAtPwCAf0LFO0X2AaGodpkS/P7ANi4QHsAkxWWld/aLUGQR2/NvHqd
mFjoTTyaicl5zyHtd5rmZVX0C1R/eSve3+/2KvvF/hb5MviS8DGyHiaxr+qzvpwHxNNGF68RmQGs
I6iynCWCGtJtfcAWcBnaF/nPQLbNztmYE0Elezd7oPLdV+Js7gU7TBpg/oySLvLq5GmYbHfGFrP+
X1Sh7d2t3YaBHUxfyGaFwYSvfykZuJQMHUDYinJdjYvLsDTfrQwLwqwENYm/pswkHvuM5R+lz1Wn
u61JbmY6W0uam2k4MpOQblFDxvNKfj5op1XJz7ay6/V9RMU7dq5MmxFWLS6aKNy6j6+4nYr2zufR
PG6yGsgpyWZ7VjWyN4kkmp2ljffq2/va5qzGdnuczfFglvuu6V2ijbivbt923Q2DC7lVUw1ZqNkp
nnfJbexviMvX/yssmT/kR0RKk3fo0A38L+CnxA8U6oKXbXPCqlM/SkJC9H18RJ/T4QySdRPAlNkR
VsbYS12apL0IGGD+JNazlxyD7K6Xazo2oLhbxZB57hBy3QJmyiEqwHsGrQINYaNrrEJuywGsbq+L
XsqRdJXu89QE2xhA2Kg4ZZKWa/x0En+y/2dMLdfG1csK+uKgcFmT2kKRqHsGnLDsRr/6x2tBOCQb
0tUWkYIYFVf2U7cQN8pj/ppFxvxM6MMUGVgDLaUcKypnVgM5qmHt1v6qVeZNt1/qBCvtExJVI/d7
kXoewDWdQkWWGmMO7+3J8nlzy1l6Mvg7yS1neTYqZp85y2qOGCQQI9zrWnYHz943KLoJ/L5BjCtg
FJTJzitQTUb4VzQf+7pbiytp1dAboxMpQhxwDLGUudqK5uPyKFi2KZxrNrtuZCeMl2uuYMr67yRf
ndlAhn5+kdzOsjggOrmvA6IrrS77ADk8nX5VqzzQqY/KkJE4OTs2mO0wxFhG3g5abuFdDFZqEbEi
zaEqpf1OtcR1OY60ga7LCoiuZlgXADCnLu/vV9/es9h0Dc6seZGNmpKL3M5/DpXsEnFt7XJ5jo8P
i2TmvqP41DCkENYSFhdD65P48GAH3mt3RZRDUxEuZji4hz43/WgeDDvcNIda2Q/ACPDrcn2z+czZ
yNgMSZeNhbcVui4CUZSbvRC0S9EmXDDwa07mqZBF/FRuB0MCCzDH8PMTuyVdiJK7N93EHQMNLVXn
37OYiCUIUhtp64T1KCJWgoPDjyxWoqrOZazqbDHGyhKkxyJbBQrz3AZ5Qj/q4i5PWxjbRDQTLWQb
u+8ePr+7vfr3Ay2v/au7+/iJhFyeNRRl1rWpcQF7AE9uVhp5rfxc4LsHzUwojguFThnDVlFnU5ma
ZmCrGD/acAExmllkIf/RRBZQlk+S5Rzvc+bj0gDz+Jx1G+ngGdJvm9iZmeOjdWYKULvTlCIgo+K6
WgBShyErsieqUvfEKisEtujyDTvIj82xEfFPaoo+rxB9RpKW2q65O+11Hzb75cpurwtzAJpjxU/b
jXkonCGQRVIrOYB9StTY/qWuh1QtnN95LIwWB+bBPBRur0oRoXnTbT9ydI79fOrt3LFIyBruAoI2
dvGzSXhj7NonaKZILyR65ULtGftfCSfIAL0X8/ohzQ/nhyDN2wZ0uFDcj+LNBPVHCjvydygJw5yb
dRsl/owMbMqUgU93Qonb5ws16pwZyq04eL1b3rLZnP+1EBvEuJ+8XS9+kbs+5UE9C1yNQfryzC6v
KQln+M+xMiUfvNlSnJVOMIV2EB6PBhaBLQP9YuEpezMXZkSWTOKZ4kkyVBZRv6eP2KTU7hvYA9St
GHR1ZzlbuBnvbBXQ5ZCYV5bZ/E3ksi1eAvM7fuj5UBxUAMYlFrxGOTtldrBS31EoQl8bzgrr1E8m
CMVlE5kRk4TpLTV51V379P4+Yslu5cH69CJtlNQEufH8Nr7YMGL0UDslkDub2peJmljh5KC9y0NH
lZ7e/Hxc83ly2pC2KPsZtYPwlc+MC5pFbEdPLqy/43BFk6r1XYR5ybiHlM0UaTgw4xpNzpktGCda
mvVwuYHfkyxKeh7ph26ifldkYB2jn+5tpNbymwjXXrlcMzlf0OutT9rV/igLG37t6IXcP+wZyN0b
hwo/oO7XGfHZcWI6I6jSmXH+hOuxI8TPoqrZwoiWzfaYnedq6D5Q43VeGICCOoKOFUV7/unV1cIs
4uOp7IgW9YJRrYjrTk4wXETn0n7DtAX0gv2lIMIC2m7stHAGyIqbfgNLPNDNnSnwzNObyk9BRI1w
1sybUEA/HNIRsRT/fJcQNT8eEUEzb1qLkx//WJewnATkPBk10hQZHUlpO72wOJamdqpkC/QgcCZd
epcFZ47eID1TNX9XTIPhOHxMA1Rhp/2SF29Milx1X1s7mnhC32KnBvZqfbta0lFWMQuXPYMUgNgZ
l2WjxqFaq+sGeaNYR6v1WvkxT090GLSUAVnrPA8aYAVs+AhyJ0WSPAwbhSaYQR/u1/u43Xzhs0Kg
Yy+X2rAp1rjCGWiohRHhI9rsYm1/dj3XqljZdS+dz8GVXcFP6GdHU3E9ZdZDQHAkXE+Tw6Lly5sb
TutqtTQbeCZrb0lDp3bM62hwumXtSKKNSof+4rO4Qf1zoNc193n5Z8eN+J1zyOC+b92GwDMTkyaP
ZPtYcvHeK8PT7XLLqxfOuwNm4Ns6xm7Qp1tXRakEDq5bNxeTQQ1Woo4KJAoKJPM6K+8h7JdJrpSY
zzlyZ89RhjPa42sUaJeaD0UMgyVcmARzi9OMQMBfz14bPaapQGJc9zsp5wA8OXJ7fDGqNDSpPb6N
Mo6m/ORf9N/o77XRldLNdXN7OtVdjgqIzIOgnkH/VcHjAq9IXc6ogThko6kkvhNTnVXeY2gAE1HU
ju7TgsYbmZo2K6DFAdAjV3WwKTrnRv/NPbejzCzc3hyk4KwTDWE0gRPHs97PjlPn6vI2FcgW9HJ3
vbwns9CGw4EuO/aZ+MgL9xt7PbKMBGj1Rt2XNFs12OBtnP61+pPyKXk3AvJOSiaSfLha9DFdmfmr
0qjBbkrtLGK3s4Y3oKqelIM9olYeBVmHrDQwOZPw+PjOq70Gzxtb+HidWECaV8FZ7gyONWPF48RQ
A/av0tVyTyG+qxrNFcYDaL7hgKmnt8QzJAE20IODqiiHR3/vT5NHhh+696dBJQCJkImidfeFXEZF
ewUw6OV15j0T5MsLMoyEoZd3cqg1qAkqd6VoldUoMrhXq0xCSjGwvrCl5Zft5gt57zQpndagcb/g
M9VgtGeQUE/c2Lqe2SKnxZ+bdK5AMRVYWw749m61AqSAQyE1KChMU1y+jUBTEmzin6+Iq+YfRrQl
qV+RWOcE60BaX8zONFd+dU0OzOqzElt0VjA6XiybbMxCbzCSTonpAG4ByADk0RSF2erMTXjdzXlu
4A7mFUBAP6AAQjNvWy+qfzTcQVNY3TRcl/Hdw15PAwx/D2wPO/4BQ8rXDhnLLZXO96vl3Zrvypo/
PtpDFu733ISt9Mm/FvQM/IOYS3STpJbqGSh6ozIKszbKBI6ElQHCaFXyIowru+rWtLpNoEk1Epov
NtdgaZIXwVOa+6gFz5SVHs2zmAi6Z4srXwB2cA3XXP21h83b3tJjzjlVBV+nU6qDTwl6BkhJJCYN
Nel36wgePmy33fr6m3it5EcZSh6EKwX4eSOV4ByBQ1FoBhZ+vnEBfi/iDy0aV9THqVBH4Dy2TtyH
b/eAMFwzgNuTw39CsCDXdKVy9YWu1vstUHRFW/0Ftz3puVbqHBkkRfIVD/h3szH2sXfO4QKwtvE7
qHIIGOdHSCHYL4zRnyVHmZv4EQYYI7xGLaPXK9RaZWjdotzqTDXRgEEQIMsOBPWiMKgXBUAdcw6z
s3dF+SGmEwlZROBLDfLvV9ZJXm1ueRSvXhq1QbigjfUUOFV3M2HpVeNxgWEfcQgksSnB4jerHa+7
L/TcFrqQrAlAwb2fb7/d743dixzaWxbkmasZqc7PnUmvkJ315Onpe/JIkDXyF4pVuV7Rwg2xtdtv
H+hMsbNy2Iaui2GARxpyhJUoR3UJwOou55M2F2RpNdzix5fBDRu831kpdbGJzxAwPYM3lZKHafPH
nqKB/KkUx3IP5PH78+Jfd/tP8mH8U/pZcHztU3sw/jyP0qPVBfqmsIl7Pnyi3qHKLfBPYhYywBBF
ChiCu4YXzx5oQMHZGemzTmcNegkW1m7yxgcIZQHDZtel7YXCUMaBKYzAzeVGrNEmmELnhMvcLbAM
ojHFLuIh2DtldU7FayhTOqdS+8XGdE6pS9akNox9Byd9+naxoqpcmj9WoKOEv2zSIMt9EpUvz5q/
Ebru8w3pfXsu1F/MkroW8EtlvJ05dio2ilSdY5tdknUddQEVFjEEKOyUjR0rjVEgK+IWkhXIUHEm
FGZsz6v9kixniu19Kdc2I/OboZk6XlT8ata07KAWl1X4Bg8PavssQTU5y4puOW7ash/HQOm0Ng/7
l1+vu3vqzH3YLq87q6YD7yHWuoHFomEcLkb8NZLDZfRoQ3K7PrraExA70j+uNw9ryu7x190NZZGx
GQcxbsMjwzyF+jQ54DKxKskCiUBNEuPBUlxxCpp2/pKkuzrPUpI8qSrYMJ47EkqwNd/6bhfmvYu7
M70/J84jaB4bLNTZyZeannQ4L7/anHlGSdZAfrdO4cNqECXr0MuvFJjBZ/GF971w99SxSy5vf5z0
UbC/q1jq1E5NCzZxgAqwyHAB6ibAafN91duNxjRW8GCs1e5GYUe7hHUZDWq/h8r7ACMq0q9+7Eh/
GFihLCIu64GIs3iHtRVdsWCI1kLvdpT6nH9Misl4GMWaoGKM6SUrUZyl9stowhkZFLcQXWJy1HGk
+xCLpvtvX864PIaXxeRt8yTqDlYUG9yNn2o53mwynv8IqScJN+pBUr78s+Xu7lpXjOgsqT+J+ZLG
Mu5+4iH1S79m2coqRhnGvNIWzuKG6HTrDbJlQUaSH6qqX2tXhhwKgCsa44yg3BYVsTbLHMaBNjTk
QvwLqJ1ZFvK2Cf5qlLPAyLXXOUpeS50eQsvNiK5XiYsejiI9Ehe9GR2NWrcGDyLoz7wHWe0hHoaM
PAxOkB2OsUXdz96/OaQ6TYMmaZR5ix1tw95efiFH2TF6VP5Zn/ecEJaRDCYJOrWln5keI0AzQJZ2
3KL7pl9cpsS2iuCzO9pdrd5v/sl4KZP2RG79gA2gBeQdTcvRYuNuwT+KFfpgjHrGTUPFrI8yP35O
O02W79WScpXrc0Jx6teEc+K38vlmS2uy/qlVh6r+lGYdwk7K/7KlXEF3y/Xz5Yq4+8st0x56EFC2
3cL/XlzC1ubPVF9TJBOZAl6t35B4/m63sMe1eRYd5u6eJZczBIHFcxJyP9CGP1g5yfC7cWW/J4pP
QpXfbYYJrpuZdCxnzs6CMr9neDbsmz5AfQgXHBfp9fJKWEPbM04xOzgjm7Y1TgrG/jy+k6qNilTr
Y9Ue50kVmhkga8rv5KSM9tasPiCe9KgnlWlhV5QD6yukmI2c/HCqKnksj4xBuqHe5JQO+XhiZap+
dSz9HMRLBcQSh+ClJgw3SMiqCtRYhm5hIMyDkO9P/1cU+R4N9RKQ7+lFqqHId+L5zSz088Mxojas
H+X7rd4PKfDaFqE6b62wn41u2dYtUGYWaMe20Pc4W/jfhpNSsDXecwObQUgtDnebSz57djfmbqwW
B33BxzdVz3j268HxrOwgCrfZsavfoEYyZeSXBdT75XZHeXltceS6Nq83LYxq/l2ZOtbOaHEMlgK9
v1Dp+2e3pTI16hKYm/hJtNAwmVOUIgQLWxHQCB7rCtaa+2GKc8PrmVUgBwvznNL3hn4IcaYm6POp
IW4R2rCDYnZcdtTd9XJNx8K0qfxRTLVFnrKQGSNFgexIzswR/Kvr/nxOAU2MVcrJSZS57VWrryUQ
x9q9buyXyM90KBIFMAWSVzX8axwjIz86v9poOs6yjNRuD4gQUwsjE35UXjq0nNaQRFIv7COH44at
SKlZXmdpU2OAajBSSwbUg6mz3vERNRktYgyMFgl9lGXg4FJnVCqHA/t4+lXfnU6q4rWzl1CpLLLe
0YY3cS3/3q2Id2arjDiCt+I7umaYu9VFH/FcsuhH3WNoABOeRI7W4dLUodCcRylqydZbt+tiJiL6
svVTgD1ciPOgOUv3tXBNvRBMr0bIyz+LlMuk4bV6csjD/1j4nUXDsBkbsGSGuxGKexQ52iiGCJz5
jbaPmiGiKCGZdbKw07aap9vt8puzUucefmtGLNWAfWXmHkNlvF53AWrDpVcsQouNsjipdg+nd9PU
sdGJnN6SmhxDJz2jSG7wOPtoz7MJl6jV2eOmkZGP1RosXBg1P1iOUAvyg4pdaHD0ulvTYfyptobC
HKuya5kGQ79uvgzrYh7HUt6UWeS8ZXHdOPQKR04a2F/FyufRrJ1VA/OBCdLBZ923MXGlFzFSYddg
j6JlE879mOOs9E+OJHeBp0B1UbgjfS2qMtd1vxrDzQBW+uJNt/3YscDUbpXQ24X/3p8J2amsh23K
Tjw0CcD+VML4yUz7RvzT4sPVE+ntZPtdy9wE09QgV1c+D/LzwvqC31JVV4BN0OESOaGGi6EGCAGj
mSsx+EerxKBMYxgHFnnr1m4v9rEkihQORJM0NbjaAmTrM1CtD7Wq46HWycNzt4d4xr/dkzn7OZmW
BeOKyovar5H4UgrtGrviqk3dMy5m1+OMFVqBDMv3hUwbNJN+yQMQg9KExymbLePds7hL4ruC4cyo
X0r5IUWGI62/6EiYRcbRuLL/F/r3FgGS5TDL3zLG2HwtxnaRV9RTVQ7GJ/vN680X8RRZ7ndTQ3F0
eP8WFd7S7OpYfyKT+HMagLva0kXhl47obE8H2FM/NkihsN0uOUg5u2jKyOGej3J21UBZ6GPnZI+O
kUYGezwukxNtI1Rs0pt7H6GKzaGVaxAyXKF8Xrpc/MPR5ZJLiGbG9aQf5/dxCQsAajorZiEpZLNp
HKFIK1pvHgDqExnzDAbYhhkDE/dt7ISdKGEa4kNiA5/X2nASmE6Sov7pJ4+RTiigkhEE+i0s79bd
u1vVmGJs6s3esn1/7e5pOfvGtqC2phkZ2EbDdqPZa/tH2ZZwHrnI69hyN47kym+p0MxWcZ3O+X8P
pbaQRn5Py1uAP9HM8RM0AcDOCv6N2iAEm7kZzezg+a/N3dps3+kVlOBQJdlk1e0WH/TslVd91cLo
aA36aB1lXDvqu5AfGfMombppfEj+YR71DgwRi3h8qfP1r9bMKJy2r6NJ/wTJ9rZMMtCrVnoi1qQx
UNNmwmiLKCq08MYV/NjO77cb8hDu7zoOWFgYn4Uf49Php7S5BriIexEBsrlW1qHXd5vL690lzw+/
6GgNeUtlx4ysMV+ZF/Yu/KFSTzax4o3Q9EDuF3omS79QkG5A4oVSgpdoFKwhLvN4pvpkB5GnLlgp
6YRT9PjRuRsyDhut8v6Vnv8OidMbnNjIazxprlRJiVKdn081f71cb9Z31/xFg/jmQciFpJ5nMlzC
ACM1N0oWqAr61yx6u/tju9x+ywAPu8BNylBgZG40J9b1ACaGE+KbLTFnbsOvUgXEP0ZDpAsEQSFO
kqiL+Y9VnzBm7+Qk08k5CP0wqxJOb10Jvd2h/XGmOrnOujiDGgi2dHBXDyTVUz0fMJ0eL7qDnSO3
dJKJt47oFa7Sok60cebbvhMH+WW7vF8Yn8WyAIF+OPbugsbCJDa4enF50wWQeW4OwtojOIrzcA4f
per8LaojEc5BlRIOgOqLHosR1/jHozIzjQ75IAEt+b5AulmFJToplLJ2fA9LOCvXZSBjTyVloXfE
DUrbEWHl2uZNQg+LITfos1sG2nuGJO3aQFfpwRtx1aw9vmRWtnZ4fa4ls4ZhMn4QieWDhDClF8LM
zRFzSF6d71l6oPEIJA9M8DQx+R79JXlStXdSnPJRwa5PzwA5QoZBIqQhXswEhPQImE3ZxganYJ5n
goWjvAHrUfPRiAQWIH/twdG1J75miZJiHVNbnkP7zda5tKuGVsUPweyBw6y0sQpmaulRZUIqG54y
JCfR2OCmgTkJY+SvD2sqhmn/oNzIH7HaCT55Osb8GTND0+TKmyjAJtDEBgfz0HX2laV1gLOqwoN7
rkddjLkeit18SG/3XvQ9B3qyy9gTOrQnG/aVx/RkD1CefU/5boUsoS8/q+MhVCNYqlVkkK7uPt+t
liyCo67l2832M8ukLIwv+L2IJsSMvU00q2WhCbD7eAzqD5/f3V79+4EmNP7V3X38tN+5dOoBHDmY
FQOsASkyjVJAZeXyJz9qba+pLmHQMDa64tqpnviZOrRz/7TgiQB+LZ8B39ALBtB5IxzpoT9cPnBk
vTtedU+vd1dSAwJq/rK73a0msKIAu8BUPvFuLzrX327ePigyH3FfWzBBLJvGyH85RnJsF1n3tbu+
+sfrpPaxAtvJ8G13e/m3uzVb7mnL38c74lxsF3oTf2pirGxHFBVO6B3q9021S0jm+RoO6I5D6R9j
Fx7FRZyhymla+G29W95ytjgJ2v/bkt+WdffF2r6I7MvfAbeT4Ff+L3nggjb9XcQSabu50iLvo1le
//uBPD22JYvxDkdGk0sVHqkpL6rygKysJ1Ukf06Wto/kY0gqAfjeSd+UrFt6BOmc8vzirHM1UB+m
MBWa1rWUf8EKtD/G0hb2WMv72k8N+V+vAVVTjuJWosZH0JlVnugTSGcW36WoLd1vqzf0v5ZbEWld
U0oZuQxCLaJYRwZVbfsAcR7RJLJKGrp9UNgJm6myhZcAwArlxglZaaLKBP18l43BI5SlEKzxIMGA
CZhhyOQWiYTeBZyKEn27uemEQfYnv+GjWPyHHqKOBPKihHysod39/Q4T9zAO7DalFPappYd9p9qM
+8v7so0Cz9yUW/xonSgtY39Qc+LV5nbPYLcXLFv6vFutRKy3UF+ZgUx0oEBeFhR56QxmIBh/MHMH
nH3zLIr1JSMS8MKazalpK2vK/vBpu/nCgC+URPTVmkntMvHXhf6qZy3VO2pdeHOkSzetRGbl/nqD
CJZ+OryirYxnArktEZoAuj9+aBJIvD328CavYmqQ5ilQwir5wT83FDi3oXbaRFRChGb7mGKqBs3X
HAqhHqHtSRRCyyKKmh6vixbXnh1vNz+QXZzAep4EbcAGZKWGHB/fIWDVUXI305CAsVBmT0LGm1vm
G1OL3Evmjc+b55vVw+f1Qm9Xj3Uao87N5urfq1+6vcxcOtw62EuO9lpyLRidSXlm868A7LAyTAvw
w2KnQXIAPyw0ypKSt4fkttbDSGEaycamRZUChJYAq4hNZZn1HE+PzE2P5E+/zM3c2FeJR4Dy02Ep
BX0PD0c7MpDZTeeaWGU+AH9W99cAP+MBSR8jjUMe2pfr/R1ts/FFPD3qgxlsomk2v3kW80bNp3kG
8izOSNk3lpu+cNfnCDd9a/cfOvxhzycqYTaHUMKsg7+arIRZwarSQZYvqtgNE32VqSVjUHQ7hGId
3DsxQw+HklYG2xESVH6iPh7jyjwscWiB3Vks+W2nXJDe5OHRi4QciAuVMLKrqLY7UU73RyZ1lVXq
HtfNxK5aqIVSsAf7LacOS2p/i2pEUzWl87LKD6gndgasziW22kaueefHpegAubxmWRr5SdwCdeeg
ESueZbOGGFkhaMjd7urh/n6z3Xc3zjgMtV+J1hD+Q2J/oGuk0d2zRXZsMYRhzV+TukPN5i+n3v3u
j/9LK4XXK8qWKD6El13ukXfXd595kK49b24A/Iofg44rfCPQaLncaaDD2ODCYKTCtcwvR+gnlf/p
c0/mrSz5juOeNN57Je5pDrEVP11MsTlE8Kk7I0qsfI4Gt2OBDcqVO1XDT8kIqeYsWZ52Hk14c2Wi
Wb+12IDfgYImB5qcPNTV2WgTK6XVJpAhSNJrjcb23wXtKLlC2dgrpDv5v+srlGl64zFKsj/CFWpC
ebgkWdof4QrV1dgr1CvE/X1coTpv4YKbTlYIhgm5/OktfNaPgtr7kh0oiyJjZsl2/EpW1s4yYWwR
BnRyu6xTKeIGVm+8WHGuKlYqBP+MqlgKgO82E4M9CxfqL45XtRIqTiMDywR+d/D3Q9wHo8KK6tBS
O1jqDP0UNzRA6ixeYYrWlwzw/tj6kkiLVb7GwoFkWgdkttqIhlsC91rltQpNLoGU0cltaLe8piHP
c5ue39Ek4fpAlhoJbsIqJvqCStFbZ2wxVgFFgs6mKqDkiqRY3Vl2JJKQgWUrXRFf+Eu9OIy9GH53
73EvBs5lawDMqUN/kxrQYEjllPlf8WOTALo4SQ8F8xh0ZTYs2hUjdffWoJiocigl7SW+0N1ux/oh
IeG3wlgqm/yAYi/BF3fLihiXvJZh8fLQz/xlTWCnH8wHorpnYazzyPZS2Ev0BYGUmXidL8cJHePM
IDVxaYotW3ZwFa0XCv57dUzMjrtRZQbllcuibHISPCYhQuqzzjAeUMJ1HLNKmAQTjwK0RxlkVMkh
76ObpGgmFkvKZiGO3dHbdwt/Hx4ifgdklHWpCk++K6JDZMsRqbExCb8i/3l6c7OlPFv0QX2/Wd1d
S3lY+EuZ5PF8oLnIvMLHpU8pemiqW6VsIyWrYeTVPel1cqekYKuXXa/7EC8nELdDVWkvaNPVm1+u
WIrD2ruMEwDM2y0zXCDFULMuUaQAP5Hn/CTVgIk08VEWKkVuVJ6jnsEhGaAUB1ACDdsAejJ9TVEj
ne55+ntQ/aPJpCCEI2y1x6UpOILasaRmsMkPFaBVNWZqiGoRV2hOoVbASQbC1ArjCUQlKUMD4eYD
/XWjkvpptuoGsjBWrzd0LOn2mlajG2ws7DAYi+ODCVK4Z994u7X5DY+1dUFr4MimzVNGAgP1w1/H
3LyD0lMHPO/rzcN6/367+evuhjYMOYlAHEkfhtF0Wo6i0lgHn+ldwlb4VojqHVdgacxtxzeb752n
VF+r+dvwpePelyId4DOfHCQ4EdxSlhDN4gkUV+hq9oo/oPyLHfR8FQZa1DNhPN+QCoHO/Bcne6eP
2C+YnomBbCh1lYB5o8E+K700vsEK+Z8BTuSY6GloUOEPUmzGTr5cpkBjaW65r53jRqUO8W1fbwhH
I6r9eensOBpRXTbfO0JgsCBFo/UoXKeBYa3pJPXq9m3X3XQ3vufg8KY4LgdLJ92IDcDgqh7rI6FJ
PpIoUOF23gJV+O17BAWqDG4rOK40ZJnh4DySLA0pg37/kmAWC/nXAeva4uwZWO8o6InwY4eORFGI
DByHNdNueaIGkfNl1tLNJXVfESTdF/YUoR+bL1y0pXhT7jaXor+JGDDw/i/X16x/Rabj5R589oZ0
30W/S7cOKKfkFdhUp/APZlddqXnKfPWsm25FzjtFN0uyc9fw0n8Cdu4EaeAjs3PjQmFThMCYLujb
SARju/AkZAoqFdhgoQVC6AZk9HSNBxzoifT18mFNffqLp/f3EUtyN3G/DYaEhtU0DJHHV1fvfm+a
sv0dkSP8IpQcF8ZWNfUE+8zY60UDud3r7uNyJUobrPDj7MHfHUPWKWxsy61QeRjQiqGRGbEi5z3A
ADL62HBlqx8l9Az10SWk0TdMAMRNgtNh3UmM6gaq+onxZuUOOZIJkT1VY/xMFYZ0QrKkCoMMgfE4
EddwQ5+Zywh29RnZkLAluVoGrVQ248bbh89/kFif32STdsT6Qqx46hLUTkbYmFMu+PojYlHeBexN
Tz0pvVRlhDxl6HxRt0wourDy76agP0sHc87ejuS4Uq6ukcgSZ485tMxjzc4HTT+OZRjxyMIiDCNk
DZwglZZH84LnIpWWR3TrD3QDdWlT3sD37F7RIxe6jHqDOF4cfGA1Py95cMVjDjy0DKsvl3dFODwT
eKD90chBEZd3gu8hjxCZxI1zH2v3zdXf04jiw4Z7ozf0tXWG8nnSc/o5JzmLMxwPP2/gAffkuD5s
yP5uSJBrHHNTIahuLvlw6RtF81WjaXbJe0GZ7sjLNZpj92QF8zovTlFmc3PBrMhGkRdeGhghXARG
0QE2ABYaXmn6gOr4s6NZMT+gcLqUtoLppOZLnbiCTEb1xdNpambJwWRzkL22On/SomDpjDHCP++2
ZG3wHPGyCtfNbrpb8l6yLcDALNBs1YVM+N/yK2GjTZxUimkAyrKwLiNxCcpjU9pMyQ7lDTTvj84O
1XkJviIg49qaLJsBurV4be8c6ovDOpBJEPHz6GDbTvP4Q/fdRzrpBS30MnMmpJr62Bd6U01KGkY2
wx1CGgZLl+m7kIZpswb2vA0Qo4qoPGAjznoem/AT15MZ4p8jBnIYwQhQGqjiZzoha1NUkLsppkXq
bYqF3/IuShCfJv1JehCP0LlsIOeyh8LxbiMuVXcjZlx6yV6Tg1s42/mt1IH50JFOmN1HCGgQd9ZF
5nsROnsWBgTCrz6lsSMDRYzLK+fGtzKHGB7/F00ofXvT0eecv7PeeKYpExjO+1+iw0t1UzkvZ1r6
zSA6MRJwI8XXQ33bBj0YCiS7t90n8reb7za4yvqT424iNtlx1BLHIxxHWRLFRtHPqaTSWXf1F1xg
1YwGolioRRVU1rEOuCKnEUNWFKqHZUCo/Wzefy23LoTI3OTkG4fA9nQ5psL2eZG56c+OzFC7PQV9
POtuyTVfGBtF6GELo9iDvN05w+0kHSPqTbu9Y1FZo2IUE4Pzk/0/o0U5SdCLwC4sWgfVJL16E7TS
HYgFeAxjsEMV+3S7XX5jt1QCTtUGI34YsD+a2HiXxBlzIO4e7ZzXdfGzv9YDRN3QV+JlLAFvYZCF
XFkYRAscIRNOYU/xCKK8fss3D6ud1WyJ3GbI/iHZAajvD0WnLy9MhAJzYgerS7Zb95Utz+7q5G2M
X34A+CjoIJCo7s8LCmGRzWt/qrxrGuwpIGLUwvQUQzSQ5NyKvKrfQZf6lMKW2gyUtupwObcHWGro
NQ7kzu9x3Wj26uX64TOLp+iHhfuFmBoT8HJqiElN4tiJ4u7cXPPuermmY+EkNNIc13WDgNXDdkuh
OFFjNwYNa20Xsz+6xKPWFeVcFuHEth7OnjkAZVKM7gqp7arIYbtCmEhIX9pUtIFcbz6Tpbt7vtls
BQXKbmHvEX3YQJsskQpawQFpPG7F6lYCuWpUsStm5u93e5ZleEN+mDEEsQ38aTOCjHqscMajkbVV
Pe8qDTNrNwCzCNQraGd6uMSCmnCGgAlTwHF+zpyu3gqHtuAUN6pG+0JNn5PYqx+Q4Fa64eXp3Eox
8RXBia9v7iqPMHfZ+LIlz6m91iOe8i3cfXK38nPVT3yTHZHxHZajoCjhrdDOI38u+GcVr8xLsmV2
BMJtAd9f4W5wYyCqUCp9cIj3hob2Hb9mDvMNykZlayelkzyisMOlkw4u+I1MRasqnLO6/kTT28NS
VsubG7b7aZJWKJddScmQrAJa6WT+I88yD/QFrow5nyztXZHPTDGDK6Bg9PVh89FVBHlvlFF8IRxc
a2DKqMK9VMs+LZmIR5nAgZqS3hSCSOk1bcRog1ik1nCYIWzIfh9qWj4vMEiw/9j7NwdpdhXO4mnv
+IBReY0nPSe63zZDR8iyu3ruTMqd4044AZHZHeFt5y8mpAs/wk6pTr2sJnFCOhd/fvziuIdC+v+Q
/ukhfeLU1BRNl7EoP5CbymJC74OglpoqoQlIa7BsrVnNoL7YigJu3QJHiBkYsLC8oc3Avo0A9BM2
8Wq9B44iem2EZ8+uA++IsLZw705dE1xW4fI5DRX4BA8V0EuzgD5opNUSDZfeUVM6+2gMo1gPoEZe
jIxcT+PK1B89RkPjmJVjRMiz6M0b6n4K0jdPgwjGPxq7ZG1IfQoMPpfok1h7xcrkfiGeEQsF3KP1
F0bBSWaXITg4jl7Tg+W4stJrIySgPmxtNMkG1RCTbxA7fCmHXRFrm9Z3gMbjeQCB5uJdkFkz0EMg
N4rG2cyJc25AblPhfPhE1xgOwhR/i7m0gPaTK7WxZ27k8CoHfz9D1t1WFNO58jgLFt95tdeX0dii
H4lZFwudtNJCGzPNyj8c52+TVV5WIsju1NrsQRw15oywNwpvEP/kzPyDSMdiPKcppGNiQmuOTW6c
NvvQmfCtmWu2JDbqOVqXGIxH+PY1rEzCbih5P2iiZ7+zRG/FJv4yB7LO7vxOXM/NH3uajfTndxxz
7INYkCwmgpKGBRFXoHSxxwfmqoxKrc3CVTlietUtFe78qotiuKngrFbntk1tN3uePXmxYQjrUPtZ
GUhenaCPLThaZN5QloGDS52Lb6b7fOL3edTq8RR43wg3UMLw42JQMN1BiZ3fjtId6CfgFAm+01wd
2c0GZbvIfEMcm7Xl6oGV/zA7BMwNkbdVZOgBuCFkSTTElGZqOFllRHOTeKvPqp45Z1HUZ9MeXN6j
imH9ZUQ8u5OckAI5aUalaAI4LOFKAHhq35WoAoipRx9u4lg+4XD91cNSiD6IfbbKEg5ziQT4YHAi
bLaHD6bXhF4t3eERRpooFa3EGEPLzfVmfb3c24C7ErmMRSYfGbJ+ynKaAHToiZFusjTucEbZjcTX
m/tvZvNwY2e2nF5EfsxsEBuzsLerYKCng9ob77ZO4wboyVNNz5aiA6qxbneuwPu8e/hjZ/qLKn+A
gBc6uDeyfQhHRGZHgd+0fxpUl8m1YzhCUKfNNAwAN2ae9/2KBAQ8P0u5VlgCjMYLm4X7TfzhcvfW
XdWQGd2iYySLd3wPK1ts9G/G08pYE2FWjEocrK3+st18ITfEKKKyhJ+/mdvMoSItzTZza/9F/nK4
75g5YDv33Bnr1CB7snUhYBF5DVnTGPtkEb3wkk49jJJDTkoIsMgcNd0EnKAp09LMfd0KxnQ4753Q
2d+2CNciZ2nlhVcxupdeSOU0ALWfNEEjPSORJhJEelFIZLCzs5P9AhqlT5GXJqAxS3uOTGHXk1AV
9EjY0dOJfX1DToGmemkJmx0zvU7mhoX1rZi6Ub8dnvKSmwArrGGszwq5LBETRavufV2FJohTqtej
bFoDJsbtGWMIJqqLK0UGrLizHyHRPG2O69Yf6VubyjWP6jJP6CjqyzpguIfu7JIo1mhjmNE8VBYQ
R17cx53YV37Bm8pfkedoSZMq9IfuOa4Z7DOvDvCbfI40doJ/unA7Imb4adEHCfyamczKITW0AHyA
eUSHIjfwsEZi4C/rh1/5X2K83qCzLEpCN59ZQneo+i2/6vJD2pjhCr3ydIvaPd1zuCHYDQ/M0WJP
/mlhjTPSHrkr0jIj5cMh7OYHoqjA0eMdkGI14BGNBK2FnTKRMIL8woPk92bxWPO5PFaF7psZR5L/
aDiSFkdU4A9fKRwrx1wkGQjLMUtOGZt654B9+kfpF5GQ5/xnO3QwSgAsDwVKBOlmfkBcKCwtxMkL
z1RaSOZdsp9tW8Mq0zmOnuEsdfv4LoVmv2rt7Mr/u7u/JPPjaknzVOzmqk/hvKw/UqFVzLFOnoUO
+N9391qTgu+7kNvE49AzSMtR2OMyLXAabOmmyWz2Z6ifPl2wJWAAO6wIyX38Vg1pQh8/qrMYbY/T
1rzvgr3ORZTawqADVu2yHkVwEcUHmBzDD5/f3V79+4GSpP6ru/v4iSyxnrUAKRAY4wL2gIA309m4
akAsT4nzfGtNuhLytIbgJB/07eamEwbZn/p9PPQhGhrKVRZtLT9M+3eCN/2Y2r+n3W0Za2UlWGdl
8HVKGs1x7Pxjz0TojVVNwsZwZxLXvY77jfFTuvsRt330aFRd9IaVWG3VBr19t/D34W+mXshzBz4v
uiyuV8S9tVou3POPHdqe/uwtq1PrI7CujLFZTPc9JmFOE/eMfWKTYjRZyq+bL4A5LbeLi5n7oJof
LVJCCNstxE5wQc8yEnagLI9GPT2F+qapY6P7Y6Y6/vPJMVNZqhKP35FtCgQCncG6t8kfKqu+fCs0
HDPpuBEFZQU5iBeTa+y7fpe3my3XKA8Te0vHrYERmSKyvNvQWI2sFA+mGtzC/kIfR4wHjO8rK2Ty
s86Pz0BFFoD6D6EiKzGUtj4QFC7v5bISuq0WN1U1kRlXpEifb7YUmujz52j+QeKOt14eeEdL6jyD
fGQWl2mJY8XT7fYfR1Yrfm28xXDhbeevgOs5TVwHUzUnL8jk97DaX5FA1SrR2Bz2peujBknwbzZX
/1790rkGsA7nK61JNIrKpM8T8UU+DYug1GeyYPpH5/Bsnn+PXa73IslL7l6swmB7CER53yPBgeJF
tXHHNl1qrel+kQ+7MVEx3X75an3LZEvpgraz4THxXoh0FVMfynNcFVMcS2enoXLSlSznQV/YmT9n
b5UBbHMdl5f+ne5vHcm8OxMDZeHMb2s5EChLPL6qYYnqndPebHF7vmyX9wvjMz+dHMLXcmTJhZBD
v3oZwZ1gqMu+H60CVTt6R9U6CmsQ1Izea6Esx/7uTNgakS7TT1U2AGdTNQFlQiA3JzmVvfRcNXuj
zahE0zGpS6rSbvF+LuullLCRMruoDXxZase1DsUb9s/7EuH2aNx89i3QfdbWPag1E+FoMTsNF8ZZ
OW/ORrEN/zA5m0zzYXNyRTXmAmLPMG5E3adLqEbCN7JRDAB9MnMDROZCFDdDrWq6mLoxi8VnLL42
ruwunIsC6sob3qRFtdo68sLfgBXnHLul3kHN7XlsdHJzO878GTHIC1K13mwY3LexPS4hVWe084gN
YhazPRa3di907vzmMtRoZ6lmgORwi7OuKOmaj7nRWMSSjEBVR89eQJtkYhXzYHVRsiDFrqFBeQ2Y
dvivm4MUcB9JgblwmOaTK0/69Xp2RxNLYoj4wJ8pBmey0ndX39b75VedxBOfe9N+cpx8K2MjZVmj
sN3MwzCjwk1Fwabc2hqj0BI8FNnv9iQo1I06LtO0mkLavI1UbC7kR8ZFRFwKmpAl/zDChh1YByni
wDNdw3m1Zkbhnss6ixnprSNhlHYM4TqSfKabI9x4LyXQq77UgMPShRa5UtyP0tcxghyDKaecZbFk
kn2VJ3UMT+1TCRrWRVGEyyw5VEsKrerzDa3AcOrq2+c/NivuwNMx3Kk2Lck9+KXThD1tbfcM8l73
y/3m9eZLt32+3HVCPlw5dM1PwP7XvB/t3erm1dW755sbMoPbw6oCGibZ74xdcdXEJtiednzdLV2g
MpCcCHZLh0oCLFbl/MbLG1pT6Lbr5WphbI66QJ4RlvH1RlcxLhRjb4UGtsdr1z3P7SAkFQRqBHrD
xtVtbMng+U67UtGER/RXOXTRxdFuTfnhZtoPn7S8goAik0eUJX1PtwZR1H5N4aBUWYOa0A0saRsh
nOyvIU2XSku2ctMjlTZvNtgQs2F9EwfopaqipIjj7ZZRuOd59pQp4N7MLU7tDwfcyzI7/acof150
1yuaAuD40xjGyxt9v737i/z0L64Riz+oaIA0WIhrCAGdB95BWkOQprZpGDOLLEYbdLosDH2/Wd1d
G9yhge/FhbO6UYbS9qLI4Ker1bNvHE3njWxtmvgBI5tW89M0x1YDOVvojWQ8wj/3MWatuy+MLHj7
QD/zXtDNNkSf5eaBpV3DxOXy+t8Pd9sOsmruJqajsteeCcX2DdQV8N4YQ6zXLM+0Zm5VGpWPQ7Dx
pBAcUqjIy6/kBu98ikNUppMTflruXnSrbs/64SCiw0It3znGQae13wWNSmMf1AXVw2XgpX1stYVP
Q0YRAcN0lfO2U6XWIqINVWdSi1Ay4nDlAMaofdxuvvDZMSQP3g5AvPVJjQ9Bzx1dahyVeFL88GMl
5qQEoXzYrOL2S3LR77v32w1fPS479vnqH68X7jfcnryflhFd+u6+dtckRORv56g6e5ot1lw2pE/B
aH7+i0y+NKwDehXcFulcC2o0NXj9pFgOfZ9ozbXbD9PPkTtz7jcOjB5ngfyXXSq+wk2zERstl/YI
/Xkiw/s5+wSy1A9hXSk0nk0RNqyhsptbZLWe3Fl+GrIkb5XxCwxwpSaX8UcN1Mh4VGaGf0aXeVZf
evew9wim4S/55GXemLFGYKenv5AVRUP3F7IQygMJ5AMpz3q5egAdZafxNf9HACQVg0gVhXY3skL1
QQAquMv7+9W392wiXYNKuEbmGBLRDUroFvk0Bd3IUP45YiA3SB2aE2oM+zcb+pafc9mOv1x6tW/s
AOSfbIK77NY7qhki2Gb+3q1I6LsQ34m7bL+H4rvlzc3LFVt+rb3Luj2XNU2cdtnGFuldt76hMNfl
+mbY8Rh+wbX6k2ozLVyPIc3JSbfXgFdY9FSKsQuzxRK8LJovVmZ+CpHgYbzQy/U3Vm8zk06FlQEq
MosrZrBOVRkanahTNT7hJXsfYrqtpgtARSmothIkhwDjFYboLE0YPqDaMJc2k2q7DVy8oS2vfV23
sZbXnoG6VVfmLKNj3MO1j7QujToMqAAL0fi9urKI/HD0fk2J6Q5luDgUisMgPClwkd7RanSZSpie
03eaexpfQxpkreN1TXsx/2yWPZKZXssGEp5/FplClYSu+q5qPzlIiBvEI4tMbhR+ud5TTjvvnpXR
bEqwbsrk0/yiaWG0S2cxqEAkGpiFtTzM6s6NQCInuI6Ni7LB61pxHejZhZLYNP/KZldIUTFL0PvZ
fRAWPFNWti7P6iG2TJFxyw7r446jq68YIs8UcBdb+Dqg17EK2c/HYdCYUyZQ2nYmEuTOFMpFHo9M
FKUTBXntAhqPPW0/J5PVR/IxNMkC3wvP9Vi/lA+e1qUld3pX2/krYCgi4JmRCuUPh1RAOFLAPg0b
6xFojVS6K4Pi4/PpmEsImO/5aDXYC5lRDrYFDjeEdXsbuQdTmlPCGSFuIJwOMrSnBmbd7HTU0Kyb
SJoF8bVpSTPnedQ9M8BzivMMfuE5FJi+zYKVV28wA0v2q/PL7VUOgTEX8WaL/or8RzGqGNv5DSjt
HounVOGB+NX+SOsbftOdbLjc44qu9muKHmD73rkWnO9FkOAC85L9d3LBPi+338jUyqICpkniLa+V
iu3KMlKUPfzM6nP70Hn1FUdb8C92EMFPoXk7hrOtqaW51J0+vhWd9gVslENLmcehXAuNseBxuTp/
XGEzxTiCTDqXnfNRfl/HkkPyq4FKc6lyNwkGU1W5pS/tY4OSAd5lY0sRninAu7R9LAGD0aclN/A7
H+SDvsjZfO9fTaNqOr9eJ8hK/frujy2ZCzPoYAzYdlNAGpbDyuJs4IdP9AqroJZ/Eh6Bpq/Ii+r7
BSUY7hiFglBMSrzaIp3cXPKwep2twYbWEm6GFZwAOMvcAQ04WfHn1dlVE5bM750Q18cuaw4OLRK7
bc+bMbVtseOk7fbAlRDhK/AtOEkC+31i1GK/dHvu8odNZW3PiQkDYIMbirYf9w1W+dDGYPwCZGId
SCgoFpvbaHP+tRTHMCRgq7I+3IRsqM86x2wfgjrxGudiBthpERA2a/yiibb4Bnoi3kbhmB32jMxy
JdQ2IGNQ7A7iJ62G6oH2FyI0qvRFwW4R+Dg/791EQEKYa5QHlxFJh9dX/6+aCDfhGXQnSFlHvy+h
Lx86qtNBFofcEuZM9ZaKzS+zJYW9uuZjLOVNu7SaAryZBK+cR5W6t06pmmJkHspqkmn6rnp8uCbQ
Qg2ONkNumY96yV1VK8lEP4tL23+f5JRDHE15l/7suJGFsdWYMs6auK9uYbL0M2by/WeAyjfWcm/0
HbynryZNC7COBPlpAe7BLLe6iaVqo49YL7zmztz22/1+QxHmzz9113+GITZ5tBW39ychpI1pvpq7
PTmOaBn1zKs4to/nPJ3Kum8l7WcOnwZ4uGO9Uu7SNk7OJGrTEGnMswCPKQd5yI8unWlpJ5NM9lPd
DWgPyXsoG9PYNyfgmY1KHrLxzCOQ0eNH4xryV8+nkCbrN7aYD5npaXtqt+3Irf2HqXHhbOUnaSVF
rja3HKqp/Xe5QSyxNvfEoNpPIcXdRtV+ZIcOjiXDHk+HzWypsAbZySGB3Rb3z0Ryu1CXyJ6oSt0T
T0H9GvGL5hYA9RsitZ2ciTC7xRV23HLS/03AOS1lHPM7HZsMKdJwoUhgOz+7BjquqL3/DBV7xMXW
1wvriqXKXPy2Fq1VN6bkqHwlwW+5WZBeYc7ykXOgRnHn8pruerEwN/HZIjcy4JXrt7krq6E9JrI8
nMJl1+3/tt18fr5ZPXxeL6yv+Ow3IBw9tQLZzMoritkZedX/mYluBzNGVz2LdgJjtOREs10mxYn2
2/09yInmCG/EyM2iud8EcrPRCflWU5tji3shVaLYEKUYIVGs5voTln8Vbv/Qjy5UR5W4ULdqW3iD
4sogBt1KENGsWyIN4XarLBXGMotBAK64aIOIZMNEkFS2qHBwOGYOHACCLg1p3jZKSC1maY7vvXhO
0+zM37jmfy2s7+Udg4HIkhGCIWLFAMbtubA28dcqasL+UW4DOhCcQp6cZEV177risedBZnCwxpcj
sIzmTPz7UDKrfUv1BwalY70Ke/KIEEMaW8eRgKNH530wsPhow+PKbK/gly3FKt8t175yh/+VeOHt
SfTcsxUy31BLArBeRPLvHMsfwV//rh7q4rwR2JCbNp6JlsSZx67QGScwrOE9q1BkeE/DuwjAseQs
popbnD6XvHKcc+52Sbzxl1Rbihy3rAzKPUQQDJx1v4QWdK16RanAxuAVe9qerlZ/3+xYfA60BsOo
WYee1kDHSo/Zwct66lM/ZC1RdCtrxRiVtvvb3ZpNVFrGd6E38eAoVq0xu5lpfzFz/4AW54QOMIPf
2NrCDyJGHGX0NF+gy5vNs83NN6BP2pAaNCkXj6L/NymGwdVPc8YwdRN1htP7rvvbp8+v7zo7Jc/k
Y/JYeag7ove0iPaeRnpWi9i4vp7VcSM1tSK5WXBoTzlKqPSqHbDXme1ryi8lP7za0dByZKu9iuFv
qNgl8eK7rUybXajvvIDf31m8FdUY4x4KPGTeoKwi16f4+YAnUh72RIq+6uAJJOEEfi4/aeOgW0Jh
zS0UV+uVThBTEAdH0QF21AoNr9TkUlXZ4d614c7ertvTyNpvQmrcefZw7cRqIipwBKJ1kBUqqhsh
u+ZN5Qirk75OaMi3bUAct5kuM+ln41Tvw5g0MwzcH+mi4cx+Bg4p2TdqYN1ErlevXiI28mIIezNB
j9IKkKohL/C/uu7P55uH9Z4mGpx8DSrzEh4oUYq2FGxj/wyQiYrmofJKexW4lpBxZupa7kjTGzS8
4Sl3eVutrUZ+LTxeKgrTz2q4eCyw3XYgd7OGqI0io4KCQ0RiwRlRahaBNptEnssGgoV4ky4daHTU
M9+I0ag9CBe8WNpbv2KeoH6KA82BvN+AdQ5lWeaMwm1wkOyrsPZv/B+ZrXuoRG6y+/CcYhN+TvUa
BMx7pCJp+ET1VnsIxVzLLYUE1kVyxQStyhXYS65UgdD4ESdo2uLAsZjakUp5ErML+Td/BZs8uDBe
U/CtWBr5O+EvkHlhaPYx+FgS05vF8xZHgk9JHqQq35wjz1ueQ42wtocr65GQJ2gBMczdcVbiYftX
IGf5HCFhxcrzM8N6h1AjDYEKz8vh1vQVI0exwollqQ2RMgd9zXkaXnpz+0dqeCkquHVjYKwW0MIY
ZqWNKTikrRcsaAwufJRs9eJfd/tPEt/7p8pDaPbWSNHw/MnmY5SyWlW+tXlmHGFGvpzakoylz89g
0B3yETbXoRMwOSPIn9Agdp4JoKJI/rY0NOebWGZ/hHYHjXO2l1+IZ9zRPxf88xSHMNIBM67dL6ED
BrFaz3zMbqhOBwJ8H8xuDS6AkrP0K3mgwh9v+xu++rRu67+5i3JnoZGN76v2ObUghXYYCq9ZhgoE
5RzJZMxADKbb48KxT6lYO0PW0UDh+ByvEj158bflbg9EYg66ssm9SXCgBZ1VSyTG8UGjag/wFzQU
AFVgmhV0pFs7tfx6w9xiMaGyT2JhhW8poH5qA7E1Nr6KQhn5zqu9vqfGFu7qmCJY9iOdTKyX0lTK
rXgdpTiLR+K+CX/lboeobXEjoERWY3Bjs1v9cf2ggs6XNGNKPGU6d90syEcgFHEGSEDMUfeVJ1Dm
0LP6F6Wkendrh2Ucl3s+x54pHcdgC5rBR+O3ofWSF/KiOv0kpDR2npXWnleeP2xpS943LiFEAXUL
tYkvKciuWYM0kiaFXZBmsigyXdcBb+J+Q0u2jPHYuZG5mt38lgEGJ939CfYMFFkWHnjwXgOFsQkr
VK7pdWIXDgoRSjNEGDSydnss/OCC913BTjfdqw+HX1eN4XBHOMkOWqg7ua8u5yWWvbXmBJ61Yv1P
8kPvPMJ2k7Mxier2xKd3t6YZGfjD6rfC81frKI76nFHsCWFxw1eYOQrs4AsYE+ggsIOpiVKKJXB6
TW0EbhXqNq1x2XHnjti4fKjCTlVWh8vLP07cRq5jqCKSXDPiF3KxXrHAarnyw6KosOmjC6rKR4Ug
DCz94kWDVnykBcxRgd06T+9DF5ZfGY0EF+grGAnOoDozdgj3geFHdwgjnY8ItIiw1IaXXLJ9T+S0
aXi7aReWgUZCduq+fhUzGvXHu+0io5UWy+JMaBeGMlHrYiiIdSQxwOvNF6DGhpomUJML7N8ivyPW
5UD+RFae57TFxe2mLYocXK7oAHu9woY2UJVFsQ6PUpxl8k/2/0w9+Wf+ov9GfwPpKkhbZxE39kJ+
ZN7b/+yYZ0H+YZzXO9BBK+LeKHFxBEXtmtmEu+rjNLe9Pflp/nCcJFdS3KBD8j2P1sc8jQZ1pVl/
RyDKijYyT54Kj5ZWPv7oHJ61PKNKTeN5i0FXF2bfE4lin38vj3mrSZijROXLHszRlBIyrvWzMpUU
5+CSCs5xDuXEqWtYDw5kGqCYKohnIIPz27YNUd5k4xbWtuiTM9BIVDbUGm0MazWXqmKDXt9tLq93
l6+u3v3eNGX7OyLv2pcXHW2k3S6MrXx+gFwa3mh7QVOhZOm5emHXYcw2XBjWNGB8WQbHX950geZf
Q7KoaP3ejR4UTVpISdGJbzfcEfI1BOt0QzHoSmzGGAJdEdeijsX86UeVMBE+CkBNUcSuB/Vy2ewt
fpPO6uwYFu434mhikFJ3iCHT6Flq5gAsJdHFDnh2cAx8dPg+F680ItIcYGUEHYSzXi4reYLMqLyf
UXFQPrdFRT2taV1viPoCM64qv5J71VkmjC3CgF5wq9qu0Ycq7y38ZAKF9/3d5+6DNOAU31s4+wdY
oRzEISuBdy25hN8YPEStC4M9QJDYRkNsI3x/S1ZGYY/9KXIbRwhj4yWslEOUUV4BRXligqCz8etu
Le6qNdc0oILi4yNAlYsU6p9vFJjCnsptjEUVa30ctEDNk3ifeYFqgwQABkCTtUPEIJrYYvsdCfMM
sr/1JvYjjYqpif2m8OAzscLpmRSEE4q7CGU+Iv4AnAc+EWeAhrNoe8aFCDwbAwictb646OM8KZN9
oTkKO8URTio3SLvq9js5qUzBYsq2T7xmQN9IaoHtYH0jCcx+cl3TQb9GyJQYggiJxMKOuAt+pqGM
cJOF0xM4GzUKZDQDILC5AXtyinCi1+Gf3fbu9k6vrOYmfTO8YbJFQsJ0nRYJJaPes3Zq/UEAsoWC
kK+earohP5kPoL1to22AjqiOgsAoSZ0UNZBTS+rIyJXpB6VFjEY+1DAWj5aMmp2uqpkbRXwQzYaa
++8ePr+7vfr3A+1D/Fd39/HTfufba6NBtB0GA/aAmDjTkLna4XsQFeZuvaPytiLf8fduReYZq/rM
Opr8cXSl4KhXa++yTs8yj7kxRtCu7osXyDcGy4VevfsDeW9CAnHO2CFxDJmsMNgGC2OnDRWUvACD
xe+iJDhWATbTEsvcQbj7eMfl1bVnoDbxB7GKIKkjXJ+4xLYv8vbh8x/dVuxiMtNaX4ioNI8O5Z8j
BvJarXZtYyf7v3cBVP46cDQ6iMvU4XGb458hNOgFQw0871YrA97lIEMza0nW336kLpG9L26ix6xB
AlGkQd134j1YgapVU3hdVV7FU1GLyC3vtxvWUeqQjuT6ZIYQomgA1YEJUUSCqExok1aZIDoT0g9w
iiipyK2GsDQBbCdaIxpaWQkwd46rrEj46yy95YEK1OMrhaEqa5ypczBV8RHQXlGG0seK9kK5kwKa
gSY6TmOfynwiIH7kz2cPdyv6tP1B/13428XC2X/dkuQ7dc4FVzaEP4Hiq09ZL43tfgICdhJ+1ghj
UemTzcXDWDhsDrdHgWIzbH3dbPa7/XZ5r0N1m/0vx1EuPmC8l7RujdQaKqR3Iimu31NoCFMeoxzX
HzaMIb67ISex0F/JOCB0GnRNpyOcY29qcMA9OcwPG7K/S3WYw4zWcjHPyWLu/oJaZ/JIZ93RqDfG
MmkNLQpJvnLlhY+hWyxiZI3ikiNyyaHB5djGCN9lmw8xgEsvBeeivH1qYKmZhH2uEmOf+4c989+9
cW4M44xjCEV3TF75TCrxhn4jUVLBVcrvEmw3wIi8PCWcevseQSPDr07VpgFHBlA2HAk5MmenruEQ
ltOYnqzCKnMAaeB9t6PlVf4RyjvZ5VjpOvIYO4VeQI6I13BLFOFLHsF79F3LfKnkZg0lNx83EmZk
VrNkid4hmrG8bUEvscE9uE98cFT7kGKrPGao3Kol8HDVTnmnTC/zlADLEAkGvQRhmU5V8/M5WClB
qhEsKb7UOpq56C/5JbS5nUnJr8oD2jnpHEFxOaVjcwQlhyp71qMIRioY6fI4xmhWwjkcYm74bgnn
Wid5pbh59ORlsfVowpipZD15Au0PVLOyrOiYZ3jhSguElDAwLQ1wkNbWHpB4y4cQ5U4kjxis+Tb2
l3JN9VcmoO2T0K+BZMl30+shXAGt+Oznm66X68367jpMyRRbkNn0Jw2wjJ4huIxG+hEHJH9BbT2H
U3SIlF0voVUcJVw3Rs9F3g54PyKLayAoHre4Jj7R+y7QPodSXotd4LW339RGpRkaBLP0/9l9owGQ
NUk3yBJBNMlI2WtAjukmzFSqy9fA4Ker1bNvPJrwRrb6PRo4stEI8KpwQRCqdrS8uXnW3VJNbbeg
ZCA/gEHe7py2cBQFEnmbPy+334h7wZIpLEby5aWmkMrEhUt1Q2x2bA3eAxHBzaJJopJPedt4r8ne
hM46PbOo9HlIovvXs9TM52hBMZpHanPZtNeq53Sl4VmJCB1jVbbBJZD2V0P2QEMlIHVj9rlbzI6G
Lb8XPosbou+1N6jVTOyRPN3cb0eOzWmPrHg8opQKtvvNy6+cgYz63wvvez5n2HMn1bP1x8lpVi0K
NYql1sQRm8daRVNqksZ4SCKM5q7wpR4sx5WghiPf28iU8ff8bffl1TsvgYZKRfGpMkTzZ2yAMh3F
eYVLfKhprafE3IEGxXykL1OTjRxm1GHaFAg0L0pdiJdrs7285n+BRasG7qoDLT57oBBUDsUQNqlk
MGg3JJMEFdRYlQW0gtOPLmbFwAkxRLTf//Vu3b27tZu/+CboHRjbnTauKkH8JoGCiQyT7RItfHpj
WuIovYV9RdiWtMHjr+fIdjxZa6j6GoJOzrqX1iR0s7n69+qXzjWAPXBX8vmFhYW0QhrCKJs3oYgk
SOdHSSginAU4yMdewiz/0S4hYop0M+qoKMjUj3MJm3mfQlT9cE9hVkwXrAL6UDjbzNPb27uvUDMK
qjFKG02mcmh85dQE7H2W9/erb+9Z2XkN9sLkOj3X5nZd4NA8jj0cjE1RxUYncDCiNBLHMKm5SFE1
EdHwo3Hx9xTfT0FVWGYxsg8T9k+inP2bzQ1t2b0B+gFQOjpplvRRAvI78nNHl7TVEp21nOXvNvQB
+Kvbkhd7Z8DLGfCYPEsczKH3EKle4EkUTdvdOtDIzdqz/R5H+vZ825MX32xyLGv7lTX18Ciq19bC
CzBWZQk1gjfd9iNX47bzZXq7fuTnScwn0L/soEKBbaaIwj2TOl81KX7jaIJ/+LTdfGHR+u3davVq
fbVfXv/5YUsxZvqrcGLEsSHrgPZIV6/q5dfr7t7MNuoNfB6zJ79fH9YU6+iN8rbzwWpxrlic4uKo
2DMmZ6ffhPAvmc26LcdILazv9Ks/BI/F8TzAdv5GNYPtSQ6DgEXUO00Po7iQxBnFfMQZfYiAcyfO
IK/QKJYJQEHu8bBM5LqeOAo6Eh267z5Gm56LzG64HtPl1MQt9Hc5yXid0XHr22j2aMm/nSatorQ7
fBPaunA5+YQnt3WpHM+8KqU4/9FUSlGmm2IgpgHFTwDEV3U5AbI1B9dAkoq6PIMBOuptHZCb6Jec
4zV7pq1kScCLTTImqKH9ZYupsSuuorQFOynhB9MWVEb8W0XiX/YsRwJG8uxF49W+aDeuV3C8aLfF
0auQQGdwQi2xQ8Gz2kzVl7XuAIszVGIIEmfRL3AaPczgNEGuGwBG6CGUBrS4wtDbDNB14cLvu+vv
1YuI6QK9ejjz+wiTxXdLHxEyL+9d4in4ajnJpwCKeV5v1tfLvXUviHepfmVgC+lBXpYpFXbFYZXF
at5JIXKcoMqkiQYotjxrKKqbPJaya7g4guZQQXlug+Z+2VJg8t1y/ZxMieubJcUAfCaPMMdp+d+K
RB6ysVDq64f7m6UY6wwpnUZd9bVwnl+t39ytVnc7Z1yLyugwZ/emNbrJUBtxvXrT21kVy66HOaIK
7X3M7bYlhkvSe2/tySBZahsIV/ggJ1JpZMWW7XstbwTdgy5wMryVnxfWFyJUwVETVmSlNoo4SUeo
WWlHqH7EoxifwJgnb0EIEuDtDvB1Q5CmoVZrEIjlwaPu+Wg12MdI5TonpoMScO3nG3bQwp9jKG01
Ip3Gak9nn04TObDaR1TPDxWdJ8dWJNdqgjk2edJoclHTf7rc58J/wjDLGZ1f46vo0wG93UOCqdPA
v5+WuxfdqtszFXSo06CIkeKnN+AoT6KxOXtEvYb5yfpOqC380bSzoGaJh6OOiEdmlXkMUSQob8pH
2EnTxnf/jRHkT2hQbfSZIJv7mqUjdpfLHe0JWIhP/DnFbbTl/jDEYN+lDCQqq/yxoxFTeP0LHOQ/
O2LHynTkYJR0rTL53vJRGMv5WkCTu2UGt3ymWo5L0UzgoNPJRxQD3/QI2mcBvNupkmbxYzFSgP7x
KM+lLaClSa4BJIRYER95ay812FlqvEGq/d8Zl2WjxvFMQ3Ch4gAJa5XCRqrj2A1dfVXIIPNeUYWL
mNjKMRm1x1KnK8oyO4+F4RiyL3kzid5kOG7o8/JuDRA0GbwaZH6YGeX9w4FDUTsv8wYjsP/BLmGT
z3sJqx+tDl0EaAtPHEqeDaW0Ug6B2bKHMf7hKPdgKEnfRvvgLMioZESyN6ZUCGgXHnPcya8z6kW2
Qf2+CO2bUGf0tiMPxyc3fZUXoXQXID2cK5akEEvatfrzFc34xcnSUhpH4/a0W1VkNpMGickv/3a3
Zlgbnbla6E08Vo4TR00np2X0AVxeXfVlqy06XJ/+QhqS4jksGJxIvslMnYdk64z0na1THh6Os8Df
H7yhKSuor5zl+dfdl+fbb/f7hZH1B2FFso2cZfjHkiuebNqoc9tt5ylkcvKyTmdllXFtQ+m9va2d
S6tIb7KhUL+EPWkeRQpCODSKDvjbks88vPEBGq6pQ/KiiYfSoei2HRdN90TF5jgrNs5RUIn0onBH
AkKmmscco0NLb3ot/ZwonKo2LT92fls/QqXF0TOYZlxHc4UDX352tzeoI8Unw4exItirb+v98qvK
zcnPvZGvHKfSUMkj9W9FgmZc24AGE2HLSavkllcvnAJ2Qt07DNPV8JlTw3SbooWm4Mc6qfpWRPVO
jF2YxTxQSDrQBgRReUqHyvPIQqwUj9irywuoGXE4OOzybkdijhXxE6D5Jscux82g2cpjyBkoiiDz
hhiCGB+78XJOiuyDGDbWhqxS5X42HSkg5g3NkhKfodtKvooL9R2g5+DvbjzNsdkuDtFp6jOH6MjL
mNk9IpITlrnjHlOsdtLzAvAKZ6Xj9o9JxAs2bS1b+QUCpOkr36XDUrwy2GNr/cIMGKBcTBmi6WKN
2sIDnXKSz+ZSfB1JGkaxRwVW0IG5KBxF0/bkonoGSiSVGtNEx7iHax9pbQi8NHDqI8Tr+Z5We0Op
Uk78mtJGrMzEVVFynEoYSk1cmsKFNntpBWethtsxnposmjRKa1GGXabvB39dsfVhKoJH5duiCBuv
3faAP3UcwcJm8s/045IMjiuk5Wk4BFw5JZJa/Zo+BV55yKZvxw4RvLebDhXpqhW04/TS+rvppQ8a
b8i1joo39RSZFVCXyWS6m37CmZGqzVMR+ZJWWYVPY6iSg4m8w1Il948EBjYqkKqagd3/xyWTGYZz
kwGJi3crBlvyEHMaWp/ZKTaGGDUVTvUGHZ8P2Z8lFVx0NANG/7LdfCFvHO/sMP1x/wuR9QQsTUHM
F7V6bsq6nS10KPrgiOceOuTtHBrMszFBn1yCuUGjfKCIpNxI/FNMWGgWfd90tqgUWJbOMjSsUn0g
mvXESz5KFfsol1y5KZFWjUO6KWV7QjelLe0Ghn9yZmfxs+ITuPRE9ozzExyj8i1KrU1tndz77YZM
xZSrlhNjc9ayhbGZ3xKHIcEZ5u+vHU1VMb+Sf5iFHblNXCUUHiWSNlmWOaMMhrYi6GCqxKHnq9XI
cyyvNpR8Ww3VA+0v3DtLh/M91PrBP4mXQqZXRvLBC7+gVOf4PfWGJWdhRYUKrMQkz0zfvbiTU9I9
xBQW2ROHsQv/qdraTKkjnTCo2klEsOOJJe/Mbb/d7ze0Df/5p+76zzDZZD5NeQXK+5rm44KxIzwO
rPFpGM9MTFX+aIBgEkfiQG7rgos/a24qtxTX2GmY77aU1xZjr1DZAw75Xq6QpjceeoVy/GNcoTqU
Qe69Qr20hd/JFaqyn7/r85ybu6PqK8p/+Hbf3bCnS0I91SX0vxK51J4cV1wq5JvfqVuOao0PZT4K
FdTn2aTSA11GaZzz5csXHkFcbzjIVCpskduw65i78HV/dd9dLyzpLeaCJBr57dfX9uDKRXEaXZNi
D4O8p7LxSy82D3+YvbziMxS0vKGwVrXjGwVyrVo7CO6lIdOw8eE0ZJWNgjkfprcwuDjEwmuUA5vI
SV3QeA/AQ6nqnU8CZ+xz/7BnagjeOFT4d63/SvonGruSrB1OMTGUbsPtwXWr3gy338OzAIvd+ZN0
97W7JteNF57TVoZ5Kk59RAZJFadZOBoqO2I9BhM8Lmxyyz4m+MbPxulmladsmfRMhHfgU4EBiq9y
KNtAXqnPHzZXNM1nZQcYRdsAmPqh9hXZ3sqek3qpcQuQSnd2alxnqh1GaNtqzHKjU0F01Xy/Ig4C
T0vSGeZyxzOafy3vVvTxWrjfhx9UyNoybidvM3O0+NoAk+vx/nf88jemcjb3T7ob2AT0LT+MQq1I
TVVA85znnY7ydfusKARZimxnxLVV5cRZehDEhcmL/sdGGJr40NxsonZwW8VGi3P7sJHIEdAIxzr0
GQmMLZRT2WghaLfAwHBM9PK+un3bdTdMaseFsGQxCEsf/qWqI4MPLhVegzpMl7uHP3ZmxKCyd/Yk
2Vsu0pDbI5aLKke4eNvdUp1V+uaQk3oQeq733xbmBh4w2PKycuCv/F/e/MmGGiMX9rf81kj+T8cC
eTVVkyFsxdiDn1UDNUXyzK0ca9VfUK2bPcrWZtWKtp8XnkD5eGDK6eVMRFDMGpNTmpVUeOI1K0Wb
jUwMCBNj8kAhzZFluFxQzvwyXAL1rwvOhu+52fNH4cWGJiy0y+lsly4X/Jp3JgSfEgE6wxf+XiIi
bRMMmi0GIUM41mXQ36NgMG/XcL+AmD3vNvQgSZD10JnTof2FnS8D4dWcKpHvLq+5sUm/kz0WhOSz
ZcKUgQ5ofwkbL7+SmQsy5H8hlj5N8FTb3nqQfJul6HZB+m3c2qkZ9fUuzqWd2zkI37wCDIK/a+i5
jRuf60cmZ4HLIMa952SC+GjNYs52sRin5zLt8UYSU/TGB7/nk9DorOmxBKTltS7zo8f449XeWATz
j9feAGubWnREGOwWokx0lYLHg2I7Fka+cqBbM0pdnVhyJ7fTPIfhqBinfRNVr0nRvpE+PqgqNJuP
X4W99YP5+EZuak6g0OPm+5KeGfY8s2fL3d31+277+W63I2fznJLXXJtziLODePEAfhx3R/LsQ3Zh
gzhvPIN6HxbXgMbMfbihLG6I8v96g1odGBXWwyPa2fT8ITfwCRj5r7xoGs15m7DnPxbYT8zOJgXj
0aQw3M3dH9vl9lsGHYxBJ10cg65f739wFUjxxE/vuhJ+Pk8nyurkfvPyKwUz8xVx4X3PHw/slS/9
cTJj43I46MNTOzWt7omsm6hwT6LTHu31HOO0JwQiutvT3GQ8VPOxj5EVq4DWN0Bny/W9ouJhLPNy
0BoFOXLs1RRPUjPxOybEwF/WD7/yv2QEozaId6gwJhfkns2hKI6mHW9wtNiTf1pY40yhKFBKzKws
WQ9SVmLooQvvX4F5//PB7UioaT4v9yz+4bhnESptPPdheiJhkeMgM3lt8Zq/Xj6sGR0EbUXZbPYk
ZFjea2Fl9TV3GLHGhGRFHV6VaZG0W38kBgCOoWgzM6coenp7e/cVahVCVZunje528HgNERnV4qRD
7xoQTTyQszUg8GojFZmEuKt01G2OVlLw2uBOVFIoSqiRIexs9MR1tGvk5frhM0Mf0Q8L9wvh7sTa
U90hJimJYwfF7Axtk0HKA+f6LVFGN6ddxtrGr/E8wXTChToyeXZeRijXDtn7cobFoxHQV+U8evBX
bGTNY7DKHgRiCUSt54hArKsojZAIkuwozt7II7hoEWcWJndDtEuFgcYm8YLA7/voMNDVIjT0nySK
y1GEqg6kQFRFRcLG2y0PZDc3WsPLbHIuZYTXVuOYpGyK1xbrLB/itZVlxG09iIQQd8bOtOdXtuXa
Ts+Z8P+ftK1XrO01LB/Cq88bVhXaGxU2vYlfogCrm3uJiKOx+WNPsQ/+JcIxG0HWkSzGv9cPa2k1
hwsCVe633f2K1k1t9tzKTYCG6b5BaEWd9Y6PUejG6MKTKXRzJGWLYsJf17TFWBbmQGZ12TETs0JL
4hEbTZDcvWck0oWYgVyYutW4zI4otpa7ril7wah8wu6SVzF/FQ8c3yaWhWizVQI9MM8EPt9s6Svn
swRX+mrkWZ98vJoDAiAQ3vugLWjoC3Pi5UdX170MIF7MorwzJLcXy5EM7RKHDspciB5OI9YTI8Hc
pmTH4A8th3AMY2aXO5P/MveQT5LTbPSTdlQYHRY8MIec+GAyM3rT4nLiouymHW6VS/ptTZOjq7+6
G6P2q5588Fv+qjbHoXkGq8XXdNcLoMqcG7Ndao0JF5EIjzVAssNzWvZwHh4EhYVNpGWxrwWR40FS
k0l74QAFEkqBYh7sU+2ul2s6NuCfVbGEmTuEzBUBM2U6wiOBp1hntHMQK39S6vwJApYIrJr3+m2j
kEx5HhuegmQKj07g2NKvcVmB7Q4JpeJX6333kcXAv613dx/XtDLGYmH5hetiOqP+3n2FBqDK/hlO
RakjbfFZPEEqICsLlVL0I0cN5/NjRtaQ8ehpokoM4/r96IUM37/Z3FCsyQ2QpEVHRuen0x6eRYJV
Mz4XzVkqANozNrXylrip8EwewMEMrC8gzVVWBsA5Z6Wmcw45EiWVPIIconZFG2ByiPguBQOYTQ7Z
dXW7taugjorbGzar2WRoYUmtdOm4aty4KYLqeRs8UTVtWL9WhvXmrLSG+EFIGZ2VqCcIq4ePIEVY
vcAug2woafB2c9NdvLsXnQbqctDNskB0mHw9TqjTJVHCptf7BrHwtpnyTnzEv75OHtC/LuVMNivQ
fzaeoTkMYV00LzMophxWa7nbkJD77it9lbim36WIsBfOZjayNbvsTd5Gk7QxgM70VqRbMka5Vt6q
hDSTRu4Q7x4GCHPyLk9ZQcu9SnQal07KrKmBVwBuC5UhI3QoNwJNfjg43/ZmkTWyvG7z5OL0hYD2
sz5s9hdUp+Y5jqjUstidlYcXxgYZdiYUmC0T0FHgFKmcJCuSVyaH/UY4/fJxu/nCX/4QMgiWkoKt
7bruz4CdwNUKJHKInUgiJyBWNDSRU2l/q2pT4/bKBnOcE++LOBeUwbhZQ576ozT2csWWkZ2nXd3a
JIhD+vEchON59eM1WkLHYIJ597D3ginwO3GGP001UYB6q+mk3iFXQQ+W43Q7alXW3jo5m8Ly8HZc
2jL97b7z+nGLpg+KmdJIrELsWCOxpjcsmscgXXvKdETuSFinhoc4s3vfD65IjlHQ1xmoSK4psELd
hFDBaQcVevxGx5F9iXnUULAvMQhLsH4axjUUlY5eG819s6aTHwnuRejwZbu8Xxif+c3I1SSStLsu
NtPdrz/RlM3+8jn/9+X6esNVkF93H5crUZDnUZC9BzeG8gRjoh5BISygFVwZjWBV7bVTcSokQfU3
iHxRD5txSG/f0oX6i9NFSiIDuJ2p1fWcvGi+l0K8ETNTHsqrf7xO4jZDuESBQDPYnDBju1GbbO5k
7Uas/XdCa0+gARke781TbQ5UhwATKuL0LDRN1EJ4YK3ZENrKBurY3vqF/Mho28iVpW4Q+YchwHeg
a180UZqHvupmUcVGJ1Y3Ewz0KgiBIdawbJTfUiS3UNYI5lHZjUV5E6GBCJNHZJFfTNET0rQv/niD
Q8cc3Zgs2QajHntO3m9Wd0o1HP5S3m3vwOfgBYgfFyiS5B+aCrbzOl7YOm9U6ixZvMYntE4omQxO
+6k141RpP+k4taBqXlJX9CR8pRUFGsDKIip612+YlqAv2F875UEJvlW908IZIL3p+X9aNOQBv6b7
V8osMv8eDV00o1riLIAJI8Fs+3a605lcaEriJ6+N2wJd2eGt/prGYs7OeTHyXcqr2Li0FHpVjEVY
wA5RHy1ME3bojKHAyLy1QU6/Pqz35Amxf1Bu5EdZa9REY6T3Zi5d5ePPqBl/RqiuAyyjp6VWPDOW
lpqJjn6/qNNAcjGEOn2xuYY5xQz6H1yGdLYkNx99QGm8x6f2XUjhvigdUgNvN+1r09AxaEe/hQE7
unseGm847gFJI+EPgF0HRaHeuRr73Ao04W0UiFX+G7U6x5WsHlo2mTvocOqhklohAgc4SOfhTMwM
fbyi/cwMMu6A1cATe+kCWpuPI2qRRGYyQeMh5Sjagq171IfQyTCNaPC+4h5NUNyJGZRQO3pgeqgj
z2S9PhRT5+yt+c2iDXYpmWyjTI6b0f4QPV/20FzLvic6R9Ipm14lEaabm8ThZz5/9FzRefhwGCLT
3AAemWaV0bQ6Y8QGglPhYcUG+kcCAxsTXQK32YIoDEEV/Xyz2Qo1tx2IyQhwoQxFdkR5tedBmVjx
EagvK0/JoOcqZqbnan40eq42QyeKyIeOynXfhd8O8lEJutDJGuoJ0eR2OUgV/GggiT11eymBY4ag
kJqQgw7x1Yq0Oz3WQg5qBB0WX9JgHFk6xJ9/224+0/n4qtv+dXcNTMttPXoNwZ5PfcQ1pNbKi0Po
0gKSEr2VhsAg4Xw4tQWfzHgGv0M2rpbVFN3C9F1ZZvPdunt3qwYZm6b9kpyQayse/g5AbzNr4NbY
UoXriTuPNwEly6G97b68euefYWmIO0m3JqyttO6+GPJI/GUJSyyhxl5yIbmo5fW/H8iCAln1RKRw
W/bas5r+PQN1ZRmIswrkmcaAtJHV+3DcRYdZ8CWgCVUyJKYgod3lq6t3vzdN2f6O6CURWKCFsZX7
URVwTs83N+S/FwJGdPXSPjv+rbyo9aTxGCSaFnt07JihXzV1givb+Xy9YZzBwgNjn/jlhAOHm831
A5tzmJ/LYD80ef1BGtCbRYCZauXNq7e/v3j64eXvVx9+ffX2F9dQiNCIxzF859VeP1jGFhW/S7RK
5dVgz4qVL7R/D/1CYROsDShS1HZAkVikMJ9C/hqaP2O+mU0uQ7KddnHYJPxaj+CisSID5m7lp6pe
XhyZjg4aP01oHgyDU1OaB5s8UsQ9eA53WvuennMLloacWAOnXhUvg8OV7/pAzZHJ9fsRJIkHaebU
zlvp8+kkRCg+t83jilAq1i06I0NRPZTjQumSBCwi71mdII2ZKmbWVy3BVSQ7NUz1ZGiWPre66SVO
9OLp/X3Ekg0nNXzcucQfzVkYxeavLUM2X3KAs6FNwT9zawkwFxkxXf3jtZxY/+y4kYWx1Zjhh8/V
ItXrzdYeG/rYDnDN/Fo2ru5g2iFSdNuLcgesKNn5nvMhut5RySgA3aTGnx2NF1iynsyLqZ0Eb9Iz
NLPuLYsHre18+ySGNqVgrXs5plAKToAGTAIWGFDILLdzTAOZhLMqRmQsp3R/YJHX1rhB+op5dGha
akvKRdpNZBJIQaZMeussXEWB/Tb9WLsivHegXVHvSNF5AN+YKC8B34r3UgVcjVPGkfxbjG+GfLAJ
ufLWjvzllwrvYexb1rJtfw7w9aSirqQ3K8FTPTVpmeemBCS3CuULF9XpmuT7pDgSgF4nlOLIq9oo
b52qEkfXPYqQgSpxMZ2PQWiZGFf9QdOd9IpA/KbOdvG84J+GYXosxzkE7EGN9nd15w7g0NP+ozAn
Nmrsd99NR/GR3rA8szoXQiGAtuB4/84Ekvir2BDDKHWumy0T/+R8IuIGik/i1tkrT2RPVKXuiQPM
dgA61lbiMHxH42xQnZ/8bAynZTzOVNcisspWnlY51xvqDy+viQsl+yMu1HeASIu/u1zhix6XTzVy
gU5fU4N1qbOT2cuqEnTJZmGFGHx7Em9OU40xnn7vC51jbvNgPt0QBAA6INLEdU1RAV8UABBI9vMT
polQ9gLHcjK9wgaFFkKqcxhEy5doE4hCBXlWq4WPTalirJ22heUN7YXzbTQxHC1kYgfYSJfFXgdZ
NowGItTKSuI8gDiOK/+RAHFkmQoxuW27T+Rvt8c+L0JMbkBDPm8rOt+GfDkfM70TE4BAYqvlLS+C
SlQA7dY2ae/hHYRT81OvOQPYYG2HLFvYBpz/lACWsG2GYBIYhjXw4q8ASNiWzLpwo1a0ppWNQNZC
6S2NoxbaPisViLsLgFEikJsMUmeI1RgixqM7i/SWvnpVSIBzbjLFECXHtfrzFS3DxJk5Uq513J7m
oq1r5VEChDGX13SVkBwx4vHXdStoxIrPINaQXNMhQUPudlcP9/ebLfFNnHEsrWzgVPhS9qLjXDW3
5JXXCxxfohb2Lvz51FT1tduTPb7oxCARJxVPjQ7/YD6PH/SziDVoAgXw/6BDoXJWHuo21qjDZiuW
WeGQD+Oz8ItiCRtjb5Nsxxgf8ImG6ptqWu3GTPT8ulzfbD7zqddM3njbjaxcEp3axYtud729uzdi
Rz+nE2oWPQU7m6RD8xVB/2u5/We3pYS128s/uo93ax5AmZvFUmfLXZhkDrqQIccsbCKIEgXHRmnR
wjQOA2nREC68M0/XQtXZsfNEXUkMP8R1x24nu0OvXuwWakM42vMHm6TmxugyypHHHyObHa/0z814
DNSDZ4xotJ9dsPPz0dU8nSw/QMvt0RDZY45OKcNHQFLnrAw/l8Zo2xQBHy7IU6Z/dhDoPU4Se1qm
19oh4jqMJwskZ+JwKh/pNIRaqmxCJxW8tTO5eC7Y4ugunhSMSCjcGV6WtYXbSiRxioivtwF16ngb
N4oxsg6SRHXYCTTLjMyfOhw1Tk6/d38k687qGWXj5HLJVhfl0jh4ZPtLvrpV492dQiXYcAEJwR6y
HGcW1d4z9Rh6+DcsnlroDcKnQz8dpAxnELuz5sk5EVRoHML30SKocmTXjFLRM7jE7ehFsgc+I5AP
EQtFZv/4GPCT4b0D9Z5Zl8XKftspuRfNduo1XG0R9rPJZ2eoY5SRSeKM9eXrmO84xPerq9Poyx+R
mVPSmflkvN8Hm32Ixd41rZmpuTh0mgIaqzt93V/dd9c2DwtSyfwRMmpVr0ZaqoyanKpBIc395vXm
i5DZsNU0YRhYeH9UeD6Jm8SgFafndKl3EwsFUHaiD5AqUamnCWuFAVQwXZZU4S95cbTaV5EqNv6d
qX01ZQnVc5jrRTtxt9/u9wvtiMHtwLLTmHV2jCULP1lloqrdhgNPnv6/NuQyGtr0VV9SHJ7GeO6I
zL6MjNqeb0qPnHMGm14nxDCb3zyLua4EljgC4Ot3Bo5IQ5r+6pyZbitGNiJ4IIuWn4uu+nPRdWs1
UUp4tmZOVlvEwjMJ+mLEX4Wtn3NWkECTYNMiATVuW621xsvGR1pcaSoH+VHfrR+kcUd6H6WdQX36
B1UOuN6zHMmdwIotrK38xcjttLzcQ2u6kHfi8+avbgF8Iw4iByr/rOjPox8OfmeJOSYoS1vW3C+E
jzMFQ7DaEJepHzlQauYM8ijboYeA6RNT687C7IdrJX1iCdwWqJJQRVXcyXwidA7WzBhoo22aqA0S
ySw/kmkd1kloDRxTpepHAcS0R9lsoZ8Lu0ckXYaijYpoyIFPd2Ju9SU0nOqicz946y7YD5PlRpOP
DyGZF1E6tXEnbuUTC2x+6fb8mQ2bytSz3zrNsuf06PcJhDRZbHSiQIi4DAVEMTtIRlHHa7aMIm6g
/YkH/Ve33b9b3by6ekdjtZ0zDP4ZUH1RPb/FNLcxiuBwlM2tbfxqziLblsWgJKlWWrUeVhGVblXO
Ntt47EfKTPjLVnirNI2H7V+mqK33a4CL8BJZlFa0/a2Q/W8sWrS2hF9ib7DVmGcbqJvQKIbbXK6/
sUfTbMmzDRSZZ0F+z2BqNJ58dfu26266G6CjLzOIriv37L2TTz/3ft5r7PO8Hpr3ukLNz96iSB+P
F931itaSDYKsnUV91YPgJw7B3V/EHfgFNmVaIv42AgxwGLgcYf02qnXePYGlC9e6SbN180wTuLf7
ovOzB/bhdmx8ekghz8S1INbJOGgtkBfD1L49UxLVGdZPSXZez012LhH/j43s3AnMJidphqyyU8iy
cHB4ClkWymVVxJMjDKoQ2gI96kuBzMFZ5g6AqWpyjv2wd9UcFvOTHDUVVC85ZNnPS2+/3F2Tyfn9
dsO7My479pmKa7rf8KUF7APQuC6qzPmw53meeK+GhGxa7MPvV8u7NfcImE+1Y38+Z2nZhftl3LNx
976OGKkh/0Qkg2kAZfooue7uizszuDFia88Tf7W+XS0NykP1mY+1deM89WW+r+O/OzHyUaSeRSVz
EunUIMBONcP8Fp6gUuc3mY/NSxCRS3tAFNTe2AS8Bg64Vg065r6y1Jk56VOFL9tv2N8u4gy3fbRl
tLh+w5Z72TXG3yq9fbfw9+FeaB8KknuOkrmo25muZO7VZgaNNrJiDu7GSaVQXDJLR4A5ltx5I4el
eFqnHHEyDdgWFbFrYFKleWa4+hrQb8kvG40cRH5Sb1DJo0MsvPFjMS6KfzyqDlNqqLovrECzma84
EoZ/sYPUFQztLd+EAaSBhBmKyFDpFvKt0HBcQaWKWIGBG9H3ObiHCv9E4JLH2rOO3P9zZkFdnuem
l/vs6dXLqpA9f+pK25tt/34mkK/f2DMI5BtuZon3NCkeb5hZbN19+Z/dN0nv4JQeWrsPS3x5QQbQ
4ucdOKjBhTfI21vVTpEDFQLKfmpJDFQEkU7tEGvVDMy56lBB4twmWu6diZz3QCS6hyTnFQlT3YBB
G3H/3i3vKejAjpmcrfzQdORPRV30t8vViiwQJKBwR3Ci/1DLr6KJf2FEam67b15Vk01oBESNg9pg
Z6J0OEVxQqRKyr7sKQxIkm6xi2/q82s99Odz8ih8JB9DKFDge/58DcCtTvulfBweJAD001Q7qDwg
oneM6HIwe5UuuozqMiB2P0jnFgcajgaL5YaNWKONYW1Ufy5ZOU6XnFCJI7mqCbC8CXrwcQjR4xWa
l3Cmxn6zNN2uKP3YZLuN/Wb9sqXTwN1y7Q7zvxCLTj1tfD4OrxiaYEyEUohfKKEx1uekY6VWjybI
ZqzDRY8R7RxHlZFr1GPHFDwJKCMrhiGZFz8L1p7gaDLJhkdWsKiSGmnujHNdDG4iveHD5p6eqirt
f6aacVBZte4rq/q2jBIRaLFPQUBVVj86eo1WxRXplGTFRDrmk02omYPy3csmlPEuj8GTl3pyi9bl
6zkwJj29CfMsMOm6R77AkRa4g+O3ZkvvzIjfyiFYnqc2FtYNwzasNFFtTGPvhoyqod/S2H4TRFjq
Yr9K/oQzvMTE1X55/af1heiGS8z49v9C3F5e2mzIHz5RjgI+b4q/xbNcQftJoIuxZ94YmP4i2h8+
PvtRu5PjTHbLaB/AOUspEacy9VofxrGf+6cFjzzwa3m0N2mmdOCBHgQzBMItHALRQ7ujfpoVgzSt
7W9HutJfdLfLh9X+OZl9HyhUAexRrx0K7BFd7qiKW+gXMBFACeYC93cnfuQdzW+W915nImtrHdta
EvASPeYL9piP/I2g5+j1WOKhTil/SXWzjWgSCDmpjUEl3TSHy2/ZS9M0qasq0Jo/inVa9glCwA6K
379e7u3OgBLZ3S/vyZq9/MgqQRyTKDYs5Bci0I62vsgx/jGiZuxAo1td31mB1eOJdK9n3vuGv05I
osjiwEK49b60UEQztN5jJCuK8xBZY5zOPP29EFnnEA3J5e7hj50ZfagTshpak4CKZQYOmQ2oKKJZ
NEAl2DtdUIQHV5D0cZ/ualm7FLOKXGZ7+YVMUR1bxPlnNx6smnA8eDBs5KT4D8Fg6rHxH6oqcOU5
oexWHxkn1giH2k5em6hCxpRmYQl7eTiDXUsIhSk15+pakrcDuWV8ZkGA7H5ZP/zK/rpQfzFome2s
q+/EzXbfj6EVDOrudVzmwKlhjBQCpt74P+9Y4ZAtpKwb/T1VhfjKQb2BffV0NfUn+3/GXPWYW0xn
SHYvrmU4QCd5yh7IbiR3/uSmhfUdX2orOS9HrJBDi5go2iZqQkYs9LMaLl0Bu/KimLbMITb9limp
g/Nm3oW//uEWfqx6Dma6hOXMohXnfwmzzKY4ff6w3Xbr629sb60Pam7ViQrHj6e8+LQKM6itT4yx
uvEcXgf56wJxKj8a1XoBeM3srMMpKEPiMFWdUHdRqlhlFg3VeQODQ+7pu4e9huaZYJyqnQjGCeUn
9GA5DuZ7CihuvO2+vHrnq21oEouy9j2lA5EGs/0pO163pdRIWrFLbeEJhHrgAN1MUeau5PLjad+c
D4KV69cxZ9T182Fe8zboAR4U8zoLj39dBt1qmHM+zbUO8NUXYXhwhK8+PIL8CQ2qDTRZk14wTeQt
ivrY3x9dbuHNH2aYIqIP/mlhxiJxMfpxBQofYKXLB3Hmwfl/D82BkO4HYSuBRh+09MMLNGqcSt1G
WgZTsjvussoEYjmvjLe24vBqTIf5+4dS6XGWW2TglQaqND1e2FGanZvN1b9Xv5BlTr4+tiWslcyK
bFIv6SxKSrPk8CaKFRi9QjiDmI3iaWnl9g9lTkQx/gKRpybBHji4rMNjRcwFqk1rDrbG5mp0vAeO
JbEdsibqoUgv0PE3lAhkTxOxzuMDfJZhly4OUMcaZt7ksIqvEYWomR+1/hIxjvuRRJQPKwofZf8o
/5t9SliZ+X9laHj1j9fSMfmz40YWxlY9bUv/jjUZ/zca/FxBI0pzwW7M80Hf15vPxDvpRBN3ABSO
sNOsp77e8dzmq/Wbu9XqbucAOdrcztIPB7M38M/y6y4/uvARw4tGDvheZGi6FSO02FkZG9zMmZ+b
TXUd9xhKxLC36qK0zGkLZqZeimvzO69LqCyp/y03PAsxZFH1WRlEDBltlxcGwFZ/7fy1ZX7w7KFz
COT6Xj9QShD+mbqSO5hTAE+ljcRas6LEhzxP3/NWgYbtd9eSzsPpbmQcnO83qzuV8IW/FO++crea
cOFyVlW/UVmSwa6OMafjRnkbghAM6sB3NhuTUrw+Jq6xXxlr9Xs1O5FDpFxHq9PmBvDIdN4J11V/
ITHJJuo/tt6CJCfYP2lBUuYxcFR8Sb6SkL5NrTEjc8svnVajkMQ/5ahiV2Fj68+i2NWA0eUw7SV/
rr7ePKwpdPGvuxvar+III2J/RkjIr7SR30sRYcxd8Pdsmj7lvL3Vunsodm/OEwM1W/5Evmow+jYl
QrbASk5ZCHRB01bUMtiYPjB5IHvNs8P7i6MFKv5+t1clS/Y3P3zdvlLVUJfScR/Rm831A5uxWQjD
Okj3ZGX7ICcvvZk/XclWbihVWcCKFm9DVYAtwHroKUzr5fqBa9HTDwv3CzGNJzSRqSEilofsoAQ7
b7rtR77um4b0VhEz9BvagUdktdhhjU8lT2f5c+gdom8aoJoAvENNHnoRe5keLB5uJ1GJg4nKvPQx
+7NxgbYO2vM8uPXDsWIC9Z2UF4AaOwfJC/x2fw9eggIln0ubuqcOBOuyOvnEPNRJ0qn0PFZIOcjE
fGolQ1EtaatYDQGMxqM1hFg0nuAGROYhTrI0egZTDaT4LBUK463oZ90nmmvK9RHCMDxOvvt4xyWm
+Cj9WYfYwbBaDAEkZ8tmekeimuDKpgxPEVz+9jld9Klgn//SM6z/4JaQIuvjbBigc9CHOEulf8hL
V6nxsCwN8bLOObM0IORXaF0FVh8QIksJFfYmWmOf+4f9P2nvkTcOAag7Yx/Wh+KOySs/KRvrXGHE
0tKfd9I7svaz3tF+SfFG/L1bkUfNrgOhGlrcKeSHFz+svUsG7EijByMmAG6wJtrhn9Ju8Rf9N9pr
gYx7X7BmC4tYmrW4UCbju92nhfwIJM4cOmrJu8zrDCkE1mTE09VKkDWPHBalv26YeGC6YK3klP2O
BGtrZDXEStZGVXYxeRtzDCZYzx8rjpriZzv4G9b1m2UhL/UUXb81LNp39BbBkUSNMslXRmIVGmh2
64/7T5APUmURN4q7ME9vb+++gs5U1eZpo8nUAY6vY+OJC7T69p5xE6zB+kiuU0iFZhR/hBo/NPlD
80Uy30OXV+acLNxvRLSoE9wsN3Bux5ZsTDZBQJaaORLhRodVntsNVlqLQaJ7bXEGNyfRuz+S7/FM
zOLhTomkLgvVk5+YPMKF7/D1O4nD2ptRzKkEKwylkedvcQKn7BWjcpXoquebzVbIYuwW9h4yBZbg
Q4oRjCUWtIKjbLHJVuC8+ggr8orl1bgwPDShmMAGbsWDOuDABACJFnAT/oTUwo499OqvyYIgO/H8
15+xLqhCSw4+PicrfoRvNd95ZagbGVv4+FG96ZEmH2Qg93BjFhdMXg7yvO0pXf99kKBDs8dCtDLA
eF+MGepoBUyE9aCbJmohIiTd1Dr7K+EsI5KpdTmXl9qbIGVi6LEUqe5nRXUkW3XwhHavMBVGwdM1
SlpBWanaeNWbLD0dlfZ6eL2Z33kPXNm4OfHxWcZiepZxznbcFCy+ir4dHL5+xPLKheG7h7Wnsly3
bMoXyzSf/0k49rft5vPzzerh83phfQXnNtPagF1dMF+Toejrg4IN0xlz8wUwl3pfLnhXw5XuXuJF
bvs+lUb1QOdInVKAvMN2LaCJlQLkECB+LDWMam583av1vvsYBdgVmc6oYDwz9dgAvovvgz6jBRqB
UijuocJ8j6xc4+gEDIeAoyLJQJ+sXIXB8nqkw4Lt62ueUVHwsNJaDjJSsl+Ub/Bvoj/aUk4zv+Pv
TAnYGc+sXmmgQVmquz9O0W0o5+ZwRbeDolZlLmgIisrOmdjYpyqGZByUw4lllgblcOaERLYRIZaD
Vm0PmJ8UUwIEd3UYz19IB9xnIUc1RFIo9giOwhiPGgXFFVBiivWiiUfcjmDMAE7nxOCwEuVF7b9S
Yg+2CN79sV1uv0EjdTzHRv76sKYZAnNUtpAb+RvvjBB31PwZ8yY3+iUmhwk2K0Nor9a+giGWSoSg
JzaNpjJks8Lqdap66XYG8tYMcFOHocyrwVphp8av49pn+P9tLeaLm/dkyr3b7Rjzs1yJwG+52SY/
8DLkHKg+gN3lNd31YmFu4g9crkGtTn5+EDKirPyGsDNERtSTZHj0T6b01PlY/gMzD6EMbsafmbFF
RwMXPGr2JKDEDxRtzzjVe+WMbBqjstrW38lJVToRmDVH4dY5wkmZNfDmgDqKRz0pDfRvWHmXRsvE
+xPsPGS9YhEb1194SRVlyHQh2W/kHiJLMcoxA1mtQ46ZDywRMxedCcWMZvnPOtGDS7efVq8PouvO
3igsIJ9daI5+WPhAeBAKHodOI/ijDC/dG6evgGrjmP32RvSJQL87rDQEu8wX/OoJb5bTQHmeM9in
Qdxp+0V9fbf+s7th6Tzyrj7rbmll09goFniX7cAc5O2OGpe0rpdayaVU8tRZktOlZLq5o2RYgCyu
noNxVsyb88ukbuuPkvNrKpnvgKYf8QKaU0+FoelKQux2JHKntRUS/j9G5CHyI2MKu5QZaMvBxzUQ
Cpt7WzuXBXSsIsEljnBh5ruc0zy0YI6KluosxGIbTAKHTkvVdSPn9RguScWCqhmTrgya8d3LWeIi
0pTbH6gNqntX5U8xPCz1IGi121Ko0i7Fwv/ejeYAHjrLBExkVxg4Is01OQrxW6DoGR4b8cucrjSY
1cWzBwrZthibIcxVMQBFFjZTpViZppluCFFIG+YmscQaOu4IxpfCNYW9qAEEOqrLGKLTrR/srpdr
OjYAM63g04RtUWHkgJkYWtWuItxsrv+27f4NwsywwR5cuSwZoMiJ6uDoFLGcq22C4mog/00oPIxQ
uGB0/v03RhLjOTfDg9r8Nym0vIdS568YVYIH88XWAvWcBu2cQNdPIAOEZ+ZONDj0BrUyVLJVwZ7e
30cWSRvoyFxohSyNAOvGUO4+WkiqfNUYF5jVSMbpQBnuR36AHGN/zLt19+728jOdKhfWprThJASn
uKgb24La2mtEjYN2layOqnDh4498rsgF+L37VoQtQYAmy0pldzgPQjWh6NA01jBJi1WaTqNBHXh5
TZ8vGtC+un3bdTfdjUksKH26/KfAaJoMoQZuxAZgcFVHBj9drZ594zUvb2SLqpEjm1YX4Qu4p2yW
RPTwhNSOC9p6yaiicUGo8xVatZKiU80+QNFxSOiomOWA4BH34S6Tg0dUOWnt4TSRPga66lc5qVsL
Qi3hYzq3q7aIdywSIfbynBcG9i7G92keslWh5I2gw8ehOiw/E+I4j46IcJyLvJIu267JHaW/IPE+
q9XmmiwkC2Mb/8lWRfVkxPXukp/JC5YC2BpYHF1W0V/LRH012UQRM0FfKeMq84AGMlNpJv1mHMxS
uWbPlru7a8iz4x369rfiJHQGYICHB+u+jvXwiqwPDq+B17zbDABk+7vwBEfftN5vehey3fTl1nhm
Q8eiph4Vv/CjR2uGnbZufh7rkVTVDB7J/DymCbn7e25HmfF76nM9hZZ27DSanjq3CULG0VNPwibH
hfdEWddT3dPtZ3VMtvjw6EyfKkxuoSI3rIHaJgzLG78ancDFqstYdQZFjwnqJOwG8S91UE4jLKGH
4HzDr08Ovg5HqXrI1iLkzqXsRGhGfHfJT5n4k6slbWdj20SmLpVlK6ROwUO655st7TX1RSqqVFas
s5LVUMXkgLDA6GJyesX2+ygmI9SUs15CVP1oEratjnvNiWy/oa4qI0uwscYoB9knI4SdILvlzISd
kswIYPIxdV8vd2zTv8iUTuJY4PtwUNtvMGivLXuMfIkOR7rhjcYxbAXsbqz9blcPu0/8mwW4g3AT
dGykAvxBy1+EwDxKRR4YJPwKe39NSzk/22xZQrwaA1nfvV4lOhG84hct0pFV6MjdN2EmGv2hZRHp
A0vplNKZHdZ9djzKvzgb5vlR/hlQr5o1HKVwatBS7Grlk2pwkECaheUNTUb4NgK9WLCJf74iAQuQ
n0roxKKF1vc0HciicZdgW38jLOrLhIpJyoUw6ILjIFlLkAO8aF3chf6ewhI+bBj2sruh/rAzVGPt
PIYMAcdwaTFMRDk+NE7Zkq+wAmxbxMIA0iYP0djVFlk0IVebW56XV/6q2iAcmGjTrXqRoMCSyVuO
DywPtQbkNfxe84u5YVeQsv8bWWexib+QcaIcRYpDTm3zx562CvlMOTj2UpOL8efFv+72n+Sl+VO+
dDFGelNJk5KG+dKara75spq6+RK9IRePrBd/F8CL7ebLwt4kXiD8U2yc5F/wR3pYIhv7ZNCDONmW
IkiOHYBZGYl6wFyp20mrYiTZ8eNhWaIT27b7d4RoyYikivbYoitHYlQVoQFGocLmR/UnZfigabqr
bvvX3XUHVBory5UfUqPE2ciRTRsrqqqRwEBj+YLWaFopZAkbK1VV6mryQDnbg8zZwVIX5XsIF7qQ
BlmjumjSGegMymELK5ilsxaHUX4BkRNhxBptDGujNHWWbywph+yN4gxMpud8DNOSyZJMizAaghjl
Uq4TaJN6f6z/ZzzGoQPQQuep6czX3fJW2qN/OsFF2xZWbWUC+CR3Gt0eM/gEte4cXYgZjc7vJM6m
yTYy4/19s2NT3cLcpWf6MKZHMovBpixLNYriUZJXjGLKiiFc1ibAoTkbX6xwDhjUlndDW1v0ezxN
3r0NwJzjji/S0UvlgRbIAdIaG0+hvHpBcxFiQ/h58Acrb98eXfSAHfi+DkLC0UUdhKxQzmnKkjUT
Sf77T9vlrjMB5Wq+9b/iL/1kBn66fLi2ozNvMcdPJqxVuuOgYC/dPHDIqXjGo+AwFZWJnGx6au/d
V+Ln7TvxpCTV3we1diqEvdPi2cuI198kOo6sL7FJtMlLvwrhvvqmqkAF9+o9AlGBwgYWCYiWS5dt
buJv2RhkVxlmGh0mQDmGtd+QBm5wHXOet4w28ZKzJ1oJMvqZn4rb5ZxCbvl5+WfHjfgEl/F2hZPy
nCqwPbygPU7MfML9G0vjXBVuI9KcC/c4xqPHsnAfXBTIYJItC1uh95BiSSfpj0BlNon2KAoV4vtD
gKEpYwv3vUyGKKkOmOZsXL7oLZrH00OtrAXNBJ5p09Eu3wd4BtVF8YMViV9sru0Mgdoo3n6dZiwZ
2/apG8oGvEjp5QQyO+bguZ3NcQZGxM+qKCCS1T4wmP1LkiEy5aji+07q+lUaW5WVafXUQbXOG6gb
WqiSXR8SfQYc+lCrNUiNMw3T3gZIzXmNXjgpO2s9cL7iaV07CUY5nhyMgLECAN+KFaDqs/KJsU6Q
GJ+XbMOmMjvm9CHywgAo6400Ww2COEZAotcCvDun5R2aDATHNej3Hl8d3CNvM7qSIjRulc5euALt
nNr38/Je0KOxqqpJ+NvT7JjGSuzQ/x6UlbjBCttLW8n+3i3v6URul+edrXzW0zVgynGnv1Wtc+4I
bIBcadca73O7FP1uHJS1vbzbve4+LlfCDedzkb2HeN+KBGOifE0rBqAVXGFdWbKf2vnRW163NFX4
4dMba6/y6zsoy6KlodQCU6nAnXUzE1EtbZrptjTPyR4zwWC4MDbz08d1bJi3vyFbOQR1rCdfVDPF
zMdA2ZOKCIAxXQmIAJmtz0GPLdqH9ON4MwgVEurmJ3wjolQhnGi/kpqG+ZxYSU3gvZFL8/7fEu8w
3jsvwIa+4RgpssiRQ191NyAwKccuM9qg/v08Nlq0YJCFBRxcmlJrYDffB+J0bHk3Cv1zwT9PufKP
UptNpuLL9FR8ep7/TM/5IHp0hVMffHZH9cQEtFV84HMea/qxcgNX39b75VedIRCfe3MKcpwqvCWP
jGcjZD4BXG8PCZPVuYuBQttZVCU8rLBWaHp2cl9mI0kqwgfzyHBqNcohhMSjjeyPR2yLqmYSRetJ
Vyw0bpqMzd4Sm64yEXRVf78iEyvHhzDYo+a4cL7gZix0uICV7PgeFsokL6A9VduP3hE3KG1HJv4q
A2ybTogzu8tgmfuQPNK2v+FH1tpxpL2LitGhkY0N0BsVqSfwmukCPc7znx0PzGg+UXo+ALVvVkql
+TihLoVw6sE2rW7l+p3u3oo7t81det0JTMLYvrnDNH6QLzZ/hho/JJzPRKTIhtKM9vqGjKe1PwqC
ZUgkasPcsLC+5Rc+ky1LETv8hZCbACslavutkLsYMVEoNiXYBB1Op0v6WQ0Xv67hTrWG3A7J2WiS
gEfaKY7qiJ93KC7xCRragfHY6tcxAG1G1tDHVJ+PSJU+LfIdSwuIAezvhdrIXz3Nb2Dduw+ftpsv
jOOKluBfra/2y+s/P2xpWK+/gh4F0IZUzrRHYifx8/LrdXdvFiP0Bj6TA0met5v93zYP6xtvbOBb
bsjgSA9Iyx4CkzQZm55Edq7xbB7duRmoVxCrw3TxxelwRRiXAVh58+rt7y+efnj5+9WHX1+9/cU1
VBsYpczN6Hkop//akMDcgDhVkxjhqj6w9FHY6Kicp/VwP5frmXxH5Gd+wRy5519IlL/Z3i3X7jD/
C3HW9bTx+bjoI6QtaUjYO5rZpyjAzlxAUF7mvFxO+IfjciJ/5la+RjnIN7RAurwmwb3sqrhQ3wG+
u7+7vAbqkRqFpmlqsP/gfOpPompyWjbDAaNyrVKuUz7MkVerGsQnpPU/cSFfupmFbNRCOyH8nMwF
61PZsgiic02QU+ZH/2LDZmB/L+H56hxgEaorGt0oQZe9qCzfNtFlP0i4M6YbxliO6jIAgP0+K/ID
jChMOT75ej0HOl3JBTud68P0eb//tQNlbTX2CjkFm+/2CrlVpfQrlP8gz1CTjb1C6Ifw0Oocm2l4
M2PP2Bhp8cNH3KEgCQ8dYPO0Q8Pt9Lu5g8Ef4NJIZN4gXkNRQ/VA+ws91QuESgYxtR7DKwXdQ5rE
s0QAWUD2dX91313bVQuE0414SoKV0W3cemWIlG7jJpquPO9uY4evVLga+nGTG0SyJQQcu8iZU+k7
tAX2IZmzsTbFoNEZdDBGf2WTR4lKnS5rv8caJ7Sdfmc91iUGM4OpTTNeeTsolffqyhLLi1/qKRzs
hzJsABJyFEG4HBhjMxbJkvcM3ZObE4OyFJmaU3Msw3/1+rPbLmdFVpdxZ1j4S37L/AKsnFd1sVAO
sadcDBR8jXnaJM+wxuXhWfai6JdfKnWOOT94l4A3I3LA5/vl9Z/LjwCSFzGyjR64qBwNwk2Rpn6e
xNPLBt5tLn9b332l1160nNDM5eov8tv2ZjZSEwKKXh2zL0dOHeFLk9BHI99h5i3Pl2xvjaKDi5Od
Zrky0vh2ijFUiWorwGu7/ItCJt7d2s2YWNcsoiYrDNLN+D73jvooZOiAJH5b+Sp6KVJTUE8eZXiM
6NY0jl83XDUnn6qaIxUUHOxTryJC8xOw/8yKCGl7Nsp9yFlEpabRZ0+vXlaFFBTT/qa1mT9O0rmf
aQVpTrOCyCWg+nnafDtJni8K2kqA94fGRnlbK8ODfBRQkHA0pnpigHVeSz1WVlek0cn4Zbu89zob
8zzUDAnvXmJgxibvM/mvIf8noEDmt/IChceHR1la5lkdXukPAlE/IbZA1o7RzLVj/OPVjnE7xiMJ
7YZzG6v/4u7j3Z525xu5S7VJxA6tPSIxlsIlbrX/AT37I9SMfru/B9fuvE5ehKOEA8y3onvDhAOl
WpHKph3qUQ3R1lUaB56ybukmPII0i0Fl3QnDdao31y0D88cfdQCKdnRiXVmNP/bUbV4fgytBvaMQ
hwJ/aQ6DGZCQPjafn4he55C/JD0tB3XLexvYXLi8uXnW3ZLnb2Fs5G9kZUPp7UHe7ijOU2jkz0SC
jPz57OFuRX2pP+i/C3879/ij2LbxdkuDfLfwyHfPrSFwFnqivAJbyXgS+orTxoqlVW/rOxh3pt1T
meFbVjfktngNcUflQTafn29WD5+l8KiBOcUDhOYNNlxPQNljyu3l7w2y7/66+QKY09hY3NprJYDa
lE9BALfphpDqW35a8qODNm20z2+PsiSZ7CG57ex41ViztwKs1JZZrk+8yOZ1f+sfzv3FKv8xF/o0
/8EuYdVMyjDPzMfttX/OYBNNs/nNs5gbTB0Yqu73xv1aDG5QtgByGKGGibxK3lOfSqHxPY/XYze0
1N6S534H6mfV6uEvcICZaLbjYqvp7ldLas3axmOJBBpP2wZwXiiD4ZjDrLTazcFlgFVw1IzTWCun
3k9SBdDplI7hj6dpyaYk0Kt2wJBeg+nPB+20fXZMHnF/vKVnXdpJmGO0rrlNUX2ta0VhvKWv3nm7
m5v4gNxIMtnw0Rnr3mkMDknQNtVwPwXcNpaAs2nhV8UQydSlKV85M4OXdnu0zdjpWWmdN2wC60fZ
bymJ9UPkRxAkUkhLZ9fLvcPRhGy8m6jasICKLTmyjCO/4Acc5++KFOqbsQMNyZmqRkkp2KO3J94s
D6imYBTFmSza+G7BKKZqfF4ihfgjCas1jv6pn2cJl/XP8yyJLpzplEtiFMUc5Wwu1IRRMbqOIfw2
IVYbmZamE9ogexKWGrCIavfpGp+y93S5hqfsZQOcTdMjMGW0LrLe3X1c0yWRzQXyC/58O2gePerv
3VdoAHKiCyG7q2Y8U4aXiw97Uz+IhDGANjhHbkE/la+lkDmQR8fX0gZJL01CiXi9vG6sBjwXvBwZ
ifJI718UiaAcvAPweShe80nXJIhDeJTXJLM17R05RfYHFZwYqakoLDiDUVsGh7hSFQvoC3E91VRD
ghA6jblj//awWn1buN+I+UEHJA2GCMlEsmTX7YHsSVkDE5HYoVsHUi55FYF1hEc50FExy1H/n90X
c9YrayOZ2UhllykkRBwoeFISIuNBkbtZQ9RGEdFrYHfm8EXMD+YNdGbBfVl10faMC3V01QbSNSv9
k9qbob2DB0Bl7p1WdP+qz++Kd4/l7QG6x2R2OaJPP1GOyiVMqV0/yhvx5mG1s1SkPE2//iEahc+r
3YFzO1zZXzMGSHaAbfeRuIrdlm+FqAOwUgGGuCb1Q9wjI5HXLZguHSQmXEcywVEx4ZQfZp4a8KOw
WlPq8EatPDmL2aZZOiKxt8fjc+bE3hoSlpcQO9Sx4JCP/q6IMKqEqlNJuDofXMTSN7s/QWxRkWXh
gRFdF1y6tHuzY5KK8vTSN8MJq/MmrdEEIag/eI5Ok8ExO7l8No2RgR0FkaMOs8Qw4OgpqxFi+a/c
XtdZ6srzWixdPOe0TihVG6yc7plZ/fThV4CEfBS75J1/0QyAQ/G51DBhNaK6pit1LYoWR3wCUWLd
gYVXqwhcJfo4EecKZTFZykN6V2LVrspJ7tEMftr3uI7nRWa9bS6Hwh8kAFirDhy7M8tYIYa3ZsUb
hY7Q3IuaLELqdnA/8Ohs9YYMXJWlcHT1MrYeWl07fgmM8t3bDXmwuUH2J7/Vk6XNKfsDZ5uNHaah
b5s39tLVR0lqO4WPnZLU6JLO7TyyfwDXm8/kNeVV413oAMkDEIDR7njG79X6zd1qdbdzLmybZ9Fh
7u4OJsHLZDEemqef/7j7+LB52NEvdk93T2/3ZE6Ds16skVhmXutjd3DMQVmP+u2kUdYrPPLM7XjN
j4ZHrjO/7Ys6t8Q+hdxYvm6B/SxvzIWG956ft0JGN66MlgfqUM0CNgWX0UTg78KfuXFO/gnCnKKK
CcWbUFCarnj5lZzAzkeIojIdmPlpuXvRrbo9qxhDIM8Czp8OhYrCpJtjoaIFIzE6AxztPBdnXhxt
3say5ulHBSO2hh/V5BgzwPraH2NKz0O3up+AFP6wzUEyF6YJV/nwh+22W19/Y6uGyn9bW0Ui1Z+8
L283W6rWI8jXItV8f4w5BDnq7vLXBZBBfpRunYrB2gzsdhuJl53DEO+fGKl/5lnv10Kre1tdFCTr
ZnP179Uv5BkRDOwOWAtrVHWtq8IDNHp0H/8jlegpImrXB+2VPgAHlmwLRkeMHnI36eSVrIVOu1W1
rqIOUgIpHy9fPN9s6Zrtc/MZklxl5jUBM9ivrnvwj2xctJFXAoY5F1RCC7gaMcve0qWfhGDgb5FX
sufhk8QTQmT/Om03YjSjBxoCT7Utghha5c+UlY13nxX/GbrSh9NSyEEYR6A7IcLWlMAzheuT8kyp
FxS5L+ipX7UxLyYqGDjU54AgV+frXrI/9P8a240WxG3aCLYlbfBwWv4xRy3PGtlgMoM/QvLZOIwS
lZtj7XVeXKelF+wep4tyQVaDRuuGiRYEfR5ymTWusmQYUtVyzRlU1BMpDSvdhNu0KMnX5rFLxNVm
QdpID9k13u8gFwUe/3NkMbijrUoJv5NPcfy33S1x+j4l/AzWNJENI2CliULKIsfJHsmjS+/qi+52
+bDav6QwYPJM8HBL78Fv7TjUMdi+HcYP+w+M4rq724vuobebtw+r1cJaOlt1mkWZUMP+0G0/v1w/
fHbyC2qzPuOQIboro1ASCQWa5uaakO43RpY21Zjsk4UsBdrdhqZgdOM4ghNej7jpe460kICdOQ2R
h8piqODU6LK5vKa7XizMTcJ78nsyzJ3I2/XbWgSFN2bbDmBJ9/CVpedLHdElmNGRSaG/KurDnOwA
kq9xjurT1Uq4FpFhqpsVxcijJ/SjJlTjT9uPimcu/xU/WvmvwRYPMReGoQVt9tiJj3zp1ZKMxp5y
gjZ2xA1K2xFhEOL/hv731TtF4Sw+htMdJ6EyPCxxsZy+WDHPnhx2tP+Pz1Nps0mcXO5A+6q6iR36
jSBKa+1L/jiI0tq2AqvqRjeUKn8jh8A1uq9TWVIVEK9AIw7JaY8fT7Chk8dtLuMLBpW72tzunzMX
7CPtYlSf3Lkgzrz/as1GgcFmOzladVpBxxLwEzunSKwW+vDPLbFaNa5uxfyZmhH8afk0uMbROdkq
lrF3kwQsP8CnGp6gNmkZvO38SYdyKCPslEE7v2w3X8jj7RvyvxD3YmD6o4/HoqhVXjgv7VlWtLF0
6x0V1RUSdX/vVuQuWS0uGNn1dfEdhTFxpiJr77Juf/LiPJnCvrnh2W8fmdTUwVFG2hyQJ4Nb6Ksc
xvXA6Y69yCjACQ/erZuapNhdL9d0bCDhUcVwOe4QukQEzAzJm9DT28GGsKHthsuQ/udgupozYnCL
tk0n0tVQkZcZaCpq2bc/L00FDtJUcNicnRKZj6YClU3woljyH8JhhwS323AfQZJeNw4OP7JetyLS
sxs5lH9pedKW04lRBjupkSFlNaej2mdpABNc1Z4kvDxN/V1Uy2tfnu4oShBFX9mtn1ZqHiWItjia
XzFJzyFWuEjkNlCYuVip8qCiv0NHcfjEhCkWGblwV8l0IMiIzEXbC/bXTsLnZC1S77RwBsiJahq+
Cfppln0Hf83DYI34NUaIw34Q/o06qlw7Pg1tNGyjJhs6Nc2YzU1PDqdlc+fwTI1sOKrUxZlVY3mE
sDSbyccIUo93KLWUtfb6h8Krjg/7GkiII0q52WPmPWdlZb6KmYVmc11Ti1LZHgrKEOGsB5VQ5+Ks
JzFGH/fsAB7OaR7PDA7TYOlzVdVxZM/V69vASjUj8USeHdOC+vMVpWJ1DQxm3+6x17SQFUFgJcb2
8lnhDAAqHJ43ejwCFLvMpKMQoE3dQA+FxYRnUEVXOXSpZSWRryRc4yhWXgxbIP9lzy6f96bZSChw
OuGIdnO23Sfyt+v3GJXaficpb+3q0/stmde3NAXOXJCF8ZnfUJ0KG9ADgpBavOoq97yUBAOZn/h5
XF0kZYx7bwSv4DwcD7OQikTl32YkFUFF0YBwHgYYUvXoIRii+Yrjc6i0ZXURSFj3kX6GpEqSSD+j
GeU4EWcDgznnIOIkMZKdkqBQUkMhnH7iz5+Uoth2tyvax/Hbere85SQQ/AXdbGU397r7Ym1fRPYV
/rBj/Ff+L1nWgzb9XcSdLq0lWFrkt2h5/e8HspzYlow1rTZ1j0Ks6RD5eV7Y0k3xvRFKb3/B5Zj8
DVOXFN5MVf1sByQauigmaJCDD/mAyjkCXfhAOFE/eBxRZdMeDkFxBTT+6og0HpK68D1lIKFNdzIc
0hvEExsXYE2ipjdlEz1OqKd7cph/POy73QUN4fTrrb8QT42ucgCDqWfzT/qIeuOQI7TojGOZVXdM
XpXeGBKL3912uz0foT7x3zB6CasA3WqyTEk9il8oQtCExqEvBZjTs1dGxU8GgEILIyR2AawTagh9
cJJHGBKjMgcLEuSp/fxhc0W9ZYvBk6VwzgYEWE5rRz2iH5sgv3Om1MMFtp4PB5dqctfZ6FRAIyFp
XN16E2QSy55aTyaz7NVVdJ6l2BAxj11vtt12oTeItTCqJmUx0wkLPlsdb7kLGiG+7u3dV8uGuUkc
R4BcfPBxyPWngPUhbWrPQF+UDclpErp9bEQOaMabkcPP/ftPWzKVmheJPBM8S+J/xaf7US+VSbZH
k1+u7Sgxn6EyWOU2OIBYIG7gmiUwdE5/oTfpFV4PEs3n1yuqM2F2orvuaSgpb+qOcCu+EkmgLU1m
9X0TflK/bY0yXD1r3wVfsX6kvgvyp41NUz7oDc1ckLCx28qy7oX6DnCP/d2lT2pDzc4isA8l0Yda
1VCNWq98NER5Rf7z9OaG3KWdPkFzIx+eWSlt+j3vS1FD9UD7C+FRV+bwgze4FAzmOluDagx1cpoG
1RmZy6oq6AjR0a9e7GxPJi4xJXdVj5I1tgwWq9PRgsE6eTJaULEOZzF/yPJKZUxmbxSuRNQv+vvd
nlVf35Bl48XmerdgG/g9CKwwxkDZ0aLGNNEx7uHaR1obMTdbjmaNmdNT2seOmQ/SSFlVkTRUf4w2
XSE22cqbV29/f/H0w8vfrz78+urtL66hGkYeDMq+qGyVDYP0W9YcWuGi7iH8Tesgm4DvnoQOxzrf
gNCB5b/qwjpSAAfvFywcweeebr1kJHymldDHOUpwsfl8HKWZdcObJoNK8dKLoRDEXzdfxtXEH11l
vji25NMJPF2Jgz/JqZ6mXVLCwBOlQaIcI4EU0eMQj0MNmuIXsIE+RHFNp0+2DEIgRa1lPHRk7Zbj
fHgjatTMX4BKY7uHP3bmWamMgl1ENbFKelmnrjkAocrLIjiYpTPu/tguyXwDjKztkb8+rKkbZY7K
FnIjvwbag8mhzpXUE+zZG3mXmmpRURCmke2tcPhO0qZrnsjU1TfwpiJDHA66Y0drURD4NZ4lkyXO
/eblV+I8rnkX0cL7XrhWrhFgnIyiDKc8QFE+IpWbQtz0Y6dyywqqUsXflgCn7cP6fkVHmGy2bTQC
HNftQQ/sPtJhUh3gNwc0tygUj4N7+7TZmk41+6gfgIPheFzjZ4DjqXIMtP1Hm+MZFiXUGl9jGv3O
2WyPetkZBoDV3Yan4ZV5iaTUnEW0L+DTcqvIA5f3C+MzX4ZyBWIhe1/vLvkMzToHyANOd98R7/fl
JQ3v/kXxlAtrD7mYlRErHIcJjUPYXCnfPexVoYX9lBwJfCEmDi3KUJpnTeFv5lkbn42zTt+9hGBf
vC/CuERhAkjnnUiljSx0WFlAYSUPVUkMxjrEVHBIfWYSZe4WMjqropn2xxZX5hWc8febcKiWGI0b
oCacxO7Q70bYUF67QCLcu3a0i0h+8K9fIJ99xud/FAx2UwYLLLfElwAo0NJKLCH6NJv9K5E+LTyC
/AkN0tzqCGkq0GlcH65Y8PG5PmbJBWdlfdhccNV3nvH8a5GBU/8cCPTCYYUdAO84ZANlcm0VzaW/
pGqMrn70HOKhP1adDUatQYWup/8rWugKSFolF7rSsZUngxmrPEjAGwIwcuJsfYycJykwa+pi1PMy
OXUx+Sf7f0a3YqOyPgyON0HKx5I1N7il4+/7BMPFoQwbzWx5+b0W0ozqYfe1u776x+ue5mpZcWc6
x3F9WNEWBInL+s2ec7FfTJW9zfvtDJK9RXU673USXjKdKOW4zCZz+OGtBgs6FZFDsfy79Vl6xoyc
1qvPItb9CY6iA2yZWmi4JjOqs8HJRG5WM3byv4LJwKaAuDwDrKC0HERum2E2QBDKQfRpnKVk8b/+
c/OwD7CWctzvkEvgsC8EdxCRimaFq46tCTgzm63XjDITQ67I0DYur9b4tHHpskqdtqHLHf7BDG0N
FSisnhWuLpiqyPxmc3N3e0dWJ1+TOapTYyagyKS0V3Z8SAKKMbYOsXPkFJfWbg5SoFBCcfZniJa3
Z2I3ivIBA5g1zCvI7uvlw5oe6MXT+3vYgtxDDHc4g1J/1egwrQs4hvxemIDLdEQ4PTkGQ4ayH63R
LIYDouh+o5YO9bxWLZze7fXw+d3t1b8faJ7pX93dx0/7nW8vkGAHO78Ae0AbWHYQi/IaZrOhEeZs
LAue7q/k9eqce2psEyaiaHdjd+h6edYMwfCqsCepx9Tklfjy0ZTFdvNVdGsCbyBG+g3EDocRZauh
QYBB5bZQ2/h0n/cwkzwWNHVV+nS6VNCD0sKyUoSl8FHr+MnaW1I3qR3zepzIwa7bf/h233nuW9G4
OY+IPb4+Pycn/ZF8NExZeQ/gexHaaQREC14bUPvEw9CknbBsUXflF4a4wPx8Qufpmu6l5RttudTo
xTqPepXmyy5RkN7bHiDdf/yliryGobu8kWPDSMj3BnBab+IvITwLetflAl1u/tjTrL9/XXCgEyUO
/A3AhYcU7WUZPEQaF2TKnV4zZzRv51F7l6TWEdT6gSCjTDBoGM2OYv2HaXbom0e7/3QOla69ilRo
4X+v/SxZujtNpwIb9eETTZKqGJl/4nNwmRthDfzK2t7rFeNAoGvnwt4ifjnw4g5jU0j1K4UJzw+M
91AO53SoGXFS2qW5ePZA2zistAR0peLOsz0ibKZKsdJ3phiOG4URa7QZPukCIZe2HZXNohUWXz4q
VYfgQhVZbAp2O4dU9uXv1O5Bjay+HFivmrmqOUXEuh83ym500alokmspSRqi7cys82fPZdGWEYmU
xCYhSJfverm6flgt9+IzLbjsYIHAoozZ6RcIrHGeZKBPILBGVayk20/4EHk1JUTvnTGppLJkv+2+
vHrnN3WWICP1WIZsEdGhSZ3kbOBoevwgvbZuJw7ya4+pC4oEfxXpSzqwbyVSSerCmqklnKVTeSIt
slFmLpvCj8c3fCieNv2k+B1x18v1Zn13HW5vjNGVsqVJGmBtiCZyYKboLpRfHhHdyZXDAxO/Wt/S
KX9rNjWLLdybsWlAPcY6vq+NIsblOJo7nGWjxjF6POm754Hq34/guyfGSqrCkFDYOn6/45lWGMq6
7QfjDuEa/ZFwuAWK9LUftJV4fBTXF0VGRxvnrhtkLE9JhW5coYn4EnpLkqc61EDsXPbf7rubW4Z2
ppY47nnX7f+23Xx+vlk9fKZJU7ldlENGFQe450ELIjfMmJ8MKNRc3iKbXMwJBtSCBQUJOA8wHL7e
UDwgjasEslFvkO+8L7gxF64xeCxGyOMfj2rEbFobEfzh03bzhT10t3er1av11X55/eeH7fK6W+iv
wq6MY0PnC82RqLE5519+ve7u9wbhut4gyjxmVEFmPW+AtU3HyVJMTGuqeVEJw/XxKiT/YgfykVTZ
T0ETRhETEiUrIlQmCTFRNVR82w2X4oA4TcOIMt2d6suu0jlx9e09+/m1rboqJ9QqotoKyrWKa5vb
TVZvHz7/Qbx5vocpN2t9wd2fOo8O5Z8jBnKNja/z6UHvkUGjw5mEdL61bqINGclcg4HS4VlzDdZ1
lGeReqe2521sUS/Nd8JbLZbFooksixfy43P6S/+zYwAE8g9Ta4DTeUWjHm9onSVBl0jnrZlNOCXY
1DEbFCcYSem1WfQIEhKKqNCXB9J9IrMC7ap/ut0uvzmZmNwGgPD1l+z/G3Est8+XO7kkq8p5De0v
nj5zV1y1qXs26vBxZie3hFCcninkBn7rtJrY45Gnk00VNod+mlCInSBIEgoJ7S9DM2tE6Q8wupnl
vk43c6klV6oSCnQgjUqGl0yGldKTox8CsNJACRW2JVSLITsowc6bbvuR9cpYhvRW/kYbsR9rYfdF
xIjnTxfMGxI+kvhp4W6FQhjfCD8G+aF3jPqtuczLGK/tq4hGo8V8Ur0xT1W2HqgDjRKyAUlZBf0s
YJzNW/zL0zWiv4/iH8rA9e3g1Q8gTOB5m6e3xFMhTyQQLZDZsI2M741Scg0sMvC93xmoMxnkqBtc
kJ0GoJkZoxyykStM0QK3PKAsB0o39yKvajcJlFK5kpp6k+Q506CLFK72dmOkmy24dErSOgFJGePt
GUP6kLtLybQkrMEtiivwHUoD/1pHsWWZRpGCtDJx9HPy6uGlyym9Ejfip8yRu0jORnhQlz9wzWg4
PK7A0UqI4XC83dx0F+/uBVRLPSZ0s1whDuO64ARyjFTX5SAFkbwsoaIAx5NYmf033X7J+q2d7D6L
OuYE4aWi5o4JwpNXCwXcxvQMev9o/unlipEU7TwrrV0IV1oExBX4V9f9+XzzsN6z++SoFJQ4MFD2
4Fq71xpD3NQ19IiENNhLuQ6dIVZwBNM7irwfp8FbpRxN3F4DHo/TEx9GTElayuIMSqnfCbse1rnU
KXzrrhSxXOggMWKUu+0KMzUfxPJylgk4NVdgo3thODezvBSDCOQ1dd1hqedR1cIqjQeTzbmhVe6A
lQFUlYlUYPOjSeR1qys/1FTvhQ410y9M9PLC9akxl3cCU1uj4fsFcj3dCHBCyLpD2AnrK/629WFT
psAnZvQKi1Q6j3SvUPp0rKFyNt+60HcNK7amaTxSTSuTi5N5pPqskMsfMVEoDgzYBB0um7nVcLmS
quvSaAyWLEMXRhn7crn+xnxesW1h7iDdgPYnx4L8/pq+atTpeXX7tutuGH+JU9GusiBhEwPTEgM3
5m/bg3WCChj8dLV69o2Dx72RrcbwlXk+IQESJrIxtLOMZ31kviL0fCOdObNbC8XkoqdluYFnOHUq
NGFvA/zUnzMs8xGuZFllhpsRYXU6mis7I9o+bbnODb+kgkk+RvCTRpM83xc/aZwW18k/0UO8eviD
poh2RubJy54M5vP8i/4bJfPkueHkA+UGjUMcRdY78BANgswCRzPPg/J6qSf+3eX16pE8NHpVUrQs
fJDD0tK08M5hXpfSroX9sqUcIXfLtZuI8r/gC0jeGp5VJFw+6IQ9Bysomsubk1eDLV8zFrORVCf+
YYrZqM1nvYQs5v+hLmGZu4vhI6HVOYhrnEdyowfBRqTS70WF3Wdh9DHeqjr3GbAGc9GAvVvrTbB3
K4+S4R0PZyudGdYk7yO6KApUUVQZm6CEvw0dU4OOua88myyz7ijDsb6+0yhGvcG4nAP2R33vus45
2Xh3vX238PfRz/ccnVQZirgfc7/eupGFl+0etttuff3N6nJQG/n6rWVHfbSTT6K9AL8X2UEtvsYU
YWei9k1PaZwrtW+6IMqP3flelDEtZXcZou4zO8oARWw2hGk2utTNQTsXX3mHQ64wKn42KIZlcYx2
9V9UbuO5+a14rlvp2LHhsj2BARK+7Y2eC8OrUonMofj5ooqMXrJGxAuUZeDg0uAlAqWKIZR6BcVs
l/vN680X0R1hg9phDozw/sju/LC7AC5oTvfyE3FYnlMaN7cdoDBkT3Gsm4DbUe+Na6fMcOQgqNPE
ume8cazoMLiFIdKSEGphkLPfKeWY/QotDWFWf8H12daUoobrs1gvckgT+TyWZoihXN1DgoU4V7fk
IyhsnbjXd+s/uxvm0i1vbp51t8RJXhgbdfY9OMjbHTXRBdBNYBITItNqpAKLQ6UCjVJiIfn6Hj1S
ajSrWqWKQo+VvfkwmoIIo3rmlpMAs8B3m2JCqIoRMZxnx+n9dnO//EgbssF+0TbKhJfQcFoZKkd2
VMrpy9bdFxkmWoxmnDctsre1cxlqPD+OxlFeS65Gqvu9Wf/VbfckYDKKDUx7mzgNXJ1J78FdXaip
pF+jGgrXtTdtuo+lBQNz+b3YCdINL79erx52d391q28pRF+KqBLPO3E0P9zEkZU5tDB783l0Hp97
XQjheIdaVcQCcUzwPR+tBvsw5VxdMA6388AJlLl6d8mxl28eViQ0ZBsML3XYkOwAYlSHFbiqHP6o
AyjJubQt7DLKDBbjDncJYMzv+Hw3lP6FeWVB/bdKswKgzA5vTWY8FjSOUADX2YLMoeFrQ2MuxL+m
2IH/8wXCQQOIURU5v2follQB6m1m6P32bkP5mIh3/dCZHq39hf129nWy8zF2nsj4gt+JBGNHJ8oT
yatcgh1T4eQWOh1AkueyCg0b/PuSekG8t1IPXcjN/HpZhDfkN9y96SbuxeWts+t42PrJwAnw+8Wn
tu03h6vSgWM4DBN8hE0vYcgKFEzo75g0CKosw13hxBFPVytRy4kMUzCKamYYRboz8534Waidl1aB
Ear+UJewNnjnJOvflfxDzZhqi4hUjInSiKNYzPp+s7q7/iY4BuEvRUlEzTuz0w2GjwskHvMPTVch
8STK+eOKVj6mip2ZA8dwF/q5Cv4lqjgGlKamqDhKX7GxYS4KtyjaIZzW2iZOaXAefVdzsfiqOl8N
X6JA87HtzQyGilb1tPH5uNervyUoy+wMpgRuiPnZxnEgHQDNOiX7P28IojlHoIqE8yFJmgJsqZbl
CRrHUdq3sVUPFsqOrXWcoBFbLGz1SYuqA0bltcWsO0qvQ9aRVa1o/qJuHZjuTym+LZLZgR5gX++V
vgqqO8oRfQ1xeVprKyvc8syItYXPsjHCIOMEyNx0s3m2ufkGyA4Gmn3iWoe6EQ63Ixu8Pa5I8uvX
fz7vtntARLvUZIreOBPo4g/UtGO2M96FTPjfinnUUAhmTe2zLv/j2PIfLYk/b588A1Csn+4WA39Z
P/zK/5KOhtqgb5nq7Y4oNA4LaQbhWafrCkzjmZSeIbYRxQkYce2PjEAX6JzwKbWh2/KI5IkOgni0
2lrcTqLamqijgBP/LA+9U8HgaSaZ74XKG7U7TwXhxB9tYzasmIu5DmKakgwFLuNUoea6sqmHvh0z
QbRdtNTRIdqyyRx2lh49y+JEzwtlWvMaI+sZScnk21RgzgjyJzSozoOD9LT7z25LPeCtPRYXPrrW
+EET12yNy5FBwI8TnoQzUok6eVqq9EhjQohH8Ser2QiUI/ubezPPN1uGHzS/Yb/leRBD7Vu9eYbh
uAc6wXAx0TB5wLcX7K+dYpfheWFjp4UzQPy0ARNtXaHFYc7TI6DZPoTfXzF21OHQDunCO6iOfAhS
hF+y5+RGfyQfQ+2lwPdiYT7WL+XzNrQqfw03PmPN3myTclwRVNqLRe/+lR9pP1vu7q512f05zWhe
mwJOzg5yyfBls9wd190XyC5sEOtgpalOvdCGtR+Ycw73DpEdNY5BbYY6iJDJCGPrf4QY10LdCQej
XHvz6m2UfyaqLfSin3/GXEDLAy+gqS0J/72AWgtoMVDcxNsTlkJmQO7D9k/jRjYBTCH/qDJZ8T8Z
lVuA+kUNsblfCoM1qURuI/Hcb1XUj/nvtyr0VqFQg8pJyK15vVFl0GQxkfH7eTAfu9SIsx4jOlyl
vxy0oytV5OT8PMxssh/QoV5YTWNuJrEu2p5xBhWgNbJpdatq1rbfyUlVRoW9Rd/JSRUG4QTgfj/O
k8IKBtA6vd+HaVeCMtUUKRgRAUQZmqIh2Gje3hYFOncep/jvLLO79AJKL5SKdZ/jzI+JDiSgN2cQ
VTQe+c95QJ5jw+IebN7YHSB9SC67ZvTYkVyasD/Hh02I1FbvZKBzAuLfzwqJmZ7WNyHud3v8Zoay
cJUJ3i+3or/ppmPtmnqDSB+Fsx/09RZv7n/qq+a8s4YDUUsSluQfx2j6jwfGY7Y6+GMMzuM51weZ
+yng5ieYueLjdvOF374QD4aUG5mDUwNWcz4PgVGQGOUEyYbxuBQDsltktiNtcHKsyH9U7drl6ihK
m9rjKcVyLa/3/kjrGz5dO0Q2co8rOl+vaczG9r1zLTjf80tc9IqZTqCSM6VEZ+Z1KH+49myEqylo
kPGOfp7Hhqc4+pPwMLkRi2d2hCdx2OyCeehsfRlzO795gH5k/5gCYHXt3Dcy7IkuiJzghl0VaFVk
DhBopGckyiMKROLYoQ5O1B5yTUU+SCNOt/UYA548fOMtc+IgAGNFmyccUdCXKiKOYNiXag543+s8
S9D07COUjUtn/kpe484yYWwR78RctLZhI9ZoE5Kig4mibifEwyx1/W5NfClbqp1v6veZDqO53ha2
eMgIpv0+HiNuCyQwquLkQ2kERs2EVbDVQLS6OJUioJrsTRYhqLVUJkgbd9DVhnYcqaF6oP2FCB40
UUp70lP2G3AchKrff1O05YTRqNWE75767owCNj8iaa7ukMsR9FTRZrLr5d6ub5fIyxN5rSm0m47c
QpjItZ5EAxtlzUimgcV6Ch0sYinX+zMUsdR+yOvlw5o+PxdP7+8jluRu8tYYQpga47umFGiflls5
TaxWm2tKoGZsE8+nljkjQ64/0azVng3ddZwvjex6t3vdfVyufu3uV8trwQtl78GfTeMxCxvbciu0
5wu0giucYEUmkgEDqDF8iSIb2AU0KSsSHC325J8W1rio8Nq4sr4PIdC1fGzKesP16nEKcwMFvN15
N4T9P4GAN8Ltz8B7yYL1zWZPs0n3Otax38ccZT95cbN+kYHx3rRgtNBETajo1rPQNFEL4YG1UZZs
VPGN5XHePnz+g6xtvExrygpYXzArlS7DgkP554iBXOnD9THpyWl/EpfeSP67urYBZtvuliwlawYZ
0U3OC72JX2LtWXnULWZjmkXegjK/yV/tIVZQyoxmjwKYAeQOIsNh79+oV6DOimMVrgRX2oa8rJRX
T9MYqi382EDOXSE/fs9qLb++7pUjr9CB4QRnzcuHmwya1wb6GzX8UHWuCXL0/FhebFihNNT1DCRW
xrdPj3dSjaqt1qz3HU12rSEnE+uuU8A9DTunuKzO1zmVjmWhUu/h5BdVrtyTIML6ghUyyGo9gHMk
+gtxe3nZWi/sh080acrvmfhbTIwVtJ/UAjH2zEtDtCGbmbes/dF4y8riGHiIIXOnWDCUHxHcA3In
3JUhoaKi8r3BFPiRi/nh4gmfDKAjKYJQhPg4o25ctrXrO9H+Gi79RZdY9gcX/uorTXlj1fJsDHcK
H0Y9er/hv+WWqCtP9X6kcK8MRSs/rX1W2K0JcC/HXQQAWPIFC0CwcGu/6epbns2TH12StBLDoyzZ
M3tIbqNSR0pPqIIsxKZ/T95BMugXyjt/vaJhicAJmGXTogUCRXrgbF9rDkE1ggq4Hx371hCWBEkv
yxpSXMWcUlwxXqRHL8WV4yo9f1K13lIW3LeRq6+a6dkYWZ5laG7ZQ+/Wee0voblvWE++zr9il7s5
HfM2AWToZp6PQs5M3rgA/RZQCqVaRH4dNPDE+sVY1fbvlWMbGMYG1HOBpn/PGoIffrC4C9gDKr1Z
aawAdpfIcakbD7taKGxGQEB7Tmy870T7lhx6o5HtT6jHyOD2pxqrR2BIkdUiXx9VZNXD+R5q7uaf
jKkoSAcp59AwIaSUvDhVJfdRCWDkVYy80KRPpI+8/ADwKmYBmeaBdtoYHthkzaFri0+j00QDgflL
0kZLl12g6cd3FVlwqT8CvmtUUGjofFZ9lCcpFBhCKipOgdFbLxpWzfJCxTOqZuEq+zka8VxvPt9T
nF0g3GmmsukVbR23cBw2PY6xg9YnU2jsbvfq/V/V1cP9/Wa7ZxytzpID5iFGKZeVHr7oOOulIsgM
zy2soMKQvk6HHY4ATiGAqoN+PiBAVQQp9c9OuKBRoMJ3xEHIcBp2NNzHcxrsaINlMpHBJXaXr67e
/d40Zfs7unDQEvoblSX4aezQLDiUpuDEaG9YUQEeEBfUuxBYjiuF0ADk9jK9WlSlnXsJcc+0cNwD
kMbYDcmaLSYghzuILWZeLl/tIVTs7g82TvOU/7xjaxgLjT9tydph8MQtAvvym5juD4V/sv9n6igy
JuVn/qL/Rn+jRxXBTfJyg0Z61+jirWx9h38yB1Q+EuKTeHXsSTSyJ6pS92Qc/JOUjfLmiGyzHgnp
NPo3DfjCAWaHMKZpEkNOmWVREwdjyGkaqUFuBbTKveTlWDYV6m3AzT83oYMgxkOM7YV4NIXl5r1f
kUeGe0L0FaCX5d3DXjOJut/zZaaxso78a7G8m1mFqj2MHJKb0HAP2j4GLZVQRUjCjyQPIXoZ1Dps
9jbgDAO/EGh91ZxDRVYeoWocSg8wP4ALIpji7KZEQkK3cUJtQleVmjy6pm/Z+yxedU1cyT4JL71/
cpX5r6t/vJZT658dN7Iwthpz/HlqB8h8fZUn5+vHNlBZNLvchs/UG6h4zdlCNcCIDPUql03tONjk
g3GZBQ3H+y0Cht/crR92gHVvO/8JNTG1raNXdVyhpD5LMhoJWqnswxmK8JUiBQek0lJx9tXmds+a
09ie+pOICm2jo/vbJCETOjeKuyG3pueupoGvRR4/lzQn7CY8e3r1sipedFZiwN7I/TiJaJypfB2m
x00qX4fTSWmU8u20sMhXrVrTq83ecEi3Slcph46sXQSqr3iFGn1iDdIFu+m9PxqhfvLenykGcGaC
1GCGG2gdlm+Dtw7H6XvnyWK0UYcvJYlx8DyLRhihsrBhMwbwjiwaz7pb4tF4aLyysitb9iBvd554
Tr4kxIQA7xnXpUglXh5IoV/q2gwXLvG7ysnbRqsGN3YLu9oKRd+TZbYP2TivIBRNysr6KEEQUTse
RaY13kBINxohreN/M/a3wQ3WN3wetjp9H2P2Q+o4BImlxBXw8Lp9YkSDhB/KAaCLx6T7IK5u4adU
ZnPah98DsghTCi3vJhTNgKZTfu6ha+KarjQ7A6aTkts0wPoFftluvhDHjuewdKuVv5m7Diwom7Fz
i9XNB9n7z1AXg5npmkf7q1L5qhIkIjhHVdqydr2CFDYKyeUpu3+mMWYeE8w6H7cAxmpdUnO9MVB1
bRqbdG7UHgZ3CxoHEervK2IkFimXBLVzXhJUV9HwgOLYr1h2zkS2iy0iixJL89G9rRyf3qAzxgdO
NSanPJVo1Slce4+yMSqMlRorjRDGUmqlKi/YB5l60d0uH1b75ySsfiDLLgxiqjXqZrSg6SQQ1VwQ
LJQV0zkc/YSnWGSe3pIH0053ymXPdfRDo8mzAo2vqth4stysvr1nq/MaGo7zRq2VeQuV6MKiNNMF
wBMobI8hAC5Ovxwnax3mQzLyCg3yu0upa/pn9+2qczzVBvntOLRCrkhj5QbxbtsVRckoa6iNyS5C
4CvxDCYUvQaBgDQRBaqw7YE9vm7Kg+GUZM6JwSXm83xPq3o7uLir+hucwq5me6mjzS2yTvF7t/79
tyurux3cQYWb1kOy2//qU++KFA3wrXj1qj4rn5iL/Uu35wFZ2FRmv/M+Fa8wAA3OkYbe5LmZo3Fz
KDv25zMyQcLplSDYw937j6CJHGNzoEjKsP3NBE1RJ3bHYI0hwY1d7ghxaPjedZtCDHIcHo/g6GSy
OdRYzUxkZ76qynBOMc543/CjwJKgNh4sKjPW6BI7p+CBmKvMPUtvl8JsAbChibQK9nRPPIY/Hvbd
7oLivPUKq7+QU73fUmLsQ/yNf1L8jjcOAaU3Yx/mbbhj8spHf8f5j1VGq7H7D//f3f3l/767hwp9
crPwsuxfTB5Xt96RGoXFZ9/IOTmlyCY6IoBsL0z3pk4o1/WVtsYCxdHooeOB4qoMB7ek/3cZzjkI
CuHq94qwrgDzHhA/I2L3rrhTnJMSKbJgR0S4jQJlFrxjGMUenodiT16EHORR3T1QT16Ho/KFLG1O
sJ69EZiFs5vpnLMrwSyVXLowWbqcAQZxoY6AQoUoX3PNLmXpbOyoREE5ZTQGOd4A1r8BnH8y8aCb
RQJHJi8MfGxNCfYPTzu2EGJ6qNUah22N5DZsSomntGwybgcya9PoeGEQPSihHHDv59tv93tj9wLc
WzZfs5pIpBN7PsS6ZOfW5GbDua4NauWxTNlDwlLbIhSd9pZ4VDj50Tk8K8xkYlmyvjNE5NubGkF4
N9YMDkeq3xTlELmqvSChCQhDlTE6mqEkOWiIseOQ5EjGbfTzvIwvo8kMYyHh8athNo9moIWUxXYv
v+67NbP2oqMPdbe+ptwJQP98HtYkGdCEH5XDiTfhj5TRMRoycVSz+zApPjeZ9t+tiE/IPbGDYZ9F
h7b8P4ge112IZQfhNkCYs+Mdaq/Wb+5Wq7udQ5rT5nbGwDdPy3qBH63acb0mIS1Owzmu/BL2rM1a
zsRDJVG8N8eclAwdu4Es3RB1XBq9t86X5CiWxBSsBWD2UTNYG1lFQXFCu0zNzGKOoEwllIK0+Wp7
mHyklIx1DqkMCtbhnzvjEGpyJxHpZfpK7FL9wsnAE4utqV6kSC5SHriXhLTpws9ICFpiQWqckKPi
4I+LZw/0MeGgBBoe8VLhRuEzTIwICnQXQoZNJjrLRgZrqw5EisCV5JFIkRqVJ3LHd9fLNR0b8MYr
uOwO2yLPRsBMmU41ebO5/tu2+zfkjGNDraOsm1G182N0Yc7Yym8q5VYDtVvOYF+VWUWhECGi8Qxn
/o6ZE00w0SM7ItyLqoTyRy/Jy3dPnPsNdayI49uxz1f/eL1wv9HTvmdEZ7+6r8SR24uc96hUW5ot
WI5kWtqJ0/aAzgtrXRAffAemsnGQAwbmODTwo/rzb9vNZ1oQvOq2f91dA7xVrebuhKysVs++cRJ0
fyRW62WBzgkGZTT0M2fCbfBH1TSCgEb7CZVPunUuxVRDwGKA0yTbVqDqK2slYPlcEWiqbeFAyh8v
ftoeGy/b8h4Gu2Ab9/D4CNu9a3QibBJq8fvhGsPQS7vf0GIzR33ZFB65XSoLq3EU0H6QGofxJqE6
66l1JTZvaa2s8c1bp6yYyTZ8G/zoYJiul6vrhxUZzj/TGXoH98FjO3kzXK/coQgMGQAHl0VAd0T3
/wkCe7/tXvseWW6krY1liHX/v9+s7kyKhsD3/GLUkaWO7X0TXm3tZo8h66SdYhgwsmkV4rFoXcDj
gUlrp3HkHl1HVReGcpRNnd29YgddXeIYr9p6tGbAeBWtGx4+BvXKgzHEQLKY/Ik2doIVMg3oUV5i
KIyxPP/Pn/up0YY08ZnGV5tdB3Tzub9WFoMJg+VFcYmDq2R0cpB6WF8+3OCf+wj2xHzuU+u1mQ8o
nUvwKML3R70NcwN4ZHm/Hf6wxagDNV9604BoCzHb0CN63a0pppB7WVb7ZC5zX2CamVIAUMbqQXgK
uTNP6nLuwHEWyH/ZnMv52Puz3XUeyuinUSqH19wzkSAQkJMhROdD6Pcn2PzmWcwbF8842WI5qlwb
LO5pZcu2gUKTKIZv5MJdzQ3OLj0GXzarUFDFjiaW9uTkdwv+UbhaqcJkQxfdeEr48a/m2BbsFdyU
ZJVddxZRJZiZYBGJpMxnQ+wmP5vk3uLV4rv7VFtFa6Mt7eZBPgrqRyx1QyFCZaT7/iC0vSfDC8sz
zqpA5H8B8XibKM62p5G2DwVaV9Bqdz4oUIl2bZuxV6iqf5ArFMoe9V6hAv8YV6gJYcl7rxDOfoQr
VCOrRUw6furcTNcvzyeCQUKHrwfLcSV48XwqbjZVv+2+vHrn48BLjZrN7ILFKVjtJzAzkwfx6tWH
l1dPnr385dXbJ4vN9qYj9/TJH9/IdSUr/B+0T+unJ1cP6ydvN3+RpYW4Yz+X2c85eoKzDP3HE/U/
4vaSn96rz2w4/99ytdpc/3/E6pMd1b9+ck2Xrv94sl2u/yTf7rrVLdnn+vrhM92Z/eKTzR//d2d/
oE3j3ZP18nPHfpT8fnVZoP8h/0G4aEpySEyFunxSlGVVlVX2pMgbVJDd6yZ/8n+esaH4CS4vUfM/
npTosmzJUNRmRdOQocRhrp8UBZnjq4YORQWmQ9tKDs2fPCkuUUmGlpd18T/Il22FyegnVYvJz1DQ
RlHlJSbfowy3dHSV4yf/5zkbTY4jv2xyMrq9LBs6uiFHS6znBdnJ+kDJU5on/+cVG1fKcVXOzrVn
XCvHVXRcTg6zqi7rko4rm6xqmidV2VSYahJWqGnJUZZFgYuyYUeLnrhOD7NVU1uIXK2qvWy5rawt
m4JcrrrKnU/kVIk1cdYNHZmRo6/xZcvOmhxogSo50vpER7ZP+tAlzG5L7uQlrond8hKzI8pqcsuw
tGt9onZr8MxQxuzQ46svC3Z8WZnX5Krwq9TUWd3muHEuUuwQmVlE/n9Z0cNr2RNDLmGbtXX1BBc1
ap7kqMyzsnrSNiRaYTbNw9t2t+TtXbPazJaZo7f2sqz+x5Mmu6wRM5eTR4scfJ01TxqMmow8suQn
2DNQFOKJRTkbRwY05CQxG4cqTIaI62J/Ylep99To+3SJybPQ5Jcls1mRpx2T5x/X5AdxiVt6BCWu
M3ZqRQ7YlBJ1RimaGS+ZcWK1KS7rnBov6woX8sXG5Ekjbyh9SzPEjBcDjFfUeEbuRkPeX3qvn5AI
g54/f3msD6iusyf/529sHHn6M/bYN5U4KHLBcFVQQp+6dj+RGQM84zDUjf1IQ3+kppe1Fpc1r4uM
mK2pPTLTNORKPClQxh6GusHBO2WAwN7T/AKF17OfaNlP0KeoucTs/POyqYlVcgrY+UCeBTLv/Rcd
Rx+zjJ14015m7OnLyatAvideUNa4n8j5l8PPHyP6I/SNIT9S8YNDZUXuddtUhfOBnH4W/gkBkTdP
HWNpvc3YnBi3Tq5Cz8XdeVcX5/Qnypz9RFPTnyCLEibzbdmQC0LWhKwk0woqUM1eixKJKZK8OWQg
ndlbJG4LIlMOPZInRe1+qEvoxvdd3JL+RN6wn6gq9hNN1pJpjT687oe6GnP/KvUT+DJjV5guneTN
5c+T9YEu0EnTPK4NqwXutQrNBvb0hdl7lpfMYs1uE5lFyGwq33vrQ11BE6LHYMYMs7crJ8fYkgWv
ZYbLHJG3NW/p5EhnWlwT76PJSvomkjk/F09Azl6wPGNDcz60QGSKE49OXmSoNB+dDFzLcvYK0ZmZ
mOGvEMob6hzgoqrcD+Q8DSs8vcOssFeFLqnESstmO4SanPgjYqD1gUxOsBX2NtB1tSUuE7/MJOwm
F0JcWetDXaW9cC821+xdy9krgxGznjPr9N3NMvE6kQ/Uo+N3m/ggtVgP89IYx3ywJ5TahZwOubKF
+4HcMXmD2MONMzauFuMKuv7yG0T79eg44wb1PYc5e7LplSEmW/ZKUsxbJdcf6wO5zJDPAb6SVw9/
6Icyb9SvEKc37/sVDK6mDt8es9sadumDS02xlTmn/i+5cmR9rp5UxO9mMwr5G3pii8wwU/D7WDct
eWf442V9IE9sZF7ik746wAIZlqu8x3JdR17zl1+X16LtSl/Ygr0l1LMj9uuW2yf+D6YOS0k/FHTq
f1JRH4gFLPxJKth7Qe8EGdeyCY24T2zZRdTPsD6Qp0l680WhxlXMhYmPIxdWjCuNcagR43JiDpMY
yflA3sNxj1lRGb8iHoeyRSQiEFfb/EDuo3gajPD2P8T6RqxgZqXg94y8XySMe1I1lfuBxFrymjbG
uLLg4wp6e8VDbn4gD3n/6vZ8tXzYsUizaA3bfOWM2a6TF2fV1UB/peTvAWK/whelJyV18MXrlJEw
gdwl83Xqm19KZJhs+I0v2pY+R5gdOPlALybO1QPKpsiSP9gZG9eKcRV16NlO9gfijciptczVuPoy
6x1HZmIxjj3YdL0k4/hCQR72gq6YTYncD2QJMx4dQVl3wdCJzFhpGMP8bhV51SgPoSFrO/3QMH+q
kEmBsjLG5fztIlEpucxiKbA+kL/B2aysDStFIa2QVQnzpcn8QN61kc8Ke9rpFW5loECmY+qti3fN
/ICoV5v+tJetYbtCPbbrOmJbzccPzHLFnvCs5pb540HCarpY123tfKDZHPFuV8gYVxdiHIu2SLhF
5q0so35Sg7KCx+aZHMie46xiAxt+Kpi8qtIrQAXL8jyRSR75HFe5OY4/j7imj664+9YH8oPG8wgQ
RzGThWFSzPmYGFFTmfWBRCL+I87M8Ie75Gb4JcRlTtNMJORwPiCawuDha1WpcQ3LxNBdC5oveEIz
JM4HNhNcsXG1OU78Xi4mj8L5QGYCmbCqGmOc8Dli4+QSV/GHr+DjxJXP6obPeN6HVr68dWaMw+JO
Z2xCroh3Sj+wN05e3jo2g9TINMZnAkQem0Y+p+YH9pxCM0GNTSvcOyB3hB59SVNv5EEsyZNYZGw2
ItFsPKMko6E6N8zmuTRL130aszgf2lbGF3VhjqvFOOas5JhNq+TC0jie+c70CYBc+ro0rBSZsFLR
p1v+uvGB/jp4aSrTCn+hUcV+njsy5gfiyCDxFNe1Oa4R42g0TBZfGk6RBZIGNw1PgTXhSDCUHqn5
c5uzXyiR+IWyKNRz27Z0+kCI3TNcwVepNa2IB4h4PIV6AK0PZXQ9azLTWNNrDL7kDTKsVFhaYUsS
W5qtDzWSU2GDzXHiVEoxZ7TsilX0SUf0+hMnJZPjcnOcOOqCvYOY+ngVzbc3dL5q5YTDJoCmMMbV
4gYUJfNS2KptfbAf0+e8qECMlKYR8XwVmC259NFoGkTfkbJgl4zedP6ONPy5xHwcdx0Qe0ufcJcB
N+zBblq2eJDz8NVhKNCf2apNW+L1R2yOx+zqWR/YTMZm3KYxxok1C7GssbzD1gfi7YTWHmatNa2J
2SJjGa4n3JkyP9B6Ab99bWaOE1eCpS7owbL5lL8ULBNckTcQeg9aZFrhDwGJeViMwiZw6wO2Zgt1
M1tsGGkzYYQt9TjjRmhGg3zIPSPGoeSmFX5ZyXPS8pQns8Ie6rxpvOdKv0VtYVrJpRV6DrhqnA+I
pvWtB4SZKE0T/IWiKXh6OnzqNT7QCgFggj+miJuohImMPk2oQfzRojcVV+x2VdIdamtzHF8CiK/D
pmrulhsfyEQuc99tY45rxTjubOHK/UBfquR0fNsq0+1lJm5uWfOXu2EPHc/t0ewledAAt0jNlHTy
MYwh0xhquEVmDNdZ8PVlSk7MGDKNYcCYeZ88Y/8hphptojBN5GIuo4kXNZ2IaQhluTlOPCJlhVSc
b35gTmhaepL4x6Zh8eCU/EWuEP/AoiL+4DwBVzeUlaYV8RiV7IkTubayQSxQYJeJ3DlxWpU5TswG
ZU7fF/7YPeFLeUET9eRFFD6a0Ol70e2ut3f3PABCWW3aaqUtdnfEJTI+kDlcHkNjjEPyEUHMpUSZ
+4HNyq/YOPM5RfJpyPgEnrkfClQ6zymTUtZPKjKfVOEex8yFHRlVzmdmzWcWFaZZ+cwy70W8AC2Y
tqXZasOKePwKvkyw8jcxyKNXNmujlq4ZHELw8u2L//j/AdpQNiGtnwcA


------=_NextPart_000_0061_01C16AC9.D152F490
Content-Type: text/plain; charset=us-ascii

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>
------=_NextPart_000_0061_01C16AC9.D152F490--


From lucene-user-return-281-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Nov 12 04:36:54 2001
Return-Path: <lucene-user-return-281-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 44176 invoked from network); 12 Nov 2001 04:36:54 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 12 Nov 2001 04:36:54 -0000
Received: (qmail 27580 invoked by uid 97); 12 Nov 2001 04:37:03 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 27536 invoked by uid 97); 12 Nov 2001 04:37:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 27525 invoked from network); 12 Nov 2001 04:37:01 -0000
Message-ID: <20011112043700.41832.qmail@web11807.mail.yahoo.com>
Date: Sun, 11 Nov 2001 20:37:00 -0800 (PST)
From: srinivasa v <inrisrini2k@yahoo.com>
Subject: Proximity Feature
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1243214945-1005539820=:41554"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

--0-1243214945-1005539820=:41554
Content-Type: text/plain; charset=us-ascii


Hi,

This is regarding the proximity feature in lucene,
in the previous mails we came to know that a variable
"slop" is used in PhraseQuery class for proximity feature.
But through jguru site

http://www.jguru.com/faq/view.jsp?EID=538309

we got this answer

There is a variable called slop in PhraseQuery that allows you to perform NEAR/WITHIN-like queries. 
By default, slop is set to 0 so that only exact phrases will match. However, you can alter the value using the setSlop(int) method. 

For instance, setSlop(3) will let you find documents containing a phrase such as "monkeys love bananas". 
There is currently no way to specify the slop in the query, although there has been some discussion about it on the Lucene mailing list recently. 

So, in latest version of the lucene is this feature incorporated  ?? if yes
please give the URL from which we can download.

Any inforamation regarding proximity would be helpful for us...

with regards
Srini

 

 



---------------------------------
Do You Yahoo!?
Find a job, post your resume on Yahoo! Careers.
--0-1243214945-1005539820=:41554--

From lucene-user-return-282-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Nov 12 09:34:28 2001
Return-Path: <lucene-user-return-282-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 39162 invoked from network); 12 Nov 2001 09:34:28 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 12 Nov 2001 09:34:28 -0000
Received: (qmail 8828 invoked by uid 97); 12 Nov 2001 09:34:39 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 8812 invoked by uid 97); 12 Nov 2001 09:34:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 8801 invoked from network); 12 Nov 2001 09:34:37 -0000
From: "Parag Dharmadhikari" <parag@bsil.com>
To: "lucene-user" <lucene-user@jakarta.apache.org>
Subject: database searching and lucene
Date: Mon, 12 Nov 2001 15:06:10 +0530
Message-ID: <NDBBIPCAFOAAMEDODMEDAEHAKEAA.parag@bsil.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2919.6600
X-AntiVirus: scanned for viruses by AMaViS 0.2.1 (http://amavis.org/)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi all,

I have read in past that lucene can work on any database using JDBC.
Can anyone please guide me where can I find documents or the source code
which will help me to search on the database using lucene?

Thanx in advance

Regards
parag



--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-283-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Nov 12 10:05:34 2001
Return-Path: <lucene-user-return-283-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 52593 invoked from network); 12 Nov 2001 10:05:34 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 12 Nov 2001 10:05:34 -0000
Received: (qmail 29933 invoked by uid 97); 12 Nov 2001 10:05:46 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 29916 invoked by uid 97); 12 Nov 2001 10:05:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 29905 invoked from network); 12 Nov 2001 10:05:45 -0000
Message-ID: <003301c16b61$ba1dcf00$0b01a8c0@168.1.8.Domainrelevanz>
From: "Kelvin Tan" <kelvin@relevanz.com>
To: <lucene-user@jakarta.apache.org>
Subject: Recommended way of performing multi-field searches
Date: Mon, 12 Nov 2001 18:06:41 +0800
Organization: Relevanz Pte Ltd
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0030_01C16BA4.C7F4C3C0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.00.2615.200
X-MIMEOLE: Produced By Microsoft MimeOLE V5.00.2615.200
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0030_01C16BA4.C7F4C3C0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

This is a repost of a question posted to jGuru Lucene Forum. Didn't get =
a response there so I'm trying my luck here...

What's the recommended way of performing multi-field searches?=20

  a.. Programmatically adding a :[field] for each field to the query and =
parsing this query?=20
Thanks

Sincerely,
Kelvin Tan

Relevanz Pte Ltd
180B Bencoolen St.
The Bencoolen, #04-01
S(189648)

Tel: 238-6229

------=_NextPart_000_0030_01C16BA4.C7F4C3C0--


From lucene-user-return-284-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Nov 12 10:17:07 2001
Return-Path: <lucene-user-return-284-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 56841 invoked from network); 12 Nov 2001 10:17:06 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 12 Nov 2001 10:17:06 -0000
Received: (qmail 4566 invoked by uid 97); 12 Nov 2001 10:17:18 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 4550 invoked by uid 97); 12 Nov 2001 10:17:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4539 invoked from network); 12 Nov 2001 10:17:17 -0000
From: "Dave Kor" <dave.kor@nexusedge.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: Recommended way of performing multi-field searches
Date: Mon, 12 Nov 2001 18:23:40 +0800
Message-ID: <OIEGKMALPHPCCJMBEKDMGEBOCBAA.dave.kor@nexusedge.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4133.2400
In-Reply-To: <003301c16b61$ba1dcf00$0b01a8c0@168.1.8.Domainrelevanz>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> This is a repost of a question posted to jGuru Lucene Forum.
> Didn't get a response there so I'm trying my luck here...
>
> What's the recommended way of performing multi-field searches?
>
>   a.. Programmatically adding a :[field] for each field to the
> query and parsing this query?


Just use the query parser, you can specify field specific searches using the
format field:text.
Eg, "title:cat author:james"

Dave Kor Kian Wei
Consultant
Product Engineering
NexusEdge Technologies Pte. Ltd.
6 Aljunied Ave 3, #01-02 (Level 4)
Singapore 389932
Tel : (+65)848-2552
Fax : (+65)747-4536
Web : www.nexusedge.com



--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-285-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Nov 12 10:39:46 2001
Return-Path: <lucene-user-return-285-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 64440 invoked from network); 12 Nov 2001 10:39:45 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 12 Nov 2001 10:39:45 -0000
Received: (qmail 21102 invoked by uid 97); 12 Nov 2001 10:39:50 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 21006 invoked by uid 97); 12 Nov 2001 10:39:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20912 invoked from network); 12 Nov 2001 10:39:47 -0000
From: "Anders Nielsen" <anders@visator.dk>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Errors when an update occurs while a search is under way
Date: Mon, 12 Nov 2001 11:39:08 +0100
Message-ID: <NJEPIMGJMJELKKFFHINCIEIKCKAA.anders@visator.dk>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
In-Reply-To: <OIEGKMALPHPCCJMBEKDMGEBOCBAA.dave.kor@nexusedge.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I am getting occasional errors when I search, and it seems it is when an
update starts while the search is going on.

I have a cronjob that loads documents into the lucene index every 5 minutes,
and then I have a webserver from which users can search the index from.

Isn't there supposed to be an exclusive-lock that prohibits writing while a
search is ongoing?

the error I get is:

java.io.IOException: Bad file descriptor
        at java.io.RandomAccessFile.seek(Native Method)
        at
org.apache.lucene.store.FSInputStream.readInternal(FSDirectory.java:271)
        at org.apache.lucene.store.InputStream.refill(InputStream.java:166)
        at org.apache.lucene.store.InputStream.readByte(InputStream.java:80)
        at
org.apache.lucene.store.InputStream.readVInt(InputStream.java:106)
        at
org.apache.lucene.index.SegmentTermEnum.readTerm(SegmentTermEnum.java:127)
        at
org.apache.lucene.index.SegmentTermEnum.next(SegmentTermEnum.java:114)
        at
org.apache.lucene.index.TermInfosReader.scanEnum(TermInfosReader.java:166)
        at
org.apache.lucene.index.TermInfosReader.get(TermInfosReader.java:161)
        at
org.apache.lucene.index.TermInfosReader.terms(TermInfosReader.java:217)
        at
org.apache.lucene.index.SegmentReader.terms(SegmentReader.java:183)
        at
org.apache.lucene.index.SegmentsTermEnum.<init>(SegmentsReader.java:182)
        at
org.apache.lucene.index.SegmentsReader.terms(SegmentsReader.java:144)


Venlig hilsen

Anders Nielsen
Adm. direktr

_____________

Visator ApS
Kroghsgade 1
2100 Kbh. 
Tlf: 35 55 47 02
Mobil: 26 71 36 63
_____________



--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-286-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Nov 12 10:49:50 2001
Return-Path: <lucene-user-return-286-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 69529 invoked from network); 12 Nov 2001 10:49:50 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 12 Nov 2001 10:49:50 -0000
Received: (qmail 28821 invoked by uid 97); 12 Nov 2001 10:50:03 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 28805 invoked by uid 97); 12 Nov 2001 10:50:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 28794 invoked from network); 12 Nov 2001 10:50:00 -0000
Message-ID: <009e01c16b67$ec0468c0$0b01a8c0@168.1.8.Domainrelevanz>
From: "Kelvin Tan" <kelvin@relevanz.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <OIEGKMALPHPCCJMBEKDMGEBOCBAA.dave.kor@nexusedge.com>
Subject: Re: Recommended way of performing multi-field searches
Date: Mon, 12 Nov 2001 18:51:02 +0800
Organization: Relevanz Pte Ltd
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.00.2615.200
X-MIMEOLE: Produced By Microsoft MimeOLE V5.00.2615.200
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I'm looking for something a little more complex.

If there are say 5 fields to be searched, and the same query needs to be
searched across x fields, do we expect the user to type out
"{field1}:{query} {field2}:{query}{field3}:{query} ...{fieldx}:{query}" ? I
think not...

Which means that we've to implement something which adds the selected fields
to search programmatically...

I'll take a look at QueryParser.jj and see what I can come up with...

----- Original Message -----
From: Dave Kor <dave.kor@nexusedge.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Sent: Monday, November 12, 2001 6:23 PM
Subject: RE: Recommended way of performing multi-field searches


> > This is a repost of a question posted to jGuru Lucene Forum.
> > Didn't get a response there so I'm trying my luck here...
> >
> > What's the recommended way of performing multi-field searches?
> >
> >   a.. Programmatically adding a :[field] for each field to the
> > query and parsing this query?
>
>
> Just use the query parser, you can specify field specific searches using
the
> format field:text.
> Eg, "title:cat author:james"
>
> Dave Kor Kian Wei
> Consultant
> Product Engineering
> NexusEdge Technologies Pte. Ltd.
> 6 Aljunied Ave 3, #01-02 (Level 4)
> Singapore 389932
> Tel : (+65)848-2552
> Fax : (+65)747-4536
> Web : www.nexusedge.com
>
>
>
> --
> To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>
>
>


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-287-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Nov 12 10:51:42 2001
Return-Path: <lucene-user-return-287-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 70231 invoked from network); 12 Nov 2001 10:51:42 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 12 Nov 2001 10:51:42 -0000
Received: (qmail 164 invoked by uid 97); 12 Nov 2001 10:51:54 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 144 invoked by uid 97); 12 Nov 2001 10:51:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 133 invoked from network); 12 Nov 2001 10:51:53 -0000
From: "Anders Nielsen" <anders@visator.dk>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: Errors when an update occurs while a search is under way
Date: Mon, 12 Nov 2001 11:51:18 +0100
Message-ID: <NJEPIMGJMJELKKFFHINCGEILCKAA.anders@visator.dk>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
In-Reply-To: <NJEPIMGJMJELKKFFHINCIEIKCKAA.anders@visator.dk>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello All,

It seems I jumped the gun here, so please disregard the message below.

(There was a part of my code that didn't check whether the IndexReader I am
using, had been modified).

Venlig hilsen

Anders Nielsen
Adm. direktr

_____________

Visator ApS
Kroghsgade 1
2100 Kbh. 
Tlf: 35 55 47 02
Mobil: 26 71 36 63
_____________




-----Original Message-----
From: Anders Nielsen [mailto:anders@visator.dk]
Sent: 12. november 2001 11:39
To: Lucene Users List
Subject: Errors when an update occurs while a search is under way


I am getting occasional errors when I search, and it seems it is when an
update starts while the search is going on.

I have a cronjob that loads documents into the lucene index every 5 minutes,
and then I have a webserver from which users can search the index from.

Isn't there supposed to be an exclusive-lock that prohibits writing while a
search is ongoing?

the error I get is:

java.io.IOException: Bad file descriptor
        at java.io.RandomAccessFile.seek(Native Method)
        at
org.apache.lucene.store.FSInputStream.readInternal(FSDirectory.java:271)
        at org.apache.lucene.store.InputStream.refill(InputStream.java:166)
        at org.apache.lucene.store.InputStream.readByte(InputStream.java:80)
        at
org.apache.lucene.store.InputStream.readVInt(InputStream.java:106)
        at
org.apache.lucene.index.SegmentTermEnum.readTerm(SegmentTermEnum.java:127)
        at
org.apache.lucene.index.SegmentTermEnum.next(SegmentTermEnum.java:114)
        at
org.apache.lucene.index.TermInfosReader.scanEnum(TermInfosReader.java:166)
        at
org.apache.lucene.index.TermInfosReader.get(TermInfosReader.java:161)
        at
org.apache.lucene.index.TermInfosReader.terms(TermInfosReader.java:217)
        at
org.apache.lucene.index.SegmentReader.terms(SegmentReader.java:183)
        at
org.apache.lucene.index.SegmentsTermEnum.<init>(SegmentsReader.java:182)
        at
org.apache.lucene.index.SegmentsReader.terms(SegmentsReader.java:144)


Venlig hilsen

Anders Nielsen
Adm. direktr

_____________

Visator ApS
Kroghsgade 1
2100 Kbh. 
Tlf: 35 55 47 02
Mobil: 26 71 36 63
_____________



--
To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>



--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-288-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Nov 12 11:00:15 2001
Return-Path: <lucene-user-return-288-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 80066 invoked from network); 12 Nov 2001 11:00:15 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 12 Nov 2001 11:00:15 -0000
Received: (qmail 6859 invoked by uid 97); 12 Nov 2001 11:00:28 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 6842 invoked by uid 97); 12 Nov 2001 11:00:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6831 invoked from network); 12 Nov 2001 11:00:27 -0000
Sender: tril@pluto.blackwell.co.uk
Message-ID: <3BEFABD8.3B03AB0D@blackwell.co.uk>
Date: Mon, 12 Nov 2001 11:00:40 +0000
From: Ian Lea <ian.lea@blackwell.co.uk>
X-Mailer: Mozilla 4.74 [en] (X11; U; Linux 2.2.16 i686)
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: database searching and lucene
References: <NDBBIPCAFOAAMEDODMEDAEHAKEAA.parag@bsil.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> I have read in past that lucene can work on any database using JDBC.
> Can anyone please guide me where can I find documents or the source code
> which will help me to search on the database using lucene?

Lucene works on Documents that you fill with data that you get from
anywhere you like.  To index data in a database table you could use
something like:

	Analyzer analyzer = new StandardAnalyzer(); 
	IndexWriter writer = new IndexWriter("dbindex", analyzer, true);
	Connection conn = getConnection();
	String sql = "select id, firstname, lastname from people";
	Statement stmt = conn.createStatement(sql);
	ResultSet rs = stmt.executeQuery();
	while (rs.next()) {
	    Document d = new Document();
	    d.add(Field.Text("id", rs.getString("id")));
	    d.add(Field.UnStored("firstname", rs.getString("firstname")));
	    d.add(Field.UnStored("lastname", rs.getString("lastname")));
	    writer.addDocument(d);
	}
	writer.close();

The id field is indexed and stored since will want to extract it from lucene.
The name fields are not stored since they are already stored on the database,
although you could store them if wanted to avoid having to go back to the
database for display.


To search and display results, with details coming from the database,
something along the lines of:

	Searcher searcher = new IndexSearcher(IndexReader.open("dbindex"));
	Query query = QueryParser.parse("fred", "firstname", analyzer);
	Hits hits = searcher.search(query);
	String sql = "select * from people where id = ?";
	PreparedStatement pstmt = conn.prepareStatement(sql);
	for (int i = 0; i < hits.length(); i++) {
	    String id = hits.doc(i).get("id");
	    pstmt.setString(1, id);
	    displayResults(pstmt);
	}



Hope this helps.



--
Ian.
ian.lea@blackwell.co.uk

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-289-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Nov 12 13:32:11 2001
Return-Path: <lucene-user-return-289-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 68210 invoked from network); 12 Nov 2001 13:32:11 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 12 Nov 2001 13:32:11 -0000
Received: (qmail 25338 invoked by uid 97); 12 Nov 2001 13:32:11 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 25322 invoked by uid 97); 12 Nov 2001 13:32:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25311 invoked from network); 12 Nov 2001 13:32:10 -0000
Message-ID: <013501c16b7e$91598920$0b01a8c0@168.1.8.Domainrelevanz>
From: "Kelvin Tan" <kelvin@relevanz.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <OIEGKMALPHPCCJMBEKDMGEBOCBAA.dave.kor@nexusedge.com> <009e01c16b67$ec0468c0$0b01a8c0@168.1.8.Domainrelevanz>
Subject: Re: Recommended way of performing multi-field searches
Date: Mon, 12 Nov 2001 21:33:08 +0800
Organization: Relevanz Pte Ltd
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.00.2615.200
X-MIMEOLE: Produced By Microsoft MimeOLE V5.00.2615.200
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I think I've addressed my little problem. What I did was extend QueryParser
and in that class, implement a method which constructs a Query based on the
appropriate fields (I tried taking a look at QueryParser.jj, but gave up
after awhile...:)

If anyone's interested, I'd be happy to donate the code.

Regards,
Kelvin

----- Original Message -----
From: Kelvin Tan <kelvin@relevanz.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Sent: Monday, November 12, 2001 6:51 PM
Subject: Re: Recommended way of performing multi-field searches


> I'm looking for something a little more complex.
>
> If there are say 5 fields to be searched, and the same query needs to be
> searched across x fields, do we expect the user to type out
> "{field1}:{query} {field2}:{query}{field3}:{query} ...{fieldx}:{query}" ?
I
> think not...
>
> Which means that we've to implement something which adds the selected
fields
> to search programmatically...
>
> I'll take a look at QueryParser.jj and see what I can come up with...
>
> ----- Original Message -----
> From: Dave Kor <dave.kor@nexusedge.com>
> To: Lucene Users List <lucene-user@jakarta.apache.org>
> Sent: Monday, November 12, 2001 6:23 PM
> Subject: RE: Recommended way of performing multi-field searches
>
>
> > > This is a repost of a question posted to jGuru Lucene Forum.
> > > Didn't get a response there so I'm trying my luck here...
> > >
> > > What's the recommended way of performing multi-field searches?
> > >
> > >   a.. Programmatically adding a :[field] for each field to the
> > > query and parsing this query?
> >
> >
> > Just use the query parser, you can specify field specific searches using
> the
> > format field:text.
> > Eg, "title:cat author:james"
> >
> > Dave Kor Kian Wei
> > Consultant
> > Product Engineering
> > NexusEdge Technologies Pte. Ltd.
> > 6 Aljunied Ave 3, #01-02 (Level 4)
> > Singapore 389932
> > Tel : (+65)848-2552
> > Fax : (+65)747-4536
> > Web : www.nexusedge.com
> >
> >
> >
> > --
> > To unsubscribe, e-mail:
> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> > For additional commands, e-mail:
> <mailto:lucene-user-help@jakarta.apache.org>
> >
> >
>
>
> --
> To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>
>
>


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-290-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Nov 12 13:42:51 2001
Return-Path: <lucene-user-return-290-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 75275 invoked from network); 12 Nov 2001 13:42:51 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 12 Nov 2001 13:42:51 -0000
Received: (qmail 29222 invoked by uid 97); 12 Nov 2001 13:42:51 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 29205 invoked by uid 97); 12 Nov 2001 13:42:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 29194 invoked from network); 12 Nov 2001 13:42:50 -0000
Subject: JavaCC
From: Lee Mallabone <lee@grantadesign.com>
To: lucene-user@jakarta.apache.org
Content-Type: text/plain
Content-Transfer-Encoding: 7bit
X-Mailer: Evolution/0.99.0 (Preview Release)
Date: 12 Nov 2001 13:40:55 +0000
Message-Id: <1005572455.23989.2.camel@murphy.granta.internal>
Mime-Version: 1.0
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

Does anyone know what's going on with JavaCC? I'm trying to find the
source code, as I was under the impression it's Free Software?

However, I seem to browse around and around various sites but only ever
manage to get to http://www.webgain.com/forms/download/visitor/new.html
which doesn't even have JavaCC listed as a product!

Regards,

-- 
Lee Mallabone


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-291-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Nov 12 13:46:50 2001
Return-Path: <lucene-user-return-291-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 76065 invoked from network); 12 Nov 2001 13:46:50 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 12 Nov 2001 13:46:50 -0000
Received: (qmail 329 invoked by uid 97); 12 Nov 2001 13:46:49 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 284 invoked by uid 97); 12 Nov 2001 13:46:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 271 invoked from network); 12 Nov 2001 13:46:48 -0000
Message-id: <fc.001e73e50022d2603b9aca005c4a2da3.22d261@blacksunplc.com>
Date: Mon, 12 Nov 2001 13:46:52 +0000
Subject: Re: JavaCC
To: lucene-user@jakarta.apache.org
Cc: lucene-user@jakarta.apache.org
From: acottrell@blacksunplc.com (Andrew Cottrell)
References: <1005572455.23989.2.camel@murphy.granta.internal>
In-Reply-To: <1005572455.23989.2.camel@murphy.granta.internal>
MIME-Version: 1.0
Content-type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

lucene-user@jakarta.apache.org writes:
>Does anyone know what's going on with JavaCC? I'm trying to find the
>source code, as I was under the impression it's Free Software?
>
>However, I seem to browse around and around various sites but only ever
>manage to get to http://www.webgain.com/forms/download/visitor/new.html
>which doesn't even have JavaCC listed as a product!

It's around, I have a copy... will look...

brb,
-Andrew


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-292-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Nov 12 13:46:50 2001
Return-Path: <lucene-user-return-292-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 76067 invoked from network); 12 Nov 2001 13:46:50 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 12 Nov 2001 13:46:50 -0000
Received: (qmail 445 invoked by uid 97); 12 Nov 2001 13:46:50 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 303 invoked by uid 97); 12 Nov 2001 13:46:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 273 invoked from network); 12 Nov 2001 13:46:48 -0000
Message-id: <fc.001e73e50022d2603b9aca005c4a2da3.22d261@blacksunplc.com>
Date: Mon, 12 Nov 2001 13:46:52 +0000
Subject: Re: JavaCC
To: lucene-user@jakarta.apache.org
Cc: lucene-user@jakarta.apache.org
From: acottrell@blacksunplc.com (Andrew Cottrell)
References: <1005572455.23989.2.camel@murphy.granta.internal>
In-Reply-To: <1005572455.23989.2.camel@murphy.granta.internal>
MIME-Version: 1.0
Content-type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

lucene-user@jakarta.apache.org writes:
>Does anyone know what's going on with JavaCC? I'm trying to find the
>source code, as I was under the impression it's Free Software?
>
>However, I seem to browse around and around various sites but only ever
>manage to get to http://www.webgain.com/forms/download/visitor/new.html
>which doesn't even have JavaCC listed as a product!

It's around, I have a copy... will look...

brb,
-Andrew


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-293-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Nov 12 13:58:51 2001
Return-Path: <lucene-user-return-293-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 82227 invoked from network); 12 Nov 2001 13:58:51 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 12 Nov 2001 13:58:51 -0000
Received: (qmail 11575 invoked by uid 97); 12 Nov 2001 13:58:51 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 11552 invoked by uid 97); 12 Nov 2001 13:58:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11541 invoked from network); 12 Nov 2001 13:58:50 -0000
Message-id: <fc.001e73e50022d2793b9aca005c4a2da3.22d28f@blacksunplc.com>
Date: Mon, 12 Nov 2001 13:58:57 +0000
Subject: Re: JavaCC
To: lucene-user@jakarta.apache.org
From: acottrell@blacksunplc.com (Andrew Cottrell)
References: <1005572455.23989.2.camel@murphy.granta.internal>
In-Reply-To: <1005572455.23989.2.camel@murphy.granta.internal>
MIME-Version: 1.0
Content-type: text/plain; charset=ISO-8859-1
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

lucene-user@jakarta.apache.org writes:
>Does anyone know what's going on with JavaCC? I'm trying to find the
>source code, as I was under the impression it's Free Software?
>
>However, I seem to browse around and around various sites but only ever
>manage to get to http://www.webgain.com/forms/download/visitor/new.html
>which doesn't even have JavaCC listed as a product!

It's not Free software, actually its a nasty proprietary license, e.g.

"You may not use, copy, modify, or transfer the Software, or any copy
thereof, in whole or in part, except as expressly provided for in this
Agreement.  You may not reverse engineer, disassemble, decompile or
translate the Software, or otherwise attempt to derive the source code
of the Software, except as allowed by law.  Any attempt to transfer
any of the rights, duties, or obligations hereunder is void.  You may
not rent, lease, loan, resell for profit, or distribute the Software,
or any part of the Software."

So, I can't give a copy.

You can download it from

http://www.webgain.com/products/java_cc/

but you'll have to register with the site.

IIRC, it comes as a self installing JAR - I can't tell you how this works
as I would have had to RE it! 

Strangely enough the README file contains,

"This file is part of the JavaCC system release that you must have
downloaded from http://www.suntest.com."

www.suntest.com is not accessible, but http://www.sun.com/suntest exists.

I'd be interested to hear how this product left Sun and ended up on
Webgain, seems quite strange. Perhaps someone should start a YAJCC (yet
another Java compiler compiler) as a Open/Free source project! Any takers,
I'll help all I can.

Regards,
-Andrew


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-294-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Nov 12 14:01:04 2001
Return-Path: <lucene-user-return-294-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 83529 invoked from network); 12 Nov 2001 14:01:04 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 12 Nov 2001 14:01:04 -0000
Received: (qmail 12420 invoked by uid 97); 12 Nov 2001 14:01:04 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 12404 invoked by uid 97); 12 Nov 2001 14:01:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 12393 invoked from network); 12 Nov 2001 14:01:03 -0000
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: JavaCC
References: <1005572455.23989.2.camel@murphy.granta.internal> <fc.001e73e50022d2793b9aca005c4a2da3.22d28f@blacksunplc.com>
From: Geir Ove Grnmo <grove@ontopia.net>
Content-Type: text/plain; charset=iso8859-1
Content-Transfer-Encoding: 8bit
In-Reply-To: <fc.001e73e50022d2793b9aca005c4a2da3.22d28f@blacksunplc.com>
Date: 12 Nov 2001 15:00:57 +0100
Message-ID: <GROVE-86vgggrsva.fsf@sandbox.ontopia.net>
Lines: 9
User-Agent: Gnus/5.0803 (Gnus v5.8.3) Emacs/20.7
MIME-Version: 1.0
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

* Andrew Cottrell
| I'd be interested to hear how this product left Sun and ended up on
| Webgain, seems quite strange. Perhaps someone should start a YAJCC (yet
| another Java compiler compiler) as a Open/Free source project! Any takers,
| I'll help all I can.

How about using ANTLR instead? See www.antlr.org for more info.

Geir O.

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-295-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Nov 12 14:03:48 2001
Return-Path: <lucene-user-return-295-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 88081 invoked from network); 12 Nov 2001 14:03:48 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 12 Nov 2001 14:03:48 -0000
Received: (qmail 14169 invoked by uid 97); 12 Nov 2001 14:03:46 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 14121 invoked by uid 97); 12 Nov 2001 14:03:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 13989 invoked from network); 12 Nov 2001 14:03:44 -0000
Message-ID: <86F21E9558CE6F429B2D0AEB9820F1B82F2F33@S1001EXM01.macromedia.com>
From: Paul Friedman <pfriedman@macromedia.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Strange behavior indexing 1000 documents in RAMDirectory
Date: Mon, 12 Nov 2001 09:03:41 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Doug,

How stable are the nightly builds?  When do you expect a final release of v.1.2?

Thanks.
Paul

-----Original Message-----
From: Doug Cutting [mailto:DCutting@grandcentral.com]
Sent: Friday, November 09, 2001 6:02 PM
To: 'Lucene Users List'
Subject: RE: Strange behavior indexing 1000 documents in RAMDirectory


Paul,

Thanks for the nice test case!

This bug was fixed a week or so ago.  Try the latest nightly release from:
  http://jakarta.apache.org/builds/jakarta-lucene/nightly/

Using that, I get the desired output:

Index and search 1000 documents
RAMDirectory: indexed 1000 in 1532 msec
RAMDirectory indexing: search 1000 in 0 msec
FSDirectory: indexed 1000 in 8622 msec
FSDirectory indexing: search 1000 in 0 msec

RAMDirectory is sure a lot faster!  Looks like I should add an option to let
more of indexing automatically happen in a RAMDirectory...

Currently mergeFactor documents are indexed in RAM and then merged to disk.
It would be fairly easy to add a limit so that, up to N documents could be
indexed in RAM before any are written to disk, where N is user-specified.
IndexWriter.close() would still flush RAM-based segments to disk.  The
default should still probably be fairly low, in case folks are adding large
documents and don't have much RAM, but folks with RAM and small documents
could raise it.

A better approach would be to have users specify the limit in bytes rather
than documents, and to flush the RAM-based segments when the RAM directory's
size reaches that limit.  This would take a bit more work, but still
shouldn't be hard.  Then you could dedicate, say, 10MB to indexing,
regardless of document size.  Hmm...

Doug

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-296-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Nov 12 14:14:39 2001
Return-Path: <lucene-user-return-296-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 94920 invoked from network); 12 Nov 2001 14:14:39 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 12 Nov 2001 14:14:39 -0000
Received: (qmail 23266 invoked by uid 97); 12 Nov 2001 14:14:24 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 23202 invoked by uid 97); 12 Nov 2001 14:14:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23134 invoked from network); 12 Nov 2001 14:14:22 -0000
Subject: Re: Recommended way of performing multi-field searches
From: Lee Mallabone <lee@grantadesign.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <013501c16b7e$91598920$0b01a8c0@168.1.8.Domainrelevanz>
References: <OIEGKMALPHPCCJMBEKDMGEBOCBAA.dave.kor@nexusedge.com>
	<009e01c16b67$ec0468c0$0b01a8c0@168.1.8.Domainrelevanz> 
	<013501c16b7e$91598920$0b01a8c0@168.1.8.Domainrelevanz>
Content-Type: text/plain
Content-Transfer-Encoding: 7bit
X-Mailer: Evolution/0.99.0 (Preview Release)
Date: 12 Nov 2001 14:12:39 +0000
Message-Id: <1005574359.23990.8.camel@murphy.granta.internal>
Mime-Version: 1.0
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Mon, 2001-11-12 at 13:33, Kelvin Tan wrote:
> If anyone's interested, I'd be happy to donate the code.

Sounds cool - at the moment I just construct a string as some people
suggested, but it's less than elegant. Your solution sounds like a big
improvement.

Regards,

-- 
Lee Mallabone


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-297-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Nov 12 15:37:00 2001
Return-Path: <lucene-user-return-297-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 43305 invoked from network); 12 Nov 2001 15:37:00 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 12 Nov 2001 15:37:00 -0000
Received: (qmail 23471 invoked by uid 97); 12 Nov 2001 15:37:01 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 23437 invoked by uid 97); 12 Nov 2001 15:37:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23415 invoked from network); 12 Nov 2001 15:36:59 -0000
Message-ID: <86F21E9558CE6F429B2D0AEB9820F1B82F2F37@S1001EXM01.macromedia.com>
From: Paul Friedman <pfriedman@macromedia.com>
To: "'lucene-user@jakarta.apache.org'" <lucene-user@jakarta.apache.org>
Subject: Parser error using Nov.11 nightly build
Date: Mon, 12 Nov 2001 10:36:58 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: multipart/mixed;
	boundary="----_=_NextPart_000_01C16B8F.DD5FBD0C"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------_=_NextPart_000_01C16B8F.DD5FBD0C
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C16B8F.DD5FBD0C"


------_=_NextPart_001_01C16B8F.DD5FBD0C
Content-Type: text/plain;
	charset="iso-8859-1"

Parsing a query string that contains a "." in the field name throws an error using the Nov. 11 nightly build.  It worked fine using RC2 build.  I have attached a test case.  This is a pretty big issue for my project as field names often have "." in them.
 
D:\Dev\Test Tools\lucene>java -cp %CLASSPATH%;.\ ParseTest
Exception in thread "main" org.apache.lucene.queryParser.TokenMgrError: Lexical error at line 1, column 9.  Encountered: "." (46), after : ""
        at org.apache.lucene.queryParser.QueryParserTokenManager.getNextToken(Unknown Source)
        at org.apache.lucene.queryParser.QueryParser.jj_scan_token(Unknown Source)
        at org.apache.lucene.queryParser.QueryParser.jj_3_1(Unknown Source)
        at org.apache.lucene.queryParser.QueryParser.jj_2_1(Unknown Source)
        at org.apache.lucene.queryParser.QueryParser.Clause(Unknown Source)
        at org.apache.lucene.queryParser.QueryParser.Query(Unknown Source)
        at org.apache.lucene.queryParser.QueryParser.parse(Unknown Source)
        at org.apache.lucene.queryParser.QueryParser.parse(Unknown Source)
        at ParseTest.main(ParseTest.java:16)
 
Thanks.
Paul

------_=_NextPart_001_01C16B8F.DD5FBD0C
Content-Type: text/html;
	charset="iso-8859-1"

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">


<META content="MSHTML 6.00.2600.0" name=GENERATOR></HEAD>
<BODY>
<DIV><SPAN class=265312915-12112001><FONT face=Arial size=2>Parsing a query 
string that contains a "." in the field name throws an error using the Nov. 11 
nightly build.&nbsp; It worked fine using RC2 build.&nbsp; I have attached a 
test case.&nbsp; This is a pretty big issue for my project as field names often 
have "." in them.</FONT></SPAN></DIV>
<DIV><SPAN class=265312915-12112001><FONT face=Arial 
size=2></FONT></SPAN>&nbsp;</DIV>
<DIV><SPAN class=265312915-12112001><FONT face=Arial size=2>D:\Dev\Test 
Tools\lucene&gt;java -cp %CLASSPATH%;.\ ParseTest<BR>Exception in thread "main" 
org.apache.lucene.queryParser.TokenMgrError: Lexical error at line 1, column 
9.&nbsp; Encountered: "." (46), after : 
""<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at 
org.apache.lucene.queryParser.QueryParserTokenManager.getNextToken(Unknown 
Source)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at 
org.apache.lucene.queryParser.QueryParser.jj_scan_token(Unknown 
Source)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at 
org.apache.lucene.queryParser.QueryParser.jj_3_1(Unknown 
Source)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at 
org.apache.lucene.queryParser.QueryParser.jj_2_1(Unknown 
Source)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at 
org.apache.lucene.queryParser.QueryParser.Clause(Unknown 
Source)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at 
org.apache.lucene.queryParser.QueryParser.Query(Unknown 
Source)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at 
org.apache.lucene.queryParser.QueryParser.parse(Unknown 
Source)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at 
org.apache.lucene.queryParser.QueryParser.parse(Unknown 
Source)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at 
ParseTest.main(ParseTest.java:16)</FONT></SPAN></DIV>
<DIV><SPAN class=265312915-12112001><FONT face=Arial 
size=2></FONT></SPAN>&nbsp;</DIV>
<DIV><SPAN class=265312915-12112001><FONT face=Arial 
size=2>Thanks.</FONT></SPAN></DIV>
<DIV><SPAN class=265312915-12112001><FONT face=Arial 
size=2>Paul</FONT></SPAN></DIV></BODY></HTML>

------_=_NextPart_001_01C16B8F.DD5FBD0C--

------_=_NextPart_000_01C16B8F.DD5FBD0C
Content-Type: application/octet-stream;
	name="ParseTest.java"
Content-Disposition: attachment;
	filename="ParseTest.java"

import org.apache.lucene.queryParser.*; 
import org.apache.lucene.search.*; 
import org.apache.lucene.index.*; 
import org.apache.lucene.analysis.*; 
import org.apache.lucene.analysis.standard.*;
import org.apache.lucene.document.*; 

public class ParseTest { 

    public static void main(String args[]) throws Exception {

    	Analyzer analyzer = new StandardAnalyzer(); 
    	IndexReader reader = IndexReader.open("index");
    	Searcher searcher = new IndexSearcher(reader);
    	String qStr = "children.name:John";
    	Query query = QueryParser.parse(qStr, "text", analyzer);
    }
}



------_=_NextPart_000_01C16B8F.DD5FBD0C
Content-Type: text/plain; charset=us-ascii

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>
------_=_NextPart_000_01C16B8F.DD5FBD0C--

From lucene-user-return-298-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Nov 12 16:14:34 2001
Return-Path: <lucene-user-return-298-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 76338 invoked from network); 12 Nov 2001 16:14:34 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 12 Nov 2001 16:14:34 -0000
Received: (qmail 29064 invoked by uid 97); 12 Nov 2001 16:14:35 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 29048 invoked by uid 97); 12 Nov 2001 16:14:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 29037 invoked from network); 12 Nov 2001 16:14:34 -0000
Message-ID: <3BEFF55D.181A75AC@bouncy.com>
Date: Mon, 12 Nov 2001 17:14:21 +0100
From: Manfred =?iso-8859-1?Q?Sch=E4fer?= <mschaefer@bouncy.com>
Organization: Bouncy Bytes Software GmbH
X-Mailer: Mozilla 4.78 [en] (Windows NT 5.0; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: JavaCC
References: <1005572455.23989.2.camel@murphy.granta.internal> <fc.001e73e50022d2793b9aca005c4a2da3.22d28f@blacksunplc.com> <GROVE-86vgggrsva.fsf@sandbox.ontopia.net>
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Return-Path: mschaefer@bouncy.com
X-MDaemon-Deliver-To: lucene-user@jakarta.apache.org
Reply-To: mschaefer@bouncy.com
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N



"Geir Ove Grnmo" wrote:

> * Andrew Cottrell
> | I'd be interested to hear how this product left Sun and ended up on
> | Webgain, seems quite strange. Perhaps someone should start a YAJCC (yet
> | another Java compiler compiler) as a Open/Free source project! Any takers,
> | I'll help all I can.
>
> How about using ANTLR instead? See www.antlr.org for more info.

The javaCC - developers from sun started up their own company called metamata
(and took jacaCC with them)  which was sold not so long ago to web gain.

I'm using javacc for two years now, without founding any bug. It is very fast and
very stable and very easy to use. It's a little bit like Donald Knuth tex:
Nothing to improve. So, althought it looks like a dead product, it is still doing
its job perfectly.
(hint: i'm _not_ from web gain)

And: I can still find it in the WebGain-Products list !?


manfred







--
 Manfred Schfer
 Application Development
 _______________________________________________________________________

 Bouncy*Bytes Software GmbH
 Hofgut Bayerseich
 Darmstaedter Landstrasse 64
 D-63329 Egelsbach
 Germany
 Tel.: ++49 - (0) 61 03 - 70 65 6-0
 Fax : ++49 - (0) 61 03 - 70 65 6-15
 info@bouncy.com
 http://www.bouncy.com

 synformation.com(R)  Web-Content-Management-System
 Synergize your information.
________________________________________________________________________




--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-299-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Nov 12 16:53:11 2001
Return-Path: <lucene-user-return-299-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 3294 invoked from network); 12 Nov 2001 16:53:11 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 12 Nov 2001 16:53:11 -0000
Received: (qmail 4690 invoked by uid 97); 12 Nov 2001 16:53:13 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 4674 invoked by uid 97); 12 Nov 2001 16:53:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4663 invoked from network); 12 Nov 2001 16:53:12 -0000
Message-ID: <4BC270C6AB8AD411AD0B00B0D0493DF0D78A22@mail.grandcentral.com>
From: Doug Cutting <DCutting@grandcentral.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: RE: Memory Usage?
Date: Mon, 12 Nov 2001 08:41:22 -0800
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

This was a single query?  How many terms, and of what type are in the query?
>From the trace it looks like there could be over 40,000 terms in the query!
Is this a prefix or wildcard query?  These can generate *very* large
queries...

Doug


> -----Original Message-----
> From: Anders Nielsen [mailto:anders@visator.dk]
> Sent: Sunday, November 11, 2001 6:59 AM
> To: Lucene Users List
> Subject: RE: Memory Usage?
> 
> 
> I am not very familiar with the output of -Xrunhprof, but 
> I've attached the
> output of a run of a search through and index of 50.000 
> documents. It gave
> me out-of-memory errors until I allocated 100 megabytes of heap-space.
> 
> The top 10:
> 
> SITES BEGIN (ordered by live bytes) Sun Nov 11 15:50:31 2001
>           percent         live       alloc'ed  stack class
>  rank   self  accum    bytes objs   bytes objs trace name
>     1 26.41% 26.41% 12485200 12005 45566560 43814  1783 [B
>     2 25.18% 51.59% 11904880 11447 44867680 43142  1796 [B
>     3  4.15% 55.74%  1962904 69214 171546352 5510292  1632 [C
>     4  3.83% 59.58%  1812096 3432 1812096 3432  1768 [I
>     5  3.83% 63.41%  1812096 3432 1812096 3432  1769 [I
>     6  3.34% 66.75%  1580688 65862 130618992 5442458  1631 
> java.lang.String
>     7  3.19% 69.95%  1509584 44763 1509584 44763   458 [C
>     8  3.03% 72.98%  1432416 44763 1432416 44763   459
> org.apache.lucene.index.TermInfo
>     9  2.27% 75.25%  1074312 44763 1074312 44763   457 
> java.lang.String
>    10  2.23% 77.48%  1053792 65862 87079328 5442458  1631
> org.apache.lucene.index.Term
> 
> and the top 3 traces were:
> 
> TRACE 1783:
>         
> org.apache.lucene.store.InputStream.refill(InputStream.java:165)
>         
> org.apache.lucene.store.InputStream.readByte(InputStream.java:80)
>         
> org.apache.lucene.store.InputStream.readVInt(InputStream.java:106)
> 
> org.apache.lucene.index.SegmentTermDocs.next(SegmentTermDocs.java:101)
> 
> TRACE 1796:
>         
> org.apache.lucene.store.InputStream.refill(InputStream.java:165)
>         
> org.apache.lucene.store.InputStream.readByte(InputStream.java:80)
>         
> org.apache.lucene.store.InputStream.readVInt(InputStream.java:106)
> 
> org.apache.lucene.index.SegmentTermPositions.next(SegmentTermP
> ositions.java:
> 100)
> 
> TRACE 1632:
>         java.lang.String.<init>(String.java:198)
> 
> org.apache.lucene.index.SegmentTermEnum.readTerm(SegmentTermEn
> um.java:134)
> 
> org.apache.lucene.index.SegmentTermEnum.next(SegmentTermEnum.java:114)
> 
> org.apache.lucene.index.TermInfosReader.scanEnum(TermInfosRead
> er.java:166)
> 
> 
> I've attached the whole trace as gzipped.txt
> 
> regards,
> Anders Nielsen
> 
> -----Original Message-----
> From: Doug Cutting [mailto:DCutting@grandcentral.com]
> Sent: 10. november 2001 04:35
> To: 'Lucene Users List'
> Subject: RE: Memory Usage?
> 
> 
> I'm surprised that your memory use is that high.
> 
> An IndexReader requires:
>   one byte per field per document in index (norms)
>   one open file per file in index
>   1/128 of the Terms in the index
>     a Term has two pointers (8 bytes)
>      and a String (4 pointers = 24 bytes, one to 16-bit chars)
> 
> A Search requires:
>   1 1024 byte buffer per TermQuery
>   2 128 int buffers per TermQuery
>   2 1024 byte buffers per PhraseQuery term
>   1 1024 element bucket array per BooleanQuery
>     each bucket has 5 fields, and hence requires ~20 bytes
>   1 bit per document in index per DateFilter
> 
> A Hits requires:
>   up to n+100 ScoreDocs (float+int, 8 bytes)
>     where n is the highest Hits.doc(n) accessed
>   up to 200 Document objects
> 
> I may have forgotten something...
> 
> Let's assume that your 1M document index has 2M unique terms, 
> and that you
> only look at the top-100 hits, that your index has three 
> fields, and that
> the typical document has two stored fields, each 20 characters.  Your
> 30-term boolean query over a 1M document index should use around the
> following numbers of bytes:
>   IndexReader:
>     3,000,000 (norms)
>     1,000,000 (1/128 of 2M terms, each requiring ~50 bytes)
>   during search
>        50,000 (TermQuery buffers)
>        20,000 (BooleanQuery buckets)
>       100,000 (DateFilter bit vector)
>   in Hits
>         2,000 (200 ScoreDocs)
>        30,000 (up to 200 cached Documents)
> 
> So searches should run in a 5Mb heap.  Are my assumptions off?
> 
> You can also see why it is useful to keep a single 
> IndexReader and use it
> for all queries.  (IndexReader is thread safe.)
> 
> You could also 'java -Xrunhprof:heap=sites' to see what's 
> using memory.
> 
> Doug
> 
> --
> To unsubscribe, e-mail:
> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
> <mailto:lucene-user-help@jakarta.apache.org>
> 
> 

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-300-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Nov 12 17:01:03 2001
Return-Path: <lucene-user-return-300-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 8826 invoked from network); 12 Nov 2001 17:01:02 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 12 Nov 2001 17:01:02 -0000
Received: (qmail 11337 invoked by uid 97); 12 Nov 2001 17:01:05 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 11297 invoked by uid 97); 12 Nov 2001 17:01:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11286 invoked from network); 12 Nov 2001 17:01:04 -0000
Message-ID: <3BEFFDBC.8B6B3A67@fpg.de>
Date: Mon, 12 Nov 2001 17:50:04 +0100
From: Gerhard Schwarz <gerhard.schwarz@fpg.de>
Organization: Frost & Partner
X-Mailer: Mozilla 4.78 [en]C-CCK-MCD DT  (Win98; U)
X-Accept-Language: de,en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Prefix query case sensitive?
References: <4BC270C6AB8AD411AD0B00B0D0493DF0EE7CC9@mail.grandcentral.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Loop-Detect: 1
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Doug Cutting wrote:
> 
> Yes, prefix queries are indeed case sensitive.  The problem is that prefixes
> do not go through an analyzer, which is where lower-casing is done.  The
> reason is that if you were searching for "dogs*" you would not want "dogs"
> first stemmed to "dog", since that would then match "dog*", which is not the
> intended query.  A workaround for this is simply to lowercase the entire
> query before passing it into the query parser.

(Sorry for the late comment, I got a job to do)

Thats no good, at least with my german stemmer. Lowercase only
prefix/wildcard terms.
The problem is that nouns are stemmed differently, and if the whole
query becomes lowercased, the non-prefix/wildcard terms will be
stemmed differently.
I don't want to switch to medium stemming, because soft stemming
with seperated noun stemming and lowercase indexing produces best
overall results for german language (uniqueness of discriminators,
rate of noise and processing speed).


Btw., Doug, could I get access to the CVS to commit changes/
improvements to the german stemming classes?


Greets,
Gerhard

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-301-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Nov 12 17:03:23 2001
Return-Path: <lucene-user-return-301-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 9689 invoked from network); 12 Nov 2001 17:03:23 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 12 Nov 2001 17:03:23 -0000
Received: (qmail 11870 invoked by uid 97); 12 Nov 2001 17:03:24 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 11843 invoked by uid 97); 12 Nov 2001 17:03:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11830 invoked from network); 12 Nov 2001 17:03:22 -0000
From: "Anders Nielsen" <anders@visator.dk>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: Memory Usage?
Date: Mon, 12 Nov 2001 18:02:48 +0100
Message-ID: <NJEPIMGJMJELKKFFHINCKEKGCKAA.anders@visator.dk>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
In-Reply-To: <4BC270C6AB8AD411AD0B00B0D0493DF0D78A22@mail.grandcentral.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

this was a big boolean query, with several prefixqueries but no wildcard
queries in the or-branches.

-----Original Message-----
From: Doug Cutting [mailto:DCutting@grandcentral.com]
Sent: 12. november 2001 17:41
To: Lucene Users List
Subject: RE: Memory Usage?


This was a single query?  How many terms, and of what type are in the query?
>From the trace it looks like there could be over 40,000 terms in the query!
Is this a prefix or wildcard query?  These can generate *very* large
queries...

Doug


> -----Original Message-----
> From: Anders Nielsen [mailto:anders@visator.dk]
> Sent: Sunday, November 11, 2001 6:59 AM
> To: Lucene Users List
> Subject: RE: Memory Usage?
>
>
> I am not very familiar with the output of -Xrunhprof, but
> I've attached the
> output of a run of a search through and index of 50.000
> documents. It gave
> me out-of-memory errors until I allocated 100 megabytes of heap-space.
>
> The top 10:
>
> SITES BEGIN (ordered by live bytes) Sun Nov 11 15:50:31 2001
>           percent         live       alloc'ed  stack class
>  rank   self  accum    bytes objs   bytes objs trace name
>     1 26.41% 26.41% 12485200 12005 45566560 43814  1783 [B
>     2 25.18% 51.59% 11904880 11447 44867680 43142  1796 [B
>     3  4.15% 55.74%  1962904 69214 171546352 5510292  1632 [C
>     4  3.83% 59.58%  1812096 3432 1812096 3432  1768 [I
>     5  3.83% 63.41%  1812096 3432 1812096 3432  1769 [I
>     6  3.34% 66.75%  1580688 65862 130618992 5442458  1631
> java.lang.String
>     7  3.19% 69.95%  1509584 44763 1509584 44763   458 [C
>     8  3.03% 72.98%  1432416 44763 1432416 44763   459
> org.apache.lucene.index.TermInfo
>     9  2.27% 75.25%  1074312 44763 1074312 44763   457
> java.lang.String
>    10  2.23% 77.48%  1053792 65862 87079328 5442458  1631
> org.apache.lucene.index.Term
>
> and the top 3 traces were:
>
> TRACE 1783:
>
> org.apache.lucene.store.InputStream.refill(InputStream.java:165)
>
> org.apache.lucene.store.InputStream.readByte(InputStream.java:80)
>
> org.apache.lucene.store.InputStream.readVInt(InputStream.java:106)
>
> org.apache.lucene.index.SegmentTermDocs.next(SegmentTermDocs.java:101)
>
> TRACE 1796:
>
> org.apache.lucene.store.InputStream.refill(InputStream.java:165)
>
> org.apache.lucene.store.InputStream.readByte(InputStream.java:80)
>
> org.apache.lucene.store.InputStream.readVInt(InputStream.java:106)
>
> org.apache.lucene.index.SegmentTermPositions.next(SegmentTermP
> ositions.java:
> 100)
>
> TRACE 1632:
>         java.lang.String.<init>(String.java:198)
>
> org.apache.lucene.index.SegmentTermEnum.readTerm(SegmentTermEn
> um.java:134)
>
> org.apache.lucene.index.SegmentTermEnum.next(SegmentTermEnum.java:114)
>
> org.apache.lucene.index.TermInfosReader.scanEnum(TermInfosRead
> er.java:166)
>
>
> I've attached the whole trace as gzipped.txt
>
> regards,
> Anders Nielsen
>
> -----Original Message-----
> From: Doug Cutting [mailto:DCutting@grandcentral.com]
> Sent: 10. november 2001 04:35
> To: 'Lucene Users List'
> Subject: RE: Memory Usage?
>
>
> I'm surprised that your memory use is that high.
>
> An IndexReader requires:
>   one byte per field per document in index (norms)
>   one open file per file in index
>   1/128 of the Terms in the index
>     a Term has two pointers (8 bytes)
>      and a String (4 pointers = 24 bytes, one to 16-bit chars)
>
> A Search requires:
>   1 1024 byte buffer per TermQuery
>   2 128 int buffers per TermQuery
>   2 1024 byte buffers per PhraseQuery term
>   1 1024 element bucket array per BooleanQuery
>     each bucket has 5 fields, and hence requires ~20 bytes
>   1 bit per document in index per DateFilter
>
> A Hits requires:
>   up to n+100 ScoreDocs (float+int, 8 bytes)
>     where n is the highest Hits.doc(n) accessed
>   up to 200 Document objects
>
> I may have forgotten something...
>
> Let's assume that your 1M document index has 2M unique terms,
> and that you
> only look at the top-100 hits, that your index has three
> fields, and that
> the typical document has two stored fields, each 20 characters.  Your
> 30-term boolean query over a 1M document index should use around the
> following numbers of bytes:
>   IndexReader:
>     3,000,000 (norms)
>     1,000,000 (1/128 of 2M terms, each requiring ~50 bytes)
>   during search
>        50,000 (TermQuery buffers)
>        20,000 (BooleanQuery buckets)
>       100,000 (DateFilter bit vector)
>   in Hits
>         2,000 (200 ScoreDocs)
>        30,000 (up to 200 cached Documents)
>
> So searches should run in a 5Mb heap.  Are my assumptions off?
>
> You can also see why it is useful to keep a single
> IndexReader and use it
> for all queries.  (IndexReader is thread safe.)
>
> You could also 'java -Xrunhprof:heap=sites' to see what's
> using memory.
>
> Doug
>
> --
> To unsubscribe, e-mail:
> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
> <mailto:lucene-user-help@jakarta.apache.org>
>
>

--
To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>



--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-302-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Nov 12 19:58:34 2001
Return-Path: <lucene-user-return-302-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 37710 invoked from network); 12 Nov 2001 19:58:34 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 12 Nov 2001 19:58:34 -0000
Received: (qmail 18841 invoked by uid 97); 12 Nov 2001 19:58:37 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 18811 invoked by uid 97); 12 Nov 2001 19:58:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 18800 invoked from network); 12 Nov 2001 19:58:36 -0000
Message-ID: <4BC270C6AB8AD411AD0B00B0D0493DF0EE7CFC@mail.grandcentral.com>
From: Doug Cutting <DCutting@grandcentral.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Memory Usage?
Date: Mon, 12 Nov 2001 11:46:39 -0800
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/mixed;
	boundary="----_=_NextPart_000_01C16BB2.BEFBFAA0"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------_=_NextPart_000_01C16BB2.BEFBFAA0
Content-Type: text/plain;
	charset="iso-8859-1"

> From: Anders Nielsen [mailto:anders@visator.dk]
> 
> this was a big boolean query, with several prefixqueries but 
> no wildcard
> queries in the or-branches.

Well it looks like those prefixes are expanding to a lot of terms, a total
of over 40,000!  (A prefix query expands into a BooleanQuery with all the
terms matching the prefix.)

If most of these expansions are low-frequency, then a simple fix should
improve things considerably.  I've attached an optimized version of
TermQuery that will hold less memory per low-frequency term.  In particular,
if a term occurs fewer than 128 times then a 1024 byte InputStream buffer is
freed immediately.

Tell me how this works.  Please send another heap dump.

Longer term, or if lots of the expanded terms occur more than 128 times,
perhaps BooleanScorer should use a different algorithm when there are
thousands of terms.  In this case it might use less memory to construct an
array of score buckets for all documents.  If (query.termCount() * 1024) >
(12 * getMaxDoc()) then this would use less memory.  In your case, with
500,000 documents and a 40,000 term query, it's currently taking 40MB/query,
and could be done in 6MB/query.  This optimization would not be too
difficult, as it could be mostly isolated to BooleanQuery and BooleanScorer.

Doug



------_=_NextPart_000_01C16BB2.BEFBFAA0
Content-Type: application/octet-stream;
	name="PhraseQuery.java"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: attachment;
	filename="PhraseQuery.java"

package org.apache.lucene.search;

/* =
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
 * The Apache Software License, Version 1.1
 *
 * Copyright (c) 2001 The Apache Software Foundation.  All rights
 * reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions
 * are met:
 *
 * 1. Redistributions of source code must retain the above copyright
 *    notice, this list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright
 *    notice, this list of conditions and the following disclaimer in
 *    the documentation and/or other materials provided with the
 *    distribution.
 *
 * 3. The end-user documentation included with the redistribution,
 *    if any, must include the following acknowledgment:
 *       "This product includes software developed by the
 *        Apache Software Foundation (http://www.apache.org/)."
 *    Alternately, this acknowledgment may appear in the software =
itself,
 *    if and wherever such third-party acknowledgments normally appear.
 *
 * 4. The names "Apache" and "Apache Software Foundation" and
 *    "Apache Lucene" must not be used to endorse or promote products
 *    derived from this software without prior written permission. For
 *    written permission, please contact apache@apache.org.
 *
 * 5. Products derived from this software may not be called "Apache",
 *    "Apache Lucene", nor may "Apache" appear in their name, without
 *    prior written permission of the Apache Software Foundation.
 *
 * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED
 * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
 * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR
 * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF
 * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
 * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT
 * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
 * SUCH DAMAGE.
 * =
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
 *
 * This software consists of voluntary contributions made by many
 * individuals on behalf of the Apache Software Foundation.  For more
 * information on the Apache Software Foundation, please see
 * <http://www.apache.org/>.
 */

import java.io.IOException;
import java.util.Vector;

import org.apache.lucene.index.Term;
import org.apache.lucene.index.TermDocs;
import org.apache.lucene.index.TermPositions;
import org.apache.lucene.index.IndexReader;

/** A Query that matches documents containing a particular sequence of =
terms.
  This may be combined with other terms with a {@link BooleanQuery}.
  */
final public class PhraseQuery extends Query {
  private String field;
  private Vector terms =3D new Vector();
  private float idf =3D 0.0f;
  private float weight =3D 0.0f;

  private float boost =3D 1.0f;
  private int slop =3D 0;


  /** Constructs an empty phrase query. */
  public PhraseQuery() {
  }

  /** Sets the boost for this term to <code>b</code>.  Documents =
containing
    this term will (in addition to the normal weightings) have their =
score
    multiplied by <code>b</code>. */
  public final void setBoost(float b) { boost =3D b; }
  /** Gets the boost for this term.  Documents containing
    this term will (in addition to the normal weightings) have their =
score
    multiplied by <code>b</code>.   The boost is 1.0 by default.  */
  public final float getBoost() { return boost; }
 =20
  /** Sets the number of other words permitted between words in query =
phrase.
    If zero, then this is an exact phrase search.  For larger values =
this works
    like a <code>WITHIN</code> or <code>NEAR</code> operator.

    <p>The slop is in fact an edit-distance, where the units correspond =
to
    moves of terms in the query phrase out of position.  For example, =
to switch
    the order of two words requires two moves (the first move places =
the words
    atop one another), so to permit re-orderings of phrases, the slop =
must be
    at least two.

    <p>More exact matches are scored higher than sloppier matches, thus =
search
    results are sorted by exactness.

    <p>The slop is zero by default, requiring exact matches.*/
  public final void setSlop(int s) { slop =3D s; }
  /** Returns the slop.  See setSlop(). */
  public final int getSlop() { return slop; }

  /** Adds a term to the end of the query phrase. */
  public final void add(Term term) {
    if (terms.size() =3D=3D 0)
      field =3D term.field();
    else if (term.field() !=3D field)
      throw new IllegalArgumentException
	("All phrase terms must be in the same field: " + term);

    terms.addElement(term);
  }

  final float sumOfSquaredWeights(Searcher searcher) throws IOException =
{
    for (int i =3D 0; i < terms.size(); i++)	  // sum term IDFs
      idf +=3D Similarity.idf((Term)terms.elementAt(i), searcher);

    weight =3D idf * boost;
    return weight * weight;			  // square term weights
  }

  final void normalize(float norm) {
    weight *=3D norm;				  // normalize for query
    weight *=3D idf;				  // factor from document
  }

  final Scorer scorer(IndexReader reader) throws IOException {
    if (terms.size() =3D=3D 0)			  // optimize zero-term case
      return null;
    if (terms.size() =3D=3D 1) {			  // optimize one-term case
      Term term =3D (Term)terms.elementAt(0);
      TermDocs docs =3D reader.termDocs(term);
      if (docs =3D=3D null)
	return null;
      return new TermScorer(docs, reader.docFreq(term),
                            reader.norms(term.field()), weight);
    }

    TermPositions[] tps =3D new TermPositions[terms.size()];
    for (int i =3D 0; i < terms.size(); i++) {
      TermPositions p =3D =
reader.termPositions((Term)terms.elementAt(i));
      if (p =3D=3D null)
	return null;
      tps[i] =3D p;
    }

    if (slop =3D=3D 0)				  // optimize exact case
      return new ExactPhraseScorer(tps, reader.norms(field), weight);
    else
      return
	new SloppyPhraseScorer(tps, slop, reader.norms(field), weight);

  }

  /** Prints a user-readable version of this query. */
  public final String toString(String f) {
    StringBuffer buffer =3D new StringBuffer();
    if (!field.equals(f)) {
      buffer.append(field);
      buffer.append(":");
    }

    buffer.append("\"");
    for (int i =3D 0; i < terms.size(); i++) {
      buffer.append(((Term)terms.elementAt(i)).text());
      if (i !=3D terms.size()-1)
	buffer.append(" ");
    }
    buffer.append("\"");

    if (boost !=3D 1.0f) {
      buffer.append("^");
      buffer.append(Float.toString(boost));
    }

    return buffer.toString();
  }
}

------_=_NextPart_000_01C16BB2.BEFBFAA0
Content-Type: application/octet-stream;
	name="TermQuery.java"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: attachment;
	filename="TermQuery.java"

package org.apache.lucene.search;

/* =
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
 * The Apache Software License, Version 1.1
 *
 * Copyright (c) 2001 The Apache Software Foundation.  All rights
 * reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions
 * are met:
 *
 * 1. Redistributions of source code must retain the above copyright
 *    notice, this list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright
 *    notice, this list of conditions and the following disclaimer in
 *    the documentation and/or other materials provided with the
 *    distribution.
 *
 * 3. The end-user documentation included with the redistribution,
 *    if any, must include the following acknowledgment:
 *       "This product includes software developed by the
 *        Apache Software Foundation (http://www.apache.org/)."
 *    Alternately, this acknowledgment may appear in the software =
itself,
 *    if and wherever such third-party acknowledgments normally appear.
 *
 * 4. The names "Apache" and "Apache Software Foundation" and
 *    "Apache Lucene" must not be used to endorse or promote products
 *    derived from this software without prior written permission. For
 *    written permission, please contact apache@apache.org.
 *
 * 5. Products derived from this software may not be called "Apache",
 *    "Apache Lucene", nor may "Apache" appear in their name, without
 *    prior written permission of the Apache Software Foundation.
 *
 * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED
 * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
 * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR
 * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF
 * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
 * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT
 * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
 * SUCH DAMAGE.
 * =
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
 *
 * This software consists of voluntary contributions made by many
 * individuals on behalf of the Apache Software Foundation.  For more
 * information on the Apache Software Foundation, please see
 * <http://www.apache.org/>.
 */

import java.io.IOException;
import org.apache.lucene.index.Term;
import org.apache.lucene.index.TermDocs;
import org.apache.lucene.index.IndexReader;

/** A Query that matches documents containing a term.
  This may be combined with other terms with a {@link BooleanQuery}.
  */
final public class TermQuery extends Query {
  private Term term;
  private int docFreq;
  private float boost =3D 1.0f;
  private float idf =3D 0.0f;
  private float weight =3D 0.0f;

  /** Constructs a query for the term <code>t</code>. */
  public TermQuery(Term t) {
    term =3D t;
  }

  /** Sets the boost for this term to <code>b</code>.  Documents =
containing
    this term will (in addition to the normal weightings) have their =
score
    multiplied by <code>b</code>. */
  public void setBoost(float b) { boost =3D b; }
  /** Gets the boost for this term.  Documents containing
    this term will (in addition to the normal weightings) have their =
score
    multiplied by <code>b</code>.   The boost is 1.0 by default.  */
  public float getBoost() { return boost; }
 =20
  final float sumOfSquaredWeights(Searcher searcher) throws IOException =
{
    docFreq =3D searcher.docFreq(term);
    idf =3D Similarity.idf(docFreq, searcher.maxDoc());
    weight =3D idf;
    return weight * weight;			  // square term weights
  }

  final void normalize(float norm) {
    weight *=3D norm;				  // normalize for query
    weight *=3D idf;				  // factor from document
    weight *=3D boost;                              // boost query
  }

  Scorer scorer(IndexReader reader)
       throws IOException {
    TermDocs termDocs =3D reader.termDocs(term);

    if (termDocs =3D=3D null)
      return null;
   =20
    return new TermScorer(termDocs, docFreq,
                          reader.norms(term.field()), weight);
  }

  /** Prints a user-readable version of this query. */
  public String toString(String field) {
    StringBuffer buffer =3D new StringBuffer();
    if (!term.field().equals(field)) {
      buffer.append(term.field());
      buffer.append(":");
    }
    buffer.append(term.text());
    if (boost !=3D 1.0f) {
      buffer.append("^");
      buffer.append(Float.toString(boost));
    }
    return buffer.toString();
  }
}

------_=_NextPart_000_01C16BB2.BEFBFAA0
Content-Type: application/octet-stream;
	name="TermScorer.java"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: attachment;
	filename="TermScorer.java"

package org.apache.lucene.search;

/* =
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
 * The Apache Software License, Version 1.1
 *
 * Copyright (c) 2001 The Apache Software Foundation.  All rights
 * reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions
 * are met:
 *
 * 1. Redistributions of source code must retain the above copyright
 *    notice, this list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright
 *    notice, this list of conditions and the following disclaimer in
 *    the documentation and/or other materials provided with the
 *    distribution.
 *
 * 3. The end-user documentation included with the redistribution,
 *    if any, must include the following acknowledgment:
 *       "This product includes software developed by the
 *        Apache Software Foundation (http://www.apache.org/)."
 *    Alternately, this acknowledgment may appear in the software =
itself,
 *    if and wherever such third-party acknowledgments normally appear.
 *
 * 4. The names "Apache" and "Apache Software Foundation" and
 *    "Apache Lucene" must not be used to endorse or promote products
 *    derived from this software without prior written permission. For
 *    written permission, please contact apache@apache.org.
 *
 * 5. Products derived from this software may not be called "Apache",
 *    "Apache Lucene", nor may "Apache" appear in their name, without
 *    prior written permission of the Apache Software Foundation.
 *
 * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED
 * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
 * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR
 * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF
 * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
 * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT
 * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
 * SUCH DAMAGE.
 * =
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
 *
 * This software consists of voluntary contributions made by many
 * individuals on behalf of the Apache Software Foundation.  For more
 * information on the Apache Software Foundation, please see
 * <http://www.apache.org/>.
 */

import java.io.IOException;
import org.apache.lucene.index.TermDocs;

final class TermScorer extends Scorer {
  private TermDocs termDocs;
  private byte[] norms;
  private float weight;
  private int doc;

  private static final int BUFFER_SIZE =3D 128;
  private static final int[] SENTINEL =3D {Integer.MAX_VALUE};

  private int[] docs;                             // buffered doc =
numbers
  private  int[] freqs;                           // buffered term =
freqs

  private int pointer;                            // pointer into =
buffers
  private int pointerMax;                         // end of buffers

  private static final int SCORE_CACHE_SIZE =3D 32;
  private float[] scoreCache =3D new float[SCORE_CACHE_SIZE];

  TermScorer(TermDocs td, int docFreq, byte[] n, float w) throws =
IOException {
    termDocs =3D td;
    norms =3D n;
    weight =3D w;

    for (int i =3D 0; i < SCORE_CACHE_SIZE; i++)
      scoreCache[i] =3D Similarity.tf(i) * weight;

    // minimize buffer sizes
    int bufferSize =3D (docFreq < BUFFER_SIZE) ? (docFreq+1) : =
BUFFER_SIZE;
    docs =3D new int[bufferSize];
    freqs =3D new int[bufferSize];

    refill();

  }

  private void refill() throws IOException {
    if (termDocs !=3D null) {
      pointerMax =3D termDocs.read(docs, freqs);    // try to fill =
buffers
      if (pointerMax < docs.length) {             // read last into =
buffers
        termDocs.close();                         // close stream
        termDocs =3D null;                          // gc stream's =
buffer
      }
    } else {
      pointerMax =3D 0;
    }

    if (pointerMax =3D=3D 0) {                        // last buffer =
consumed
      docs =3D SENTINEL;                            // gc docs, set =
sentinel
      freqs =3D null;                               // gc freqs
    }
    pointer =3D 0;
    doc =3D docs[pointer];
  }

  final void score(HitCollector c, final int end) throws IOException {
    int d =3D doc;				  // cache doc in local
    while (d < end) {				  // for docs in window
      final int f =3D freqs[pointer];
      float score =3D				  // compute tf(f)*weight
	f < SCORE_CACHE_SIZE			  // check cache
	 ? scoreCache[f]			  // cache hit
	 : Similarity.tf(f)*weight;		  // cache miss

      byte normByte =3D norms[d];
      if (normByte !=3D 0) {                        // if not deleted
        score *=3D Similarity.norm(normByte);	  // normalize for field
        c.collect(d, score);			  // collect score
      }

      if (++pointer =3D=3D pointerMax)
        refill();

      d =3D docs[pointer];
    }
    doc =3D d;					  // flush cache
  }
}


------_=_NextPart_000_01C16BB2.BEFBFAA0
Content-Type: text/plain; charset=us-ascii

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>
------_=_NextPart_000_01C16BB2.BEFBFAA0--

From lucene-user-return-303-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Nov 12 20:05:18 2001
Return-Path: <lucene-user-return-303-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 41189 invoked from network); 12 Nov 2001 20:05:18 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 12 Nov 2001 20:05:18 -0000
Received: (qmail 26707 invoked by uid 97); 12 Nov 2001 20:05:22 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 26678 invoked by uid 97); 12 Nov 2001 20:05:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26667 invoked from network); 12 Nov 2001 20:05:20 -0000
Message-ID: <FABBF873F68ED311BB35009027D390723E2EC1@darth_bobo.etapestry.com>
From: Scott Ganyo <scott.ganyo@eTapestry.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Memory Usage?
Date: Mon, 12 Nov 2001 15:04:48 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C16BB5.484D6990"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C16BB5.484D6990
Content-Type: text/plain;
	charset="iso-8859-1"

I think something like this would be a HUGE boon for us.  We do a lot of
complex queries on a lot of different indexes and end up suffering from
severe garbage collection issues on our system.  I'd be willing to help out
in any way to make this issue go away as soon as possible.

Scott

> -----Original Message-----
> From: Doug Cutting [mailto:DCutting@grandcentral.com]
> Sent: Monday, November 12, 2001 2:47 PM
> To: 'Lucene Users List'
> Subject: RE: Memory Usage?
> 
> 
> > From: Anders Nielsen [mailto:anders@visator.dk]
> > 
> > this was a big boolean query, with several prefixqueries but 
> > no wildcard
> > queries in the or-branches.
> 
> Well it looks like those prefixes are expanding to a lot of 
> terms, a total
> of over 40,000!  (A prefix query expands into a BooleanQuery 
> with all the
> terms matching the prefix.)
> 
> If most of these expansions are low-frequency, then a simple 
> fix should
> improve things considerably.  I've attached an optimized version of
> TermQuery that will hold less memory per low-frequency term.  
> In particular,
> if a term occurs fewer than 128 times then a 1024 byte 
> InputStream buffer is
> freed immediately.
> 
> Tell me how this works.  Please send another heap dump.
> 
> Longer term, or if lots of the expanded terms occur more than 
> 128 times,
> perhaps BooleanScorer should use a different algorithm when there are
> thousands of terms.  In this case it might use less memory to 
> construct an
> array of score buckets for all documents.  If 
> (query.termCount() * 1024) >
> (12 * getMaxDoc()) then this would use less memory.  In your 
> case, with
> 500,000 documents and a 40,000 term query, it's currently 
> taking 40MB/query,
> and could be done in 6MB/query.  This optimization would not be too
> difficult, as it could be mostly isolated to BooleanQuery and 
> BooleanScorer.
> 
> Doug
> 
> 
> 

------_=_NextPart_001_01C16BB5.484D6990--

From lucene-user-return-304-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Nov 12 21:01:53 2001
Return-Path: <lucene-user-return-304-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 80360 invoked from network); 12 Nov 2001 21:01:53 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 12 Nov 2001 21:01:53 -0000
Received: (qmail 9023 invoked by uid 97); 12 Nov 2001 21:00:38 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 8671 invoked by uid 97); 12 Nov 2001 21:00:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 8597 invoked from network); 12 Nov 2001 21:00:29 -0000
Message-ID: <4BC270C6AB8AD411AD0B00B0D0493DF0EE7CFD@mail.grandcentral.com>
From: Doug Cutting <DCutting@grandcentral.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Memory Usage?
Date: Mon, 12 Nov 2001 12:48:35 -0800
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> From: Scott Ganyo [mailto:scott.ganyo@eTapestry.com]
> 
> I think something like this would be a HUGE boon for us.  We 
> do a lot of
> complex queries on a lot of different indexes and end up 
> suffering from
> severe garbage collection issues on our system.  I'd be 
> willing to help out
> in any way to make this issue go away as soon as possible.

Did you try the code I just sent out?  Did it help much?

A problem with things like PrefixQuery are that they let folks easily
construct queries which are *very* expensive to evaluate.  It is no
coincidence that Google et. al. do not permit these sort of queries.  So,
while we can remove some of the GC overhead, don't forget that these are
still expensive operations and will still be rather slow.  A feature like
PrefixQuery should thus be used sparingly.

Doug

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-305-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Nov 12 21:43:32 2001
Return-Path: <lucene-user-return-305-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 9199 invoked from network); 12 Nov 2001 21:43:32 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 12 Nov 2001 21:43:32 -0000
Received: (qmail 20362 invoked by uid 97); 12 Nov 2001 21:42:58 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 20320 invoked by uid 97); 12 Nov 2001 21:42:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20308 invoked from network); 12 Nov 2001 21:42:56 -0000
From: "Anders Nielsen" <anders@visator.dk>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: Memory Usage?
Date: Mon, 12 Nov 2001 22:43:08 +0100
Message-ID: <CAEEIOALDICHEGPNHMLCEECJCLAA.anders@visator.dk>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
X-MIMEOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
In-Reply-To: <4BC270C6AB8AD411AD0B00B0D0493DF0EE7CFC@mail.grandcentral.com>
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

hmm, I seem to be getting a different number of hits when I use the files
you sent out.

-----Original Message-----
From: Doug Cutting [mailto:DCutting@grandcentral.com]
Sent: 12. november 2001 20:47
To: 'Lucene Users List'
Subject: RE: Memory Usage?


> From: Anders Nielsen [mailto:anders@visator.dk]
>
> this was a big boolean query, with several prefixqueries but
> no wildcard
> queries in the or-branches.

Well it looks like those prefixes are expanding to a lot of terms, a total
of over 40,000!  (A prefix query expands into a BooleanQuery with all the
terms matching the prefix.)

If most of these expansions are low-frequency, then a simple fix should
improve things considerably.  I've attached an optimized version of
TermQuery that will hold less memory per low-frequency term.  In particular,
if a term occurs fewer than 128 times then a 1024 byte InputStream buffer is
freed immediately.

Tell me how this works.  Please send another heap dump.

Longer term, or if lots of the expanded terms occur more than 128 times,
perhaps BooleanScorer should use a different algorithm when there are
thousands of terms.  In this case it might use less memory to construct an
array of score buckets for all documents.  If (query.termCount() * 1024) >
(12 * getMaxDoc()) then this would use less memory.  In your case, with
500,000 documents and a 40,000 term query, it's currently taking 40MB/query,
and could be done in 6MB/query.  This optimization would not be too
difficult, as it could be mostly isolated to BooleanQuery and BooleanScorer.

Doug




--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-306-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Nov 12 22:04:40 2001
Return-Path: <lucene-user-return-306-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 20594 invoked from network); 12 Nov 2001 22:04:40 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 12 Nov 2001 22:04:40 -0000
Received: (qmail 26151 invoked by uid 97); 12 Nov 2001 22:04:44 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 26135 invoked by uid 97); 12 Nov 2001 22:04:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26077 invoked from network); 12 Nov 2001 22:04:43 -0000
Message-ID: <4BC270C6AB8AD411AD0B00B0D0493DF0EE7CFF@mail.grandcentral.com>
From: Doug Cutting <DCutting@grandcentral.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Memory Usage?
Date: Mon, 12 Nov 2001 13:52:45 -0800
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> From: Anders Nielsen [mailto:anders@visator.dk]
> 
> hmm, I seem to be getting a different number of hits when I 
> use the files
> you sent out.

Please provide more information!  Is it larger or smaller than before?  By
how much?  What differences show up in the hits?  That's a terrible bug
report...

I think before it may have been possible to get a spurious hit if a query
term only occurred in deleted documents.  A wildcard query with 40,000 terms
might make this sort of thing happen more often, and unless you tried to
access the Hits.doc() for such a hit, you would not see an error.  If this
was in fact a problem, the code I just sent out would have fixed it.  So
your results may in fact be better.  Or there may be a bug in what I sent.
Or both!

For the cases I have tried I get the same results with and without those
changes.

Doug

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-307-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Nov 12 22:15:43 2001
Return-Path: <lucene-user-return-307-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 27677 invoked from network); 12 Nov 2001 22:15:42 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 12 Nov 2001 22:15:42 -0000
Received: (qmail 13360 invoked by uid 97); 12 Nov 2001 22:14:40 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 13312 invoked by uid 97); 12 Nov 2001 22:14:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 13263 invoked from network); 12 Nov 2001 22:14:39 -0000
Message-ID: <001001c16bc7$4129d8d0$0100a8c0@medusa>
From: "Philipp Chudinov" <morpheus@basko.ru>
To: <lucene-user@jakarta.apache.org>
Subject: non-ASCII char search problem with nightly build (12 nov.)
Date: Tue, 13 Nov 2001 03:13:11 +0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4133.2400
X-MIMEOLE: Produced By Microsoft MimeOLE V5.50.4133.2400
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi!
I am trying to use Lucene with russian texts. I created an index of xml
documents (UTF-8 encoded), but when I am trying to search an index with a
query from a servlet, it seems, that Lucene just finds nothing (though I am
SURE it MUST find a term). Search string is reencoded to UTF-8 too, so I do
not know what to do... If I search this index with english letters - it
works as it should (there are mixed chracters in xml files). Could anybody
help me? Please, note, I use latest nightly build (12 nov) - it claims to
have non-ASCII search ability :(

P.S. maybe, I must reindex docs with this new version?

Phil


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-308-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Nov 12 23:18:44 2001
Return-Path: <lucene-user-return-308-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 51353 invoked from network); 12 Nov 2001 23:18:44 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 12 Nov 2001 23:18:44 -0000
Received: (qmail 7659 invoked by uid 97); 12 Nov 2001 23:18:49 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 7643 invoked by uid 97); 12 Nov 2001 23:18:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7632 invoked from network); 12 Nov 2001 23:18:47 -0000
Message-ID: <3BF058AA.1020002@e-point.pl>
Date: Tue, 13 Nov 2001 00:18:02 +0100
From: Andrzej Jarmoniuk <andrzej.jarmoniuk@e-point.pl>
Reply-To: a.jarmoniuk@elka.pw.edu.pl
User-Agent: Mozilla/5.0 (Windows; U; Win98; en-US; rv:0.9.5) Gecko/20011011
X-Accept-Language: pl, en-us
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: non-ASCII char search problem with nightly build (12 nov.)
References: <001001c16bc7$4129d8d0$0100a8c0@medusa>
Content-Type: text/plain; charset=ISO-8859-2; format=flowed
Content-Transfer-Encoding: 7bit
X-Scanner: exiscan *163Pqt-0007ny-00*KOvXbTbNYjQ* http://duncanthrax.net/exiscan/
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Philipp Chudinov wrote:

>Hi!
>I am trying to use Lucene with russian texts. I created an index of xml
>documents (UTF-8 encoded), but when I am trying to search an index with a
>query from a servlet, it seems, that Lucene just finds nothing (though I am
>SURE it MUST find a term). Search string is reencoded to UTF-8 too, so I do
>not know what to do... If I search this index with english letters - it
>works as it should (there are mixed chracters in xml files). Could anybody
>help me? Please, note, I use latest nightly build (12 nov) - it claims to
>have non-ASCII search ability :(
>
The problem probably lies in the QueryParser class, as it takes only the 
less significant bytes of the characters given in the query. I had a 
very similar problem with querying for polish strings, as they contain 
characters, that are composed from two bytes in the UTF-8. Also, the 
chars that appeared in the polish alphabet were not contained in the 
grammar definition that the query parser accepted.

The solution I had developed is to modify the original grammar 
definition so that it accepts the non-english characters. Also, the 
grammar must not contain the less significant bytes of the accepted 
characters in the term delimeters list.

This was posted as a bug description in the old Lucene site, but as the 
search engine had moved to Jakarta, all old bugs had gone.

If you want the modified grammar as an example, or if you want further 
guidance, feel free to mail me at: andrzej.jarmoniuk@e-point.pl

Andrzej Jarmoniuk
Internet Developer
E-Point S.A.


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-309-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Nov 12 23:43:49 2001
Return-Path: <lucene-user-return-309-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 60877 invoked from network); 12 Nov 2001 23:43:49 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 12 Nov 2001 23:43:49 -0000
Received: (qmail 21535 invoked by uid 97); 12 Nov 2001 23:43:54 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 21519 invoked by uid 97); 12 Nov 2001 23:43:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 21508 invoked from network); 12 Nov 2001 23:43:53 -0000
Message-Id: <5.1.0.14.2.20011112154224.021362d0@pop.quiotix.com>
X-Sender: popbrian@pop.quiotix.com
X-Mailer: QUALCOMM Windows Eudora Version 5.1
Date: Mon, 12 Nov 2001 15:43:52 -0800
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
From: Brian Goetz <brian@quiotix.com>
Subject: Re: non-ASCII char search problem with nightly build (12 nov.)
In-Reply-To: <3BF058AA.1020002@e-point.pl>
References: <001001c16bc7$4129d8d0$0100a8c0@medusa>
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"; format=flowed
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


>The problem probably lies in the QueryParser class, as it takes only the 
>less significant bytes of the characters given in the query.

Are you sure of that?  I recently switched from using the standard JavaCC 
AsciiCharStream implementation, to using Doug's FastCharStream 
implementation, which should accept two-byte characters.  Are you sure 
you're using the current version?

>I had a very similar problem with querying for polish strings, as they 
>contain characters, that are composed from two bytes in the UTF-8. Also, 
>the chars that appeared in the polish alphabet were not contained in the 
>grammar definition that the query parser accepted.

There are definitely recent fixes for that -- are you sure you're using the 
current version?



--
Brian Goetz
Quiotix Corporation
brian@quiotix.com           Tel: 650-843-1300            Fax: 650-324-8032

http://www.quiotix.com


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-310-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Nov 13 00:08:43 2001
Return-Path: <lucene-user-return-310-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 69475 invoked from network); 13 Nov 2001 00:08:43 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 13 Nov 2001 00:08:43 -0000
Received: (qmail 7369 invoked by uid 97); 13 Nov 2001 00:08:49 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 7353 invoked by uid 97); 13 Nov 2001 00:08:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7342 invoked from network); 13 Nov 2001 00:08:47 -0000
Message-ID: <006d01c16bd7$3471f9f0$0100a8c0@medusa>
From: "Philipp Chudinov" <morpheus@basko.ru>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <001001c16bc7$4129d8d0$0100a8c0@medusa> <3BF058AA.1020002@e-point.pl>
Subject: Re: non-ASCII char search problem with nightly build (12 nov.)
Date: Tue, 13 Nov 2001 05:07:24 +0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4133.2400
X-MIMEOLE: Produced By Microsoft MimeOLE V5.50.4133.2400
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Additional question: in QueryParser.jj beginning at strings #258-259 there
is a unicode symbol range ("\u0080"-"\uFFFE"). I understand that Lucene can
search an index with unicode symbols in this range, right? So, question.
Russian (Cyrillic) symbols in unicode table are in this range: u\0401 -
u\04F9 (I took this from Character Map app at system tools on W2K). Does
cyrillic range feets original QP.jj range?


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-311-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Nov 13 01:34:27 2001
Return-Path: <lucene-user-return-311-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 18086 invoked from network); 13 Nov 2001 01:34:27 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 13 Nov 2001 01:34:27 -0000
Received: (qmail 24745 invoked by uid 97); 13 Nov 2001 01:34:35 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 24735 invoked by uid 97); 13 Nov 2001 01:34:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4612 invoked from network); 12 Nov 2001 20:57:26 -0000
Date: Mon, 12 Nov 2001 12:57:24 -0800
From: Brian Goetz <brian@quiotix.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Memory Usage?
Message-ID: <20011112125724.A3055@lx.quiotix.com>
References: <4BC270C6AB8AD411AD0B00B0D0493DF0D78A22@mail.grandcentral.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.2.5i
In-Reply-To: <4BC270C6AB8AD411AD0B00B0D0493DF0D78A22@mail.grandcentral.com>; from DCutting@grandcentral.com on Mon, Nov 12, 2001 at 08:41:22AM -0800
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> This was a single query?  How many terms, and of what type are in the query?
> >From the trace it looks like there could be over 40,000 terms in the query!
> Is this a prefix or wildcard query?  These can generate *very* large
> queries...

I think the fact that prefix / wildcard queries can generate such
nasty huge queries is a good reason to consider taking the Foo* syntax
out of the query parser.  I realize that its cool, and there are some
people who probably rely on it already, but it seems that the prefix
query is in the category of "professional driver, don't try this at
home" and therefore should be kept behind the locked cabinet where
ordinary shoppers won't take it home by accident (to mix some
metaphors horribly.)

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-312-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Nov 13 01:36:45 2001
Return-Path: <lucene-user-return-312-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 18890 invoked from network); 13 Nov 2001 01:36:44 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 13 Nov 2001 01:36:44 -0000
Received: (qmail 26380 invoked by uid 97); 13 Nov 2001 01:36:52 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 26364 invoked by uid 97); 13 Nov 2001 01:36:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26353 invoked from network); 13 Nov 2001 01:36:51 -0000
Message-ID: <009d01c16be3$ca506860$0b01a8c0@168.1.8.Domainrelevanz>
From: "Kelvin Tan" <kelvin@relevanz.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <OIEGKMALPHPCCJMBEKDMGEBOCBAA.dave.kor@nexusedge.com><009e01c16b67$ec0468c0$0b01a8c0@168.1.8.Domainrelevanz> <013501c16b7e$91598920$0b01a8c0@168.1.8.Domainrelevanz> <1005574359.23990.8.camel@murphy.granta.internal>
Subject: Re: Recommended way of performing multi-field searches
Date: Tue, 13 Nov 2001 09:37:42 +0800
Organization: Relevanz Pte Ltd
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----=_NextPart_000_009A_01C16C26.D7D4F760"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.00.2615.200
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2615.200
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_009A_01C16C26.D7D4F760
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit

Here it is.

Feedback is most welcome.

Regards,
Kelvin
----- Original Message -----
From: Lee Mallabone <lee@grantadesign.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Sent: Monday, November 12, 2001 10:12 PM
Subject: Re: Recommended way of performing multi-field searches


> On Mon, 2001-11-12 at 13:33, Kelvin Tan wrote:
> > If anyone's interested, I'd be happy to donate the code.
>
> Sounds cool - at the moment I just construct a string as some people
> suggested, but it's less than elegant. Your solution sounds like a big
> improvement.
>
> Regards,
>
> --
> Lee Mallabone
>
>
> --
> To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>
>
>

------=_NextPart_000_009A_01C16C26.D7D4F760
Content-Type: application/octet-stream;
	name="MultiFieldQueryParser.java"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: attachment;
	filename="MultiFieldQueryParser.java"

/*
    A QueryParser which handles searching on multiple fields.
    Copyright (C) 2001  Kelvin Tan

    This library is free software; you can redistribute it and/or
    modify it under the terms of the GNU Lesser General Public
    License as published by the Free Software Foundation; either
    version 2.1 of the License, or (at your option) any later version.

    This library is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
    Lesser General Public License for more details.

    You should have received a copy of the GNU Lesser General Public
    License along with this library; if not, write to the Free Software
    Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307 =
 USA
*/

import org.apache.lucene.analysis.Analyzer;
import org.apache.lucene.queryParser.ParseException;
import org.apache.lucene.queryParser.QueryParser;
import org.apache.lucene.queryParser.QueryParserTokenManager;
import org.apache.lucene.search.BooleanQuery;
import org.apache.lucene.search.Query;

import java.io.InputStream;
import java.io.Reader;

/**
 * A QueryParser which searches multiple fields.
 *
 * @author <a href=3D"mailto:kelvin@relevanz.com">Kelvin Tan</a>
 * @version $Revision: 1.1 $
 */
public class MultiFieldQueryParser extends QueryParser
{
    public static final int NORMAL_FIELD =3D 0;
    public static final int REQUIRED_FIELD =3D 1;
    public static final int PROHIBITED_FIELD =3D 2;

    public MultiFieldQueryParser(InputStream stream)
    {
        super(stream);
    }

    public MultiFieldQueryParser(QueryParserTokenManager tm)
    {
        super(tm);
    }

    public MultiFieldQueryParser(Reader stream)
    {
        super(stream);
    }

    public MultiFieldQueryParser(String f, Analyzer a)
    {
        super(f, a);
    }

    /**
     * <p>
     * Parses a query, searching on the fields specified.
     * <p>
     * If x fields are specified, this effectively constructs:
     * <pre>
     * <code>
     * ({field1}:{query}) ({field2}:{query}) =
({field3}:{query})...({fieldx}:{query})
     * </code>
     * </pre>
     *
     * @param query Query string to parse
     * @param fields Fields to search on
     * @param analyzer Analyzer to use
     */
    public static Query parse(String query, String[] fields, Analyzer =
analyzer) throws ParseException
    {
        BooleanQuery bQuery =3D new BooleanQuery();
        for (int i =3D 0; i < fields.length; i++)
        {
            Query q =3D parse(query, fields[i], analyzer);
            bQuery.add(q, false, false);
        }
        return bQuery;
    }

    /**
     * <p>
     * Parses a query, searching on the fields specified.
     * Use this if you need to specify certain fields as required,
     * and others as prohibited.
     * <p><pre>
     * Usage:
     * <code>
     * String[] fields =3D {"filename", "contents", "description"};
     * int[] flags =3D {MultiFieldQueryParser.NORMAL_FIELD,
     *                MultiFieldQueryParser.REQUIRED_FIELD,
     *                MultiFieldQueryParser.PROHIBITED_FIELD,};
     * parse(query, fields, flags, analyzer);
     * </code>
     * </pre>
     *<p>
     * The code above would construct a query:
     * <pre>
     * <code>
     * (filename:{query}) +(contents:{query}) -(description:{query})
     * </code>
     * </pre>
     *
     * @param query Query string to parse
     * @param fields Fields to search on
     * @param flags Flags describing the fields
     * @param analyzer Analyzer to use
     */
    public static Query parse(String query, String[] fields, int[] =
flags, Analyzer analyzer) throws ParseException
    {
        BooleanQuery bQuery =3D new BooleanQuery();
        for (int i =3D 0; i < fields.length; i++)
        {
            Query q =3D parse(query, fields[i], analyzer);
            int flag =3D flags[i];
            switch (flag)
            {
            case NORMAL_FIELD:
                bQuery.add(q, false, false);break;
            case REQUIRED_FIELD:
                bQuery.add(q, true, false);break;
            case PROHIBITED_FIELD:
                bQuery.add(q, false, true);break;
            }
        }
        return bQuery;
    }
}


------=_NextPart_000_009A_01C16C26.D7D4F760
Content-Type: text/plain; charset=us-ascii

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>
------=_NextPart_000_009A_01C16C26.D7D4F760--


From lucene-user-return-313-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Nov 13 07:28:30 2001
Return-Path: <lucene-user-return-313-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 44913 invoked from network); 13 Nov 2001 07:28:30 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 13 Nov 2001 07:28:30 -0000
Received: (qmail 12162 invoked by uid 97); 13 Nov 2001 07:28:41 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 12132 invoked by uid 97); 13 Nov 2001 07:28:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 12121 invoked from network); 13 Nov 2001 07:28:38 -0000
From: carlson@bookandhammer.com
Errors-To: <carlson@bookandhammer.com>
Date: Mon, 12 Nov 2001 23:28:23 -0800
Subject: Re: Memory Usage?
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v472)
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <20011112125724.A3055@lx.quiotix.com>
Message-Id: <05044AA0-D808-11D5-A93B-0050E4C0B243@bookandhammer.com>
X-Mailer: Apple Mail (2.472)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Since this is changing behavior that people are depending on, what about 
creating a new QueryParser called QueryParserSafe that excludes option.
I don't like the idea of removing functionality with no backward 
compatibility.

Any thoughts.

--Peter


On Monday, November 12, 2001, at 12:57 PM, Brian Goetz wrote:

>> This was a single query?  How many terms, and of what type are in the 
>> query?
>>> From the trace it looks like there could be over 40,000 terms in the 
>>> query!
>> Is this a prefix or wildcard query?  These can generate *very* large
>> queries...
>
> I think the fact that prefix / wildcard queries can generate such
> nasty huge queries is a good reason to consider taking the Foo* syntax
> out of the query parser.  I realize that its cool, and there are some
> people who probably rely on it already, but it seems that the prefix
> query is in the category of "professional driver, don't try this at
> home" and therefore should be kept behind the locked cabinet where
> ordinary shoppers won't take it home by accident (to mix some
> metaphors horribly.)
>
> --
> To unsubscribe, e-mail:   <mailto:lucene-user-
> unsubscribe@jakarta.apache.org>
> For additional commands, e-mail: <mailto:lucene-user-
> help@jakarta.apache.org>
>
>


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-314-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Nov 13 09:27:20 2001
Return-Path: <lucene-user-return-314-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 96073 invoked from network); 13 Nov 2001 09:27:20 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 13 Nov 2001 09:27:20 -0000
Received: (qmail 22896 invoked by uid 97); 13 Nov 2001 09:27:32 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 22822 invoked by uid 97); 13 Nov 2001 09:27:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22809 invoked from network); 13 Nov 2001 09:27:30 -0000
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C16C25.6280481A"
X-MimeOLE: Produced By Microsoft Exchange V6.0.4417.0
Subject: RE: Memory Usage?
Date: Tue, 13 Nov 2001 10:27:16 +0100
Message-ID: <50EA669584662B498F13A5F24630A0C01BAC87@peach.mnet.private>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Memory Usage?
Thread-Index: AcFsGPVIaViJs7GHRVeJt09pUwIUkwACiVTA
From: =?iso-8859-2?Q?Hal=E1csy_P=E9ter?= <halacsy.peter@axelero.com>
To: "Lucene Developers List" <lucene-dev@jakarta.apache.org>,
   "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C16C25.6280481A
Content-Type: text/plain;
	charset="iso-8859-2"
Content-Transfer-Encoding: quoted-printable



> -----Original Message-----
> From: Brian Goetz [mailto:brian@quiotix.com]
> Sent: Tuesday, November 13, 2001 8:58 AM
> To: Lucene Users List
> Cc: lucene-dev@jakarta.apache.org
> Subject: Re: Memory Usage?
>=20
>=20
> > Since this is changing behavior that people are depending=20
> on, what about=20
> > creating a new QueryParser called QueryParserSafe that=20
> excludes option.
> > I don't like the idea of removing functionality with no backward=20
> > compatibility.
>=20
> I knew this was coming. =20
>=20
> I'm sorry, but I have to laugh just a little bit.  The new query
> parser has only existed for less than two months -- and people have
> built empires based on it?  I'm perfectly willing to debate whether
> its a good idea or not to remove the wildcard match syntax from the
> query parser, but I think the "backward compatibility" argument is one
> of the less compelling arguments against doing so.  Bear in mind that
> no one is suggesting removing the functionality from the core -- just
> restricting its use to programmatically generated queries.  A strong
> argument can be made for not exposing the "don't try this at home"
> behavior through an interface that is bound to be used by naive
> end-users.
>=20

How about this:
"You must have at least four non-wildcard characters in a word before
you introduce a wildcard."  (source:
http://www.northernlight.com/docs/search_help_optimize.html)

I think the best approach would be to have a parameter (of query
parser?, of indexsearcher?) to set the minimal non wild-char characters
before any wildchar.

peter


------_=_NextPart_001_01C16C25.6280481A--

From lucene-user-return-315-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Nov 13 12:21:01 2001
Return-Path: <lucene-user-return-315-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 69268 invoked from network); 13 Nov 2001 12:21:01 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 13 Nov 2001 12:21:01 -0000
Received: (qmail 3456 invoked by uid 97); 13 Nov 2001 12:21:01 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 3440 invoked by uid 97); 13 Nov 2001 12:21:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3429 invoked from network); 13 Nov 2001 12:21:00 -0000
Message-ID: <86F21E9558CE6F429B2D0AEB9820F1B82F2F44@S1001EXM01.macromedia.com>
From: Paul Friedman <pfriedman@macromedia.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Parser error using Nov.11 nightly build
Date: Tue, 13 Nov 2001 07:20:58 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C16C3D.A6592C7C"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C16C3D.A6592C7C
Content-Type: text/plain;
	charset="iso-8859-1"

Does anybody know if this is a bug, and if so, is it being fixed?
 
Thanks.
Paul

-----Original Message-----
From: Paul Friedman [mailto:pfriedman@macromedia.com]
Sent: Monday, November 12, 2001 10:37 AM
To: 'lucene-user@jakarta.apache.org'
Subject: Parser error using Nov.11 nightly build


Parsing a query string that contains a "." in the field name throws an error using the Nov. 11 nightly build.  It worked fine using RC2 build.  I have attached a test case.  This is a pretty big issue for my project as field names often have "." in them.
 
D:\Dev\Test Tools\lucene>java -cp %CLASSPATH%;.\ ParseTest
Exception in thread "main" org.apache.lucene.queryParser.TokenMgrError: Lexical error at line 1, column 9.  Encountered: "." (46), after : ""
        at org.apache.lucene.queryParser.QueryParserTokenManager.getNextToken(Unknown Source)
        at org.apache.lucene.queryParser.QueryParser.jj_scan_token(Unknown Source)
        at org.apache.lucene.queryParser.QueryParser.jj_3_1(Unknown Source)
        at org.apache.lucene.queryParser.QueryParser.jj_2_1(Unknown Source)
        at org.apache.lucene.queryParser.QueryParser.Clause(Unknown Source)
        at org.apache.lucene.queryParser.QueryParser.Query(Unknown Source)
        at org.apache.lucene.queryParser.QueryParser.parse(Unknown Source)
        at org.apache.lucene.queryParser.QueryParser.parse(Unknown Source)
        at ParseTest.main(ParseTest.java:16)
 
Thanks.
Paul


------_=_NextPart_001_01C16C3D.A6592C7C--

From lucene-user-return-316-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Nov 13 13:04:29 2001
Return-Path: <lucene-user-return-316-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 95975 invoked from network); 13 Nov 2001 13:04:29 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 13 Nov 2001 13:04:29 -0000
Received: (qmail 11563 invoked by uid 97); 13 Nov 2001 13:04:28 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 11529 invoked by uid 97); 13 Nov 2001 13:04:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11510 invoked from network); 13 Nov 2001 13:04:26 -0000
From: "Mikael Andersson" <mikael@daddy.se>
To: <lucene-user@jakarta.apache.org>
Subject: FW: national characters
Date: Tue, 13 Nov 2001 14:03:50 +0100
Message-ID: <003401c16c43$a4882900$f1b295c3@mikael3>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


If I use a swedish national character as the first character of
a search term, for example:

=F6l

(which is beer in Swedish :)) I get the following error:

com.lucene.queryParser.TokenMgrError: Lexical error at line 1, column 1.
 Encountered: "\u00f6" (246), after : ""
	at java.lang.Throwable.fillInStackTrace(Native Method)
	at java.lang.Throwable.fillInStackTrace(Compiled Code)
	at java.lang.Throwable.<init>(Compiled Code)
	at java.lang.Error.<init>(Error.java:50)
	at
com.lucene.queryParser.TokenMgrError.<init>(TokenMgrError.java:126)

If I do the same search again but within quotations like below:

"=F6l"

...it works perfectly.

If I use Swedish characters after the first character it also works.

Lucene version is 1.2rc2 and standard Analysers etc. Is swedish a
supported
language ? If so, where can I find the appropriate classes ?

Any help would be greatly appreciated!

I noticed the same problem on bybdylan.com, to see the complete
stacktrace
follow the link below.
=20
http://search.bobdylan.com/lyricsearch/searchResults.jsp?doSearch=3Dtrue&=
q
=3D%F6l&range=3D50

Rgds/ Mikael



--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-317-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Nov 13 13:06:45 2001
Return-Path: <lucene-user-return-317-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 96344 invoked from network); 13 Nov 2001 13:06:45 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 13 Nov 2001 13:06:45 -0000
Received: (qmail 12328 invoked by uid 97); 13 Nov 2001 13:06:44 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 12312 invoked by uid 97); 13 Nov 2001 13:06:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 12301 invoked from network); 13 Nov 2001 13:06:43 -0000
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C16C44.090A05CB"
X-MimeOLE: Produced By Microsoft Exchange V6.0.4417.0
Subject: RE: national characters
Date: Tue, 13 Nov 2001 14:06:40 +0100
Message-ID: <50EA669584662B498F13A5F24630A0C0DB12C3@peach.mnet.private>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: national characters
Thread-Index: AcFsQ8BsSZ5He3JiTtmMDUap5w6h2wAAPISw
From: =?iso-8859-1?Q?Hal=E1csy_P=E9ter?= <halacsy.peter@axelero.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C16C44.090A05CB
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable


> -----Original Message-----
> From: Mikael Andersson [mailto:mikael@daddy.se]
> Sent: Tuesday, November 13, 2001 2:04 PM
> To: lucene-user@jakarta.apache.org
> Subject: FW: national characters
>=20
>=20
>=20
> If I use a swedish national character as the first character of
> a search term, for example:
>=20
> =F6l
>=20
> (which is beer in Swedish :)) I get the following error:

use the nightly builds. this bug's been fixed for a couple of days
peter


------_=_NextPart_001_01C16C44.090A05CB--

From lucene-user-return-318-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Nov 13 13:30:58 2001
Return-Path: <lucene-user-return-318-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 11136 invoked from network); 13 Nov 2001 13:30:58 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 13 Nov 2001 13:30:58 -0000
Received: (qmail 27325 invoked by uid 97); 13 Nov 2001 13:30:58 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 27309 invoked by uid 97); 13 Nov 2001 13:30:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 27298 invoked from network); 13 Nov 2001 13:30:57 -0000
From: "Anders Nielsen" <anders@visator.dk>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: Memory Usage?
Date: Tue, 13 Nov 2001 14:30:30 +0100
Message-ID: <NJEPIMGJMJELKKFFHINCCENMCKAA.anders@visator.dk>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
In-reply-to: <4BC270C6AB8AD411AD0B00B0D0493DF0EE7CFF@mail.grandcentral.com>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

oh, Im sorry.. I was searching through an index of about 50.000. I have no
deleted entries.

With the files you sent out I got 4 hits, with the old lucene.jar file I got
8.

I'll try to investigate further which hits that doesn't show up and why.



Venlig hilsen

regards,
Anders Nielsen


-----Original Message-----
From: Doug Cutting [mailto:DCutting@grandcentral.com]
Sent: 12. november 2001 22:53
To: 'Lucene Users List'
Subject: RE: Memory Usage?


> From: Anders Nielsen [mailto:anders@visator.dk]
>
> hmm, I seem to be getting a different number of hits when I
> use the files
> you sent out.

Please provide more information!  Is it larger or smaller than before?  By
how much?  What differences show up in the hits?  That's a terrible bug
report...

I think before it may have been possible to get a spurious hit if a query
term only occurred in deleted documents.  A wildcard query with 40,000 terms
might make this sort of thing happen more often, and unless you tried to
access the Hits.doc() for such a hit, you would not see an error.  If this
was in fact a problem, the code I just sent out would have fixed it.  So
your results may in fact be better.  Or there may be a bug in what I sent.
Or both!

For the cases I have tried I get the same results with and without those
changes.

Doug

--
To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>



--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-319-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Nov 13 17:21:45 2001
Return-Path: <lucene-user-return-319-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 94164 invoked from network); 13 Nov 2001 17:21:45 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 13 Nov 2001 17:21:45 -0000
Received: (qmail 390 invoked by uid 97); 13 Nov 2001 17:21:34 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 373 invoked by uid 97); 13 Nov 2001 17:21:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 357 invoked from network); 13 Nov 2001 17:21:32 -0000
X-Authentication-Warning: bitbang.com: Host p107.bit-bang.com [192.168.0.107] claimed to be Zurich
Message-ID: <000d01c16c68$09705580$6b00a8c0@Zurich>
Reply-To: "David Bonilla" <david@bit-bang.com>
From: "David Bonilla" <david@bit-bang.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <003401c16c43$a4882900$f1b295c3@mikael3>
Subject: Lucene and the numbers (again!)
Date: Tue, 13 Nov 2001 18:24:19 +0100
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_000A_01C16C70.68D60D00"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.00.2919.6700
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2919.6700
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_000A_01C16C70.68D60D00
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Dear mates :

Yeah I know that i=B4m not very original and maybe the FAQ can resolve =
my problems but I didn=B4t find any real help there. Ok... here we go :

The problem is... I have a J2EE application working with LUCENE and the =
basic searching works properly but when I try to use a query with a =
number, Lucene gives me back all my indexed documents and I don=B4t =
understand why.

I=B4m using the SimpleAnalyzer. If I have for example a document with a =
field named "name". How can I search for example a name like '456' ?

Thank U for your help and advice !!!

__________________________
David Bonilla Fuertes
THE BIT BANG NETWORK
http://www.bit-bang.com
Profesor Waksman, 8, 6=BA B
28036 Madrid
SPAIN
Tel.: (+34) 914 577 747
M=F3vil: 656 62 83 92
Fax: (+34) 914 586 176
__________________________
=20
=20

------=_NextPart_000_000A_01C16C70.68D60D00--


From lucene-user-return-320-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Nov 13 17:23:58 2001
Return-Path: <lucene-user-return-320-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 96157 invoked from network); 13 Nov 2001 17:23:57 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 13 Nov 2001 17:23:57 -0000
Received: (qmail 1280 invoked by uid 97); 13 Nov 2001 17:24:00 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 1264 invoked by uid 97); 13 Nov 2001 17:24:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1253 invoked from network); 13 Nov 2001 17:23:59 -0000
Subject: bug with phrase searching
From: Lee Mallabone <lee@grantadesign.com>
To: lucene-user@jakarta.apache.org
Content-Type: text/plain
Content-Transfer-Encoding: 7bit
X-Mailer: Evolution/0.99.0 (Preview Release)
Date: 13 Nov 2001 17:21:20 +0000
Message-Id: <1005672080.30823.5.camel@murphy.granta.internal>
Mime-Version: 1.0
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

If I index a document with Lucene that contains the phrase "metal or
alloy" using the StopAnalyzer, then when I do a phrase search on just
"metal alloy", the document is a valid hit.

I'm assuming this is because 'or' is a stop word so isn't indexed, as
the slop is still set to 0. Shouldn't the fact that those two tokens are
not a phrase be recorded? Is the current behaviour intended? I consider
it a bug, but am unsure how to go about fixing it...

Regards,

-- 
Lee Mallabone


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-321-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Nov 13 17:25:07 2001
Return-Path: <lucene-user-return-321-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 98037 invoked from network); 13 Nov 2001 17:25:07 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 13 Nov 2001 17:25:07 -0000
Received: (qmail 2050 invoked by uid 97); 13 Nov 2001 17:25:09 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 2031 invoked by uid 97); 13 Nov 2001 17:25:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 2006 invoked from network); 13 Nov 2001 17:25:07 -0000
From: "Mikael Andersson" <mikael@daddy.se>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: national characters
Date: Tue, 13 Nov 2001 18:24:12 +0100
Message-ID: <004901c16c68$04035390$f1b295c3@mikael3>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Importance: Normal
In-Reply-To: <50EA669584662B498F13A5F24630A0C0DB12C3@peach.mnet.private>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Thanks that solved our problem!

But now another problem appeared (which wasn't there before the
upgrade to the nightly build of 11-13), before I could search
on for instance:

imageid:113*

which resulted in all images starting with no 113, very nice :)

But now I get the following error:

Error 500: Lexical error at line 1, column 6. Encountered: <EOF> after :
""

If I'm searching on the whole image id it works great.

Thanks / M



-----Original Message-----
From: Hal=E1csy P=E9ter [mailto:halacsy.peter@axelero.com]=20
Sent: den 13 november 2001 14:07
To: Lucene Users List
Subject: RE: national characters


> -----Original Message-----
> From: Mikael Andersson [mailto:mikael@daddy.se]
> Sent: Tuesday, November 13, 2001 2:04 PM
> To: lucene-user@jakarta.apache.org
> Subject: FW: national characters
>=20
>=20
>=20
> If I use a swedish national character as the first character of
> a search term, for example:
>=20
> =F6l
>=20
> (which is beer in Swedish :)) I get the following error:

use the nightly builds. this bug's been fixed for a couple of days
peter



--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-322-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Nov 13 21:01:25 2001
Return-Path: <lucene-user-return-322-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 77271 invoked from network); 13 Nov 2001 21:01:25 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 13 Nov 2001 21:01:25 -0000
Received: (qmail 8009 invoked by uid 97); 13 Nov 2001 21:01:30 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 7993 invoked by uid 97); 13 Nov 2001 21:01:29 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7969 invoked from network); 13 Nov 2001 21:01:29 -0000
Subject: Re: Lucene and the numbers (again!)
In-Reply-To: <000d01c16c68$09705580$6b00a8c0@Zurich> "from David Bonilla at Nov
 13, 2001 06:24:19 pm"
To: Lucene Users List <lucene-user@jakarta.apache.org>,
	David Bonilla <david@bit-bang.com>
Date: Tue, 13 Nov 2001 14:07:00 -0500 (EST)
X-Mailer: ELM [version 2.4ME+ PL89 (25)]
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset=US-ASCII
Message-Id: <20011113190700.038E83C1B1@darksleep.com>
From: puffmail@darksleep.com (Steven J. Owens)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

David,


> Yeah I know that i?m not very original and maybe the FAQ can resolve
> my problems but I didn?t find any real help there. Ok... here we go:

     This is indeed a FAQ, and it also comes up often on the list, if
you check the archives.

     Come to think of it, where *are* the archives now?  I'm looking
at http://www.mail-archive.com/ and I don't see the more recent
(post-move-to-jakarta) postings there.  The archive seems to end on
October 5th.  Are we using a new archive now?  Are the messages from
the old archive there?

> The problem is... I have a J2EE application working with LUCENE and
> the basic searching works properly but when I try to use a query
> with a number, Lucene gives me back all my indexed documents and I
> don?t understand why.
>
> I?m using the SimpleAnalyzer. If I have for example a document with
> a field named "name". How can I search for example a name like '456'?

     If you look into... hm, well, I was going to say if you look into
the API docs, but it's not that simple.  I remember somebody in the
past saying (on this list) to simply use StandardAnalyzer instead of
StopAnalyzer.  I don't know if this works (I'll have to take time
later this afternoon and check the source code - this is one of the
things that's been on my to-do list for a month or so, but I've been
preoccupied with other areas of my project).

     I guess I should note the following details:

StandardAnalyzer is not listed in the "Package
org.apache.lucene.analysis" page of the API docs (from the
lucene-1.2-rc2 checkout), just SimpleAnalyzer and StopAnalyzer.

When I track down the API docs for StandardAnalyzer and compare them,
neither StandardAnalyzer or StopAnalyzer says anything about numbers.

Nor do StandardFilter or StopFilter mention numbers.

Searching for "numeric" turns up nothing, searching for "number" turns
up:

"27. How does Lucene handle numbers and special characters ?

This depends of the analyzer you are using for indexing an searching."



     I checked out the Lucene FAQ source in the past,with the intent
of going through it and checking for typos, etc, as a good way to
force myself to read it all as well as contributing something back to
Lucene.  I think that was from the pre-jakarta days, I should probably
get a fresh, jakarta-based checkout.  Is all of that stuff still in
the "website" checkout?

Steven J. Owens
puff@darksleep.com


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-323-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Nov 13 21:16:49 2001
Return-Path: <lucene-user-return-323-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 84987 invoked from network); 13 Nov 2001 21:16:49 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 13 Nov 2001 21:16:49 -0000
Received: (qmail 21787 invoked by uid 97); 13 Nov 2001 21:16:48 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 21557 invoked by uid 97); 13 Nov 2001 21:16:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 21535 invoked from network); 13 Nov 2001 21:16:45 -0000
X-MimeOLE: Produced By Microsoft Exchange V6.0.4712.0
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Subject: "where are the archives" - RE: Lucene and the numbers (again!)
Date: Tue, 13 Nov 2001 13:16:45 -0800
Message-ID: <728DA21B8941A843A7C496F1ACF485189ADEF1@gleam.lumos.com>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Lucene and the numbers (again!)
Thread-Index: AcFsh545YZCpwPcgSZ6UeJGFJ1sf/QAALRiA
From: "Spencer, Dave" <dave@lumos.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
	"David Bonilla" <david@bit-bang.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


At times these seem out of date.
The most recent one on the dev list seems to be Nov 4.
Time warp?

http://www.mail-archive.com/lucene-user@jakarta.apache.org/
http://www.mail-archive.com/lucene-dev@jakarta.apache.org/



-----Original Message-----
From: Steven J. Owens [mailto:puffmail@darksleep.com]
Sent: Tuesday, November 13, 2001 11:07 AM
To: Lucene Users List; David Bonilla
Subject: Re: Lucene and the numbers (again!)


David,


> Yeah I know that i?m not very original and maybe the FAQ can resolve
> my problems but I didn?t find any real help there. Ok... here we go:

     This is indeed a FAQ, and it also comes up often on the list, if
you check the archives.

     Come to think of it, where *are* the archives now?  I'm looking
at http://www.mail-archive.com/ and I don't see the more recent
(post-move-to-jakarta) postings there.  The archive seems to end on
October 5th.  Are we using a new archive now?  Are the messages from
the old archive there?

> The problem is... I have a J2EE application working with LUCENE and
> the basic searching works properly but when I try to use a query
> with a number, Lucene gives me back all my indexed documents and I
> don?t understand why.
>
> I?m using the SimpleAnalyzer. If I have for example a document with
> a field named "name". How can I search for example a name like '456'?

     If you look into... hm, well, I was going to say if you look into
the API docs, but it's not that simple.  I remember somebody in the
past saying (on this list) to simply use StandardAnalyzer instead of
StopAnalyzer.  I don't know if this works (I'll have to take time
later this afternoon and check the source code - this is one of the
things that's been on my to-do list for a month or so, but I've been
preoccupied with other areas of my project).

     I guess I should note the following details:

StandardAnalyzer is not listed in the "Package
org.apache.lucene.analysis" page of the API docs (from the
lucene-1.2-rc2 checkout), just SimpleAnalyzer and StopAnalyzer.

When I track down the API docs for StandardAnalyzer and compare them,
neither StandardAnalyzer or StopAnalyzer says anything about numbers.

Nor do StandardFilter or StopFilter mention numbers.

Searching for "numeric" turns up nothing, searching for "number" turns
up:

"27. How does Lucene handle numbers and special characters ?

This depends of the analyzer you are using for indexing an searching."



     I checked out the Lucene FAQ source in the past,with the intent
of going through it and checking for typos, etc, as a good way to
force myself to read it all as well as contributing something back to
Lucene.  I think that was from the pre-jakarta days, I should probably
get a fresh, jakarta-based checkout.  Is all of that stuff still in
the "website" checkout?

Steven J. Owens
puff@darksleep.com


--
To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-324-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Nov 13 21:23:54 2001
Return-Path: <lucene-user-return-324-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 91173 invoked from network); 13 Nov 2001 21:23:54 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 13 Nov 2001 21:23:54 -0000
Received: (qmail 29014 invoked by uid 97); 13 Nov 2001 21:23:44 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 28973 invoked by uid 97); 13 Nov 2001 21:23:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 28940 invoked from network); 13 Nov 2001 21:23:42 -0000
From: "David Esposito" <dvesposito@newnetco.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
   "David Bonilla" <david@bit-bang.com>
Subject: RE: Lucene and the numbers (again!)
Date: Tue, 13 Nov 2001 16:23:28 -0500
Message-ID: <PEEDKNLDICKECFBNGNLLIEFOCOAA.dvesposito@newnetco.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4522.1200
In-reply-to: <20011113190700.038E83C1B1@darksleep.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

FWIW, i had a similar problem a while back (wanting to index the "model #"
in my index and then let people that searched for model # get what they were
expecting ... ) ... So i had to stop using the stock LowerCaseTokenizer and
I made up my own (cutting and pasting all of the stuff from
LowerCaseTokenizer) ... minus the removal of numerics ...

My analyzer is:

public class PorterAnalyzer extends Analyzer
{
  public TokenStream tokenStream(Reader reader)
  {
    TokenStream stream = new PorterStemFilter(new StopFilter(new
LowerCaseNumericTokenizer(reader),StopAnalyzer.ENGLISH_STOP_WORDS));
  }
}

My tokenizer is as follows (still haven't recompiled with the jakarta
lucene):

package mypackage.index;
import java.io.Reader;
import com.lucene.analysis.Tokenizer;
import com.lucene.analysis.Token;

/* This class is identical to the com.lucene.analysis.LowerCaseTokenizer
 * class except that it will not trim off numbers
 */
public final class LowerCaseNumericTokenizer extends Tokenizer {
  public LowerCaseNumericTokenizer(Reader in) {
    input = in;
  }

  private int offset = 0, bufferIndex=0, dataLen=0;
  private final static int MAX_WORD_LEN = 255;
  private final static int IO_BUFFER_SIZE = 1024;
  private final char[] buffer = new char[MAX_WORD_LEN];
  private final char[] ioBuffer = new char[IO_BUFFER_SIZE];

  public final Token next() throws java.io.IOException {
    int length = 0;
    int start = offset;
    while (true)
    {
      final char c;

      offset++;
      if (bufferIndex >= dataLen)
      {
        dataLen = input.read(ioBuffer);
        bufferIndex = 0;
      };

      if (dataLen == -1)
      {
        if (length > 0)
          break;
        else
          return null;
      }
      else
        c = (char) ioBuffer[bufferIndex++];

      if (Character.isLetterOrDigit(c))
      {      // if it's a letter

        if (length == 0)        // start of token
          start = offset-1;

        buffer[length++] = Character.toLowerCase(c);
                                    // buffer it
        if (length == MAX_WORD_LEN)      // buffer overflow!
          break;

      }
      else if (length > 0)        // at non-Letter w/ chars
        break;            // return 'em

    }

    return new Token(new String(buffer, 0, length), start, start+length);
  }
}

> -----Original Message-----
> From: Steven J. Owens [mailto:puffmail@darksleep.com]
> Sent: Tuesday, November 13, 2001 2:07 PM
> To: Lucene Users List; David Bonilla
> Subject: Re: Lucene and the numbers (again!)
>
>
> David,
>
>
> > Yeah I know that i?m not very original and maybe the FAQ can resolve
> > my problems but I didn?t find any real help there. Ok... here we go:
>
>      This is indeed a FAQ, and it also comes up often on the list, if
> you check the archives.
>
>      Come to think of it, where *are* the archives now?  I'm looking
> at http://www.mail-archive.com/ and I don't see the more recent
> (post-move-to-jakarta) postings there.  The archive seems to end on
> October 5th.  Are we using a new archive now?  Are the messages from
> the old archive there?
>
> > The problem is... I have a J2EE application working with LUCENE and
> > the basic searching works properly but when I try to use a query
> > with a number, Lucene gives me back all my indexed documents and I
> > don?t understand why.
> >
> > I?m using the SimpleAnalyzer. If I have for example a document with
> > a field named "name". How can I search for example a name like '456'?
>
>      If you look into... hm, well, I was going to say if you look into
> the API docs, but it's not that simple.  I remember somebody in the
> past saying (on this list) to simply use StandardAnalyzer instead of
> StopAnalyzer.  I don't know if this works (I'll have to take time
> later this afternoon and check the source code - this is one of the
> things that's been on my to-do list for a month or so, but I've been
> preoccupied with other areas of my project).
>
>      I guess I should note the following details:
>
> StandardAnalyzer is not listed in the "Package
> org.apache.lucene.analysis" page of the API docs (from the
> lucene-1.2-rc2 checkout), just SimpleAnalyzer and StopAnalyzer.
>
> When I track down the API docs for StandardAnalyzer and compare them,
> neither StandardAnalyzer or StopAnalyzer says anything about numbers.
>
> Nor do StandardFilter or StopFilter mention numbers.
>
> Searching for "numeric" turns up nothing, searching for "number" turns
> up:
>
> "27. How does Lucene handle numbers and special characters ?
>
> This depends of the analyzer you are using for indexing an searching."
>
>
>
>      I checked out the Lucene FAQ source in the past,with the intent
> of going through it and checking for typos, etc, as a good way to
> force myself to read it all as well as contributing something back to
> Lucene.  I think that was from the pre-jakarta days, I should probably
> get a fresh, jakarta-based checkout.  Is all of that stuff still in
> the "website" checkout?
>
> Steven J. Owens
> puff@darksleep.com
>
>
> --
> To unsubscribe, e-mail:
> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
> <mailto:lucene-user-help@jakarta.apache.org>
>


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-325-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Nov 14 00:23:48 2001
Return-Path: <lucene-user-return-325-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 11565 invoked from network); 14 Nov 2001 00:23:47 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 14 Nov 2001 00:23:47 -0000
Received: (qmail 17951 invoked by uid 97); 14 Nov 2001 00:10:36 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 17472 invoked by uid 97); 14 Nov 2001 00:09:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17449 invoked from network); 14 Nov 2001 00:09:51 -0000
Date: Tue, 13 Nov 2001 16:13:59 -0800 (Pacific Standard Time)
From: Joshua O'Madadhain <jmadden@ics.uci.edu>
To: lucene-user@jakarta.apache.org
Subject: compiling example code
Message-ID: <Pine.WNT.4.21.0111131603290.-88445-100000@syzygy.reshsg.uci.edu>
X-X-Sender: jmadden@smtp.ics.uci.edu
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I am attempting to build the example code which is located in the 

\lucene-1.2-rc2\src\demo\org\apache\lucene

directory in the distribution.  Specifically, I'm trying to get
IndexFiles.java, SearchFiles.java, and FileDocument.java to compile, as a
sanity check, before trying to go any further.  (The project is to develop
an extension to the vector model using fuzzy clustering; details available
if anyone wants them.)

Two of these files compile without error.  However, when I attempt to
compile IndexFiles.java, I get the following error:

C:\lucene-1.2-rc2\src\demo\org\apache\lucene\IndexFiles.java:95: cannot
resolve symbol
symbol  : variable FileDocument  
location: class org.apache.lucene.IndexFiles
      writer.addDocument(FileDocument.Document(file));
                         ^
1 error


I don't understand why I'm getting this error; FileDocument has already
been compiled, and the class is in the same directory as the other
documents.  Perhaps I'm just missing something basic about using packages,
but it all seems plausible.

Has anyone managed to get these examples to build, and if so, how?

Thanks--

Joshua

 jmadden@ics.uci.edu...Obscurium Per Obscurius...www.ics.uci.edu/~jmadden
    Joshua Madden: Information Scientist, Musician, Philosopher-At-Tall
 It's that moment of dawning comprehension that I live for--Bill Watterson
My opinions are too rational and insightful to be those of any organization.


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-326-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Nov 14 00:52:45 2001
Return-Path: <lucene-user-return-326-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 27908 invoked from network); 14 Nov 2001 00:52:44 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 14 Nov 2001 00:52:44 -0000
Received: (qmail 10068 invoked by uid 97); 14 Nov 2001 00:52:50 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 10024 invoked by uid 97); 14 Nov 2001 00:52:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 10013 invoked from network); 14 Nov 2001 00:52:48 -0000
From: "Alex Murzaku" <murzaku@earthlink.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: compiling example code
Date: Tue, 13 Nov 2001 19:53:29 -0500
Message-ID: <NCBBLBEANONDIDIPDEGMAECMKOAA.murzaku@earthlink.net>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="US-ASCII"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
Importance: Normal
In-Reply-To: <Pine.WNT.4.21.0111131603290.-88445-100000@syzygy.reshsg.uci.edu>
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Are you using ant? By just using "ant demo" from the lucene root directory
everything goes fine. Make sure you have the latest ant (1.4).

And also, I would be very interested in seeing what you are doing. At my
previous job, we started building a clusterizer around lucene but turned out
to be a little bit slow, so, we ended up building our own similarity
measuring (manhattan distance between word vectors).

Alex

-----Original Message-----
From: Joshua O'Madadhain [mailto:jmadden@ics.uci.edu]
Sent: Tuesday, November 13, 2001 7:14 PM
To: lucene-user@jakarta.apache.org
Subject: compiling example code


I am attempting to build the example code which is located in the

\lucene-1.2-rc2\src\demo\org\apache\lucene

directory in the distribution.  Specifically, I'm trying to get
IndexFiles.java, SearchFiles.java, and FileDocument.java to compile, as a
sanity check, before trying to go any further.  (The project is to develop
an extension to the vector model using fuzzy clustering; details available
if anyone wants them.)

Two of these files compile without error.  However, when I attempt to
compile IndexFiles.java, I get the following error:

C:\lucene-1.2-rc2\src\demo\org\apache\lucene\IndexFiles.java:95: cannot
resolve symbol
symbol  : variable FileDocument
location: class org.apache.lucene.IndexFiles
      writer.addDocument(FileDocument.Document(file));
                         ^
1 error


I don't understand why I'm getting this error; FileDocument has already
been compiled, and the class is in the same directory as the other
documents.  Perhaps I'm just missing something basic about using packages,
but it all seems plausible.

Has anyone managed to get these examples to build, and if so, how?

Thanks--

Joshua

 jmadden@ics.uci.edu...Obscurium Per Obscurius...www.ics.uci.edu/~jmadden
    Joshua Madden: Information Scientist, Musician, Philosopher-At-Tall
 It's that moment of dawning comprehension that I live for--Bill Watterson
My opinions are too rational and insightful to be those of any organization.


--
To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-327-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Nov 14 02:26:09 2001
Return-Path: <lucene-user-return-327-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 56038 invoked from network); 14 Nov 2001 02:26:09 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 14 Nov 2001 02:26:09 -0000
Received: (qmail 9711 invoked by uid 97); 14 Nov 2001 02:24:13 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 9685 invoked by uid 97); 14 Nov 2001 02:24:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 9627 invoked from network); 14 Nov 2001 02:24:10 -0000
Date: Tue, 13 Nov 2001 18:28:11 -0800 (Pacific Standard Time)
From: Joshua O'Madadhain <jmadden@ics.uci.edu>
To: Alex Murzaku <murzaku@earthlink.net>
cc: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: RE: compiling example code
In-Reply-To: <NCBBLBEANONDIDIPDEGMAECMKOAA.murzaku@earthlink.net>
Message-ID: <Pine.WNT.4.21.0111131811280.-88445-100000@syzygy.reshsg.uci.edu>
X-X-Sender: jmadden@smtp.ics.uci.edu
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Tue, 13 Nov 2001, Alex Murzaku wrote:

> Are you using ant? By just using "ant demo" from the lucene root
> directory everything goes fine. Make sure you have the latest ant
> (1.4).

I have no idea what ant is or what it's supposed to be for; I'll do a web
search to see if I can get one (an idea, that is), but a brief explanation
would be appreciated.  However, I would hope that it shouldn't be
necessary to use a separate tool (aside from javac, that is) in order to
just build some fairly basic sample code.
 
> And also, I would be very interested in seeing what you are doing. At
> my previous job, we started building a clusterizer around lucene but
> turned out to be a little bit slow, so, we ended up building our own
> similarity measuring (manhattan distance between word vectors).

The basic idea is that I'm investigating a technique that combines fuzzy
term expansion and fuzzy reranking of query results: the term expansion
should help improve recall, and the reranking should help to improve
precision.  You do this by creating a weighted graph that represents word
similarities in some fashion and adding to the query those terms that are
sufficiently close to the query terms (using your favorite definitions of
"sufficient" and "close").  On the back end, you include in the ranking
of each document a factor that takes account of just how fuzzy a match the
terms in the document are for the query terms.

How fast this will be, especially for this prototype, I don't know; right
now I'm more interested in its effect on recall and precision than
anything else.  It does require some additional overhead up front (when
the index is created) but shouldn't require too much extra work on a
query-by-query basis.  We shall see.  :)

Joshua

 jmadden@ics.uci.edu...Obscurium Per Obscurius...www.ics.uci.edu/~jmadden
    Joshua Madden: Information Scientist, Musician, Philosopher-At-Tall
 It's that moment of dawning comprehension that I live for--Bill Watterson
My opinions are too rational and insightful to be those of any organization.

> Two of these files compile without error.  However, when I attempt to
> compile IndexFiles.java, I get the following error:
> 
> C:\lucene-1.2-rc2\src\demo\org\apache\lucene\IndexFiles.java:95: cannot
> resolve symbol
> symbol  : variable FileDocument
> location: class org.apache.lucene.IndexFiles
>       writer.addDocument(FileDocument.Document(file));
>                          ^
> 1 error
> 
> 
> I don't understand why I'm getting this error; FileDocument has already
> been compiled, and the class is in the same directory as the other
> documents.  Perhaps I'm just missing something basic about using packages,
> but it all seems plausible.
> 
> Has anyone managed to get these examples to build, and if so, how?


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-328-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Nov 14 07:54:40 2001
Return-Path: <lucene-user-return-328-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 71316 invoked from network); 14 Nov 2001 07:54:39 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 14 Nov 2001 07:54:39 -0000
Received: (qmail 6837 invoked by uid 97); 14 Nov 2001 07:54:51 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 6789 invoked by uid 97); 14 Nov 2001 07:54:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6778 invoked from network); 14 Nov 2001 07:54:49 -0000
Date: Tue, 13 Nov 2001 23:54:06 -0800
From: Winton Davies <wdavies@overture.com>
Subject: RAMdirectory from Directory ?
In-reply-to: <Pine.WNT.4.21.0111131811280.-88445-100000@syzygy.reshsg.uci.edu>
X-Sender: wintondavies@mail.earthlink.net
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <v04205536b817d3338485@[172.19.0.98]>
MIME-version: 1.0
Content-type: text/plain; charset=us-ascii; format=flowed
Content-transfer-encoding: 7BIT
References: <Pine.WNT.4.21.0111131811280.-88445-100000@syzygy.reshsg.uci.edu>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,
 
  I've an index that should fit in RAM -- but I need it stored as a 
file. Is there anyway to read in the regular directory in the the 
RAMDirectory and then create an IndexSearcher from this ? It seems 
that there should be, but I can't find a method to construct a 
RAMDirectory from a regular Directory ?

Cheers,
  Winton

Winton Davies
Lead Engineer, Overture (NSDQ: OVER)
1820 Gateway Drive, Suite 360
San Mateo, CA 94404
work: (650) 403-2259
cell: (650) 867-1598
http://www.overture.com/

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-329-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Nov 14 08:11:40 2001
Return-Path: <lucene-user-return-329-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 78268 invoked from network); 14 Nov 2001 08:11:40 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 14 Nov 2001 08:11:40 -0000
Received: (qmail 18812 invoked by uid 97); 14 Nov 2001 08:11:52 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 18792 invoked by uid 97); 14 Nov 2001 08:11:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 18778 invoked from network); 14 Nov 2001 08:11:51 -0000
Subject: Re: compiling example code
In-Reply-To: <Pine.WNT.4.21.0111131811280.-88445-100000@syzygy.reshsg.uci.edu>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Date: Wed, 14 Nov 2001 01:17:40 -0500 (EST)
Cc: Alex Murzaku <murzaku@earthlink.net>
X-Mailer: ELM [version 2.4ME+ PL94 (25)]
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset=US-ASCII
Message-Id: <20011114061740.E907A3C1B1@darksleep.com>
From: puffmail@darksleep.com (Steven J. Owens)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> On Tue, 13 Nov 2001, Alex Murzaku wrote:
> > Are you using ant? By just using "ant demo" from the lucene root
> > directory everything goes fine. Make sure you have the latest ant
> > (1.4).
> 
> I have no idea what ant is or what it's supposed to be for; I'll do a web
> search to see if I can get one (an idea, that is), but a brief explanation
> would be appreciated.  However, I would hope that it shouldn't be
> necessary to use a separate tool (aside from javac, that is) in order to
> just build some fairly basic sample code.

     Try reading http://www.darksleep.com/puff/lucene/lucenereadmedraft.txt

     You may also find http://www.darksleep.com/puff/lucene/lucene.html 
useful.  Please let me know if you have any problems at all with either
document, and I'll try to clarify them (and factor that clarification
back into the document).

Steven J. Owens
puff@darksleep.com

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-330-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Nov 14 08:27:00 2001
Return-Path: <lucene-user-return-330-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 83388 invoked from network); 14 Nov 2001 08:27:00 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 14 Nov 2001 08:27:00 -0000
Received: (qmail 24964 invoked by uid 97); 14 Nov 2001 08:27:12 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 24948 invoked by uid 97); 14 Nov 2001 08:27:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 24896 invoked from network); 14 Nov 2001 08:27:11 -0000
Message-ID: <21A5421BCAE2D31181BE0006293935FA674C39@altea10.alteanet.it>
From: Alessio Fiore <afiore@alteanet.it>
To: "Lucene Mailing List (E-mail)" <lucene-user@jakarta.apache.org>
Subject: Is NEAR supported?
Date: Wed, 14 Nov 2001 09:26:58 +0100
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi, I'm using Lucene in an archived e-mail full-text search system and I'm
agreeing with it's flexibility and speed, but I've got a doubt about
querying capabilities. In one of Lucene's site linked external articles (
http://www.javaworld.com/javaworld/jw-09-2000/jw-0915-lucene.html ), under
"Query features" paragraph, you can read that Lucene queries support the
NEAR operator, but I can't find it in Lucene's FAQs, in point 5 of searching
section. Which one is right? Javaworld or Lucene's FAQs?

Thanks.
Alessio




- Disclaimer -
This email and any attachments thereto may contain information which is
confidential and/or protected by intellectual property rights and are
intended for the sole use of the recipient(s) named above. Any use of the
information contained herein (including, but not limited to, total or
partial reproduction, communication or distribution in any form) or the
taking of any action in reliance on the contents, by persons other than the
designated recipient(s) is strictly prohibited.

If you have received this email in error, please notify the sender either by
telephone or by email and delete the material from any computer.

Thank you for your cooperation. 



--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-331-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Nov 14 09:33:38 2001
Return-Path: <lucene-user-return-331-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 13212 invoked from network); 14 Nov 2001 09:33:38 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 14 Nov 2001 09:33:38 -0000
Received: (qmail 12875 invoked by uid 97); 14 Nov 2001 09:33:49 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 12859 invoked by uid 97); 14 Nov 2001 09:33:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 12848 invoked from network); 14 Nov 2001 09:33:48 -0000
content-class: urn:content-classes:message
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C16CEC.192F45C7"
X-MimeOLE: Produced By Microsoft Exchange V6.0.4417.0
Subject: RE: Lucene and the numbers (again!)
Date: Wed, 14 Nov 2001 10:09:43 +0100
Message-ID: <50EA669584662B498F13A5F24630A0C01BAC89@peach.mnet.private>
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
Thread-Topic: Lucene and the numbers (again!)
Thread-Index: AcFshmQyeL3viLYFSZePUxZVS/O3fQAY422Q
From: =?iso-8859-2?Q?Hal=E1csy_P=E9ter?= <halacsy.peter@axelero.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
	"David Bonilla" <david@bit-bang.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C16CEC.192F45C7
Content-Type: text/plain;
	charset="iso-8859-2"
Content-Transfer-Encoding: quoted-printable

I had the same problem (searching for Alfa 147 [it's a very cool car]).

SimpleAnalyzer uses LowerCaseTokenizer. This "divides text at
non-letters and converts
  them to lower case." (source: API docs) Since numbers are non-letters,
it makes as much as three tokens from the string "147".

I managed to use numbers in the query after using StandardAnalyzer at
query side and at index side as well. Try it!
(org.apache.lucene.analysis.standard package)

peter

> -----Original Message-----
> From: Steven J. Owens [mailto:puffmail@darksleep.com]
> Sent: Tuesday, November 13, 2001 8:07 PM
> To: Lucene Users List; David Bonilla
> Subject: Re: Lucene and the numbers (again!)
>=20
>=20
> David,
>=20
>=20
> > Yeah I know that i?m not very original and maybe the FAQ can resolve
> > my problems but I didn?t find any real help there. Ok... here we go:
>=20
>      This is indeed a FAQ, and it also comes up often on the list, if
> you check the archives.
>=20
>      Come to think of it, where *are* the archives now?  I'm looking
> at http://www.mail-archive.com/ and I don't see the more recent
> (post-move-to-jakarta) postings there.  The archive seems to end on
> October 5th.  Are we using a new archive now?  Are the messages from
> the old archive there?
>=20
> > The problem is... I have a J2EE application working with LUCENE and
> > the basic searching works properly but when I try to use a query
> > with a number, Lucene gives me back all my indexed documents and I
> > don?t understand why.
> >
> > I?m using the SimpleAnalyzer. If I have for example a document with
> > a field named "name". How can I search for example a name=20
> like '456'?
>=20
>      If you look into... hm, well, I was going to say if you look into
> the API docs, but it's not that simple.  I remember somebody in the
> past saying (on this list) to simply use StandardAnalyzer instead of
> StopAnalyzer.  I don't know if this works (I'll have to take time
> later this afternoon and check the source code - this is one of the
> things that's been on my to-do list for a month or so, but I've been
> preoccupied with other areas of my project).
>=20
>      I guess I should note the following details:
>=20
> StandardAnalyzer is not listed in the "Package
> org.apache.lucene.analysis" page of the API docs (from the
> lucene-1.2-rc2 checkout), just SimpleAnalyzer and StopAnalyzer.
>=20
> When I track down the API docs for StandardAnalyzer and compare them,
> neither StandardAnalyzer or StopAnalyzer says anything about numbers.
>=20
> Nor do StandardFilter or StopFilter mention numbers.
>=20
> Searching for "numeric" turns up nothing, searching for "number" turns
> up:
>=20
> "27. How does Lucene handle numbers and special characters ?
>=20
> This depends of the analyzer you are using for indexing an searching."
>=20
>=20
>=20
>      I checked out the Lucene FAQ source in the past,with the intent
> of going through it and checking for typos, etc, as a good way to
> force myself to read it all as well as contributing something back to
> Lucene.  I think that was from the pre-jakarta days, I should probably
> get a fresh, jakarta-based checkout.  Is all of that stuff still in
> the "website" checkout?
>=20
> Steven J. Owens
> puff@darksleep.com
>=20
>=20
> --
> To unsubscribe, e-mail:  =20
> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:=20
> <mailto:lucene-user-help@jakarta.apache.org>
>=20
>=20

------_=_NextPart_001_01C16CEC.192F45C7--

From lucene-user-return-332-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Nov 14 10:00:41 2001
Return-Path: <lucene-user-return-332-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 26667 invoked from network); 14 Nov 2001 10:00:41 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 14 Nov 2001 10:00:41 -0000
Received: (qmail 8987 invoked by uid 97); 14 Nov 2001 10:00:48 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 8924 invoked by uid 97); 14 Nov 2001 10:00:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 8876 invoked from network); 14 Nov 2001 10:00:47 -0000
Sender: tril@pluto.blackwell.co.uk
Message-ID: <3BF240CC.ECA5B3BF@blackwell.co.uk>
Date: Wed, 14 Nov 2001 10:00:44 +0000
From: Ian Lea <ian.lea@blackwell.co.uk>
X-Mailer: Mozilla 4.73 [en] (X11; U; SunOS 5.6 sun4u)
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Is NEAR supported?
References: <21A5421BCAE2D31181BE0006293935FA674C39@altea10.alteanet.it>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

See PhraseQuery.setSlop();

Extract from javadoc:

 "Sets the number of other words permitted between words in query
phrase.
  If zero, then this is an exact phrase search. For larger values this
  works like a WITHIN or NEAR operator.".


There was also some stuff on this topic on the list not very long ago.



--
Ian.
ian.lea@blackwell.co.uk


Alessio Fiore wrote:
> 
> Hi, I'm using Lucene in an archived e-mail full-text search system and I'm
> agreeing with it's flexibility and speed, but I've got a doubt about
> querying capabilities. In one of Lucene's site linked external articles (
> http://www.javaworld.com/javaworld/jw-09-2000/jw-0915-lucene.html ), under
> "Query features" paragraph, you can read that Lucene queries support the
> NEAR operator, but I can't find it in Lucene's FAQs, in point 5 of searching
> section. Which one is right? Javaworld or Lucene's FAQs?
> 
> Thanks.
> Alessio

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-333-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Nov 14 11:40:33 2001
Return-Path: <lucene-user-return-333-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 71709 invoked from network); 14 Nov 2001 11:40:33 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 14 Nov 2001 11:40:33 -0000
Received: (qmail 15910 invoked by uid 97); 14 Nov 2001 11:40:32 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 15894 invoked by uid 97); 14 Nov 2001 11:40:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 15883 invoked from network); 14 Nov 2001 11:40:31 -0000
Message-ID: <3BF254F8.FED75EDF@fpg.de>
Date: Wed, 14 Nov 2001 12:26:48 +0100
From: Gerhard Schwarz <gerhard.schwarz@fpg.de>
Organization: Frost & Partner
X-Mailer: Mozilla 4.78 [en]C-CCK-MCD DT  (Win98; U)
X-Accept-Language: de,en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: RAMdirectory from Directory ?
References: <Pine.WNT.4.21.0111131811280.-88445-100000@syzygy.reshsg.uci.edu> <v04205536b817d3338485@[172.19.0.98]>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Loop-Detect: 1
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Winton Davies wrote:
>   I've an index that should fit in RAM -- but I need it stored as a
> file. Is there anyway to read in the regular directory in the the
> RAMDirectory and then create an IndexSearcher from this ? It seems
> that there should be, but I can't find a method to construct a
> RAMDirectory from a regular Directory ?

Look at IndexWriter.addIndexes( Directory[] dirs )

You can store your RAMDirectory into a new FSDirectory and load a
FSDircetory into a new RAMDirectory.

Something like: 

Directory loadIndex() {
	Directory fs = FSDirectory.getDirectory( pathToIndex, false );
	RAMDirectory ramdir = new RAMDircetory();
	IndexWriter iw = new IndexWriter( ramdir, myAnalyzer, false );
	iw.addIndexes( new Directory[]{fs} );
	iw.close();
	fs.close();
	return ramdir;
}
void storeIndex( Directory ramdir ) {
	Directory fs = FSDirectory.getDirectory( pathToIndex, true ); // create
a new Index here
	IndexWriter iw = new IndexWriter( fs, myAnalyzer, true );
	iw.addIndexes( new Directory[]{ramdir} );
	iw.close();
	fs.close();
}


HTH,
Gerhard

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-334-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Nov 14 12:36:07 2001
Return-Path: <lucene-user-return-334-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 2702 invoked from network); 14 Nov 2001 12:36:07 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 14 Nov 2001 12:36:07 -0000
Received: (qmail 18437 invoked by uid 97); 14 Nov 2001 12:36:06 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 18392 invoked by uid 97); 14 Nov 2001 12:36:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 18381 invoked from network); 14 Nov 2001 12:36:05 -0000
X-Authentication-Warning: bitbang.com: Host p107.bit-bang.com [192.168.0.107] claimed to be Zurich
Message-ID: <00e901c16d09$51f21f40$6b00a8c0@Zurich>
Reply-To: "David Bonilla" <david@bit-bang.com>
From: "David Bonilla" <david@bit-bang.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <003401c16c43$a4882900$f1b295c3@mikael3> <000d01c16c68$09705580$6b00a8c0@Zurich>
Subject: Searching all the fields
Date: Wed, 14 Nov 2001 13:38:53 +0100
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_00E6_01C16D11.B360ED30"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.00.2919.6700
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2919.6700
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_00E6_01C16D11.B360ED30
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

If I want to search a word in all my fields, can I do it passing the =
String field like a null to a QueryParser ? If I can=B4t do it this way, =
what must I do ?
__________________________
David Bonilla Fuertes
THE BIT BANG NETWORK
http://www.bit-bang.com
Profesor Waksman, 8, 6=BA B
28036 Madrid
SPAIN
Tel.: (+34) 914 577 747
M=F3vil: 656 62 83 92
Fax: (+34) 914 586 176
__________________________
=20
=20

------=_NextPart_000_00E6_01C16D11.B360ED30--


From lucene-user-return-335-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Nov 14 13:11:50 2001
Return-Path: <lucene-user-return-335-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 23830 invoked from network); 14 Nov 2001 13:11:49 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 14 Nov 2001 13:11:49 -0000
Received: (qmail 14743 invoked by uid 97); 14 Nov 2001 13:11:07 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 14667 invoked by uid 97); 14 Nov 2001 13:11:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 14611 invoked from network); 14 Nov 2001 13:11:05 -0000
Sender: tril@pluto.blackwell.co.uk
Message-ID: <3BF26D67.7AE218E8@blackwell.co.uk>
Date: Wed, 14 Nov 2001 13:11:03 +0000
From: Ian Lea <ian.lea@blackwell.co.uk>
X-Mailer: Mozilla 4.73 [en] (X11; U; SunOS 5.6 sun4u)
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Searching all the fields
References: <003401c16c43$a4882900$f1b295c3@mikael3> <000d01c16c68$09705580$6b00a8c0@Zurich> <00e901c16d09$51f21f40$6b00a8c0@Zurich>
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

You can't do it that way.  One way is to gather all the fields
you want to search across into one big field called "contents"
or something.  That is in the FAQ at
http://www.lucene.com/cgi-bin/faq/faqmanager.cgi?file=chapter.search&toc=faq#q12
and is the way I do it.

A few days ago someone posted some code that, I think, took a term
and prefixed it with assorted different field names.  If my
recollection is correct that might be another way.



--
Ian.
ian.lea@blackwell.co.uk


David Bonilla wrote:
> 
> If I want to search a word in all my fields, can I do it passing the String field like a null to a QueryParser ? If I cant do it this way, what must I do ?
> __________________________
> David Bonilla Fuertes
> THE BIT BANG NETWORK
> http://www.bit-bang.com

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-336-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Nov 14 13:58:09 2001
Return-Path: <lucene-user-return-336-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 44943 invoked from network); 14 Nov 2001 13:58:09 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 14 Nov 2001 13:58:09 -0000
Received: (qmail 23113 invoked by uid 97); 14 Nov 2001 13:57:40 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 23078 invoked by uid 97); 14 Nov 2001 13:57:39 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23046 invoked from network); 14 Nov 2001 13:57:39 -0000
Date: Wed, 14 Nov 2001 05:56:18 -0800
From: Winton Davies <wdavies@overture.com>
Subject: Re: RAMdirectory from Directory ?
In-reply-to: <3BF254F8.FED75EDF@fpg.de>
X-Sender: wintondavies@mail.earthlink.net
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <v04205537b8182878e39d@[172.19.0.98]>
MIME-version: 1.0
Content-type: text/plain; charset=us-ascii; format=flowed
Content-transfer-encoding: 7BIT
References: <Pine.WNT.4.21.0111131811280.-88445-100000@syzygy.reshsg.uci.edu>
 <v04205536b817d3338485@[172.19.0.98]> <3BF254F8.FED75EDF@fpg.de>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Many thanks Gerhard!

  Winton

Winton Davies
Lead Engineer, Overture (NSDQ: OVER)
1820 Gateway Drive, Suite 360
San Mateo, CA 94404
work: (650) 403-2259
cell: (650) 867-1598
http://www.overture.com/

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-337-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Nov 14 14:08:58 2001
Return-Path: <lucene-user-return-337-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 57081 invoked from network); 14 Nov 2001 14:08:58 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 14 Nov 2001 14:08:58 -0000
Received: (qmail 4572 invoked by uid 97); 14 Nov 2001 14:06:29 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 4548 invoked by uid 97); 14 Nov 2001 14:06:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4510 invoked from network); 14 Nov 2001 14:06:26 -0000
Message-Id: <D3EAF642C1C2D311A873009027B108A2022613F9@excsrv33.mayo.edu>
From: "Ogren, Philip V." <Ogren.Philip@mayo.edu>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: DateField - dates before 1970
Date: Wed, 14 Nov 2001 08:06:15 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


The method DateField.dateToString(Date date) throws an exception if the long
value of Date.getTime() is negative.  Therefore, it is not possible to
'encode' dates that are prior to 1970.  I think a limitation like this
should be clearly documented.  Please let me know if I have missed something
here.  

A possible work-around would be to add 200 years (or what ever is
*necessary*) worth of milliseconds to the value that is passed into
DateField.timeToString() and then subtract it from the return value of
DateField.stringToTime().  I'm going to try this, unless someone warns me
not to.  

I am using lucene-1.2-rc1

Thanks for your consideration,

Philip

> Philip V. Ogren
> Medical Information Resources
> Mayo Clinic Rochester
> (507) 538-0167
> ogren@mayo.edu


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-338-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Nov 14 15:26:39 2001
Return-Path: <lucene-user-return-338-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 37060 invoked from network); 14 Nov 2001 15:26:39 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 14 Nov 2001 15:26:39 -0000
Received: (qmail 21308 invoked by uid 97); 14 Nov 2001 15:24:50 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 21277 invoked by uid 97); 14 Nov 2001 15:24:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 21259 invoked from network); 14 Nov 2001 15:24:48 -0000
Message-ID: <86F21E9558CE6F429B2D0AEB9820F1B82F2F5B@S1001EXM01.macromedia.com>
From: Paul Friedman <pfriedman@macromedia.com>
To: "'lucene-user@jakarta.apache.org'" <lucene-user@jakarta.apache.org>
Subject: QueryParser error when "." in query string
Date: Wed, 14 Nov 2001 10:24:36 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: multipart/mixed;
	boundary="----_=_NextPart_000_01C16D20.7A044BA2"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------_=_NextPart_000_01C16D20.7A044BA2
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C16D20.7A044BA2"


------_=_NextPart_001_01C16D20.7A044BA2
Content-Type: text/plain;
	charset="iso-8859-1"

Can somebody please help, this is a BIG issue for the project I'm working on?
 
I have attached a test case showing that QueryParser (using StandardAnalyzer) throws a TokenMgrError when parsing a query string that contains a "."
 
Output of the test is shown below.
 
Thanks.
Paul
 
D:\Dev\Test Tools\lucene>java -cp %CLASSPATH%;.\ ParseTest
Query string: children.name:John
org.apache.lucene.queryParser.TokenMgrError: Lexical error at line 1, column 9. Encountered: "." (46), after : ""
        at org.apache.lucene.queryParser.QueryParserTokenManager.getNextToken(Unknown Source)
        at org.apache.lucene.queryParser.QueryParser.jj_scan_token(Unknown Source)
        at org.apache.lucene.queryParser.QueryParser.jj_3_1(Unknown Source)
        at org.apache.lucene.queryParser.QueryParser.jj_2_1(Unknown Source)
        at org.apache.lucene.queryParser.QueryParser.Clause(Unknown Source)
        at org.apache.lucene.queryParser.QueryParser.Query(Unknown Source)
        at org.apache.lucene.queryParser.QueryParser.parse(Unknown Source)
        at org.apache.lucene.queryParser.QueryParser.parse(Unknown Source)
        at ParseTest.query(ParseTest.java:25)
        at ParseTest.main(ParseTest.java:15)
 
Query string: text:one.two
org.apache.lucene.queryParser.TokenMgrError: Lexical error at line 1, column 9. Encountered: "." (46), after : ""
        at org.apache.lucene.queryParser.QueryParserTokenManager.getNextToken(Unknown Source)
        at org.apache.lucene.queryParser.QueryParser.jj_ntk(Unknown Source)
        at org.apache.lucene.queryParser.QueryParser.Term(Unknown Source)
        at org.apache.lucene.queryParser.QueryParser.Clause(Unknown Source)
        at org.apache.lucene.queryParser.QueryParser.Query(Unknown Source)
        at org.apache.lucene.queryParser.QueryParser.parse(Unknown Source)
        at org.apache.lucene.queryParser.QueryParser.parse(Unknown Source)
        at ParseTest.query(ParseTest.java:25)
        at ParseTest.main(ParseTest.java:16)
 
Query string: one.two
org.apache.lucene.queryParser.TokenMgrError: Lexical error at line 1, column 4. Encountered: "." (46), after : ""
        at org.apache.lucene.queryParser.QueryParserTokenManager.getNextToken(Unknown Source)
        at org.apache.lucene.queryParser.QueryParser.jj_scan_token(Unknown Source)
        at org.apache.lucene.queryParser.QueryParser.jj_3_1(Unknown Source)
        at org.apache.lucene.queryParser.QueryParser.jj_2_1(Unknown Source)
        at org.apache.lucene.queryParser.QueryParser.Clause(Unknown Source)
        at org.apache.lucene.queryParser.QueryParser.Query(Unknown Source)
        at org.apache.lucene.queryParser.QueryParser.parse(Unknown Source)
        at org.apache.lucene.queryParser.QueryParser.parse(Unknown Source)
        at ParseTest.query(ParseTest.java:25)
        at ParseTest.main(ParseTest.java:17)
 
Query string: Look for me.
org.apache.lucene.queryParser.TokenMgrError: Lexical error at line 1, column 13. Encountered: <EOF> after : ""
        at org.apache.lucene.queryParser.QueryParserTokenManager.getNextToken(Unknown Source)
        at org.apache.lucene.queryParser.QueryParser.jj_scan_token(Unknown Source)
        at org.apache.lucene.queryParser.QueryParser.jj_3_1(Unknown Source)
        at org.apache.lucene.queryParser.QueryParser.jj_2_1(Unknown Source)
        at org.apache.lucene.queryParser.QueryParser.Clause(Unknown Source)
        at org.apache.lucene.queryParser.QueryParser.Query(Unknown Source)
        at org.apache.lucene.queryParser.QueryParser.parse(Unknown Source)
        at org.apache.lucene.queryParser.QueryParser.parse(Unknown Source)
        at ParseTest.query(ParseTest.java:25)
        at ParseTest.main(ParseTest.java:18)
 
 

------_=_NextPart_001_01C16D20.7A044BA2
Content-Type: text/html;
	charset="iso-8859-1"

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">


<META content="MSHTML 6.00.2600.0" name=GENERATOR></HEAD>
<BODY>
<DIV><FONT face=Arial size=2><SPAN class=609291415-14112001>Can somebody please 
help, this is a BIG issue for the project I'm working on?</SPAN></FONT></DIV>
<DIV><FONT face=Arial size=2><SPAN 
class=609291415-14112001></SPAN></FONT>&nbsp;</DIV>
<DIV><FONT face=Arial size=2><SPAN class=609291415-14112001>I have attached a 
test case showing that QueryParser (using StandardAnalyzer) throws a 
TokenMgrError when parsing a query string that contains a 
"."</SPAN></FONT></DIV>
<DIV><FONT face=Arial size=2><SPAN 
class=609291415-14112001></SPAN></FONT>&nbsp;</DIV>
<DIV><FONT face=Arial size=2><SPAN class=609291415-14112001>Output of the test 
is shown below.</SPAN></FONT></DIV>
<DIV><FONT face=Arial size=2><SPAN 
class=609291415-14112001></SPAN></FONT>&nbsp;</DIV>
<DIV><FONT face=Arial size=2><SPAN 
class=609291415-14112001>Thanks.</SPAN></FONT></DIV>
<DIV><FONT face=Arial size=2><SPAN 
class=609291415-14112001>Paul</SPAN></FONT></DIV>
<DIV><FONT face=Arial size=2></FONT>&nbsp;</DIV>
<DIV><FONT face=Arial size=2>D:\Dev\Test Tools\lucene&gt;java -cp %CLASSPATH%;.\ 
ParseTest<BR>Query string: 
children.name:John<BR>org.apache.lucene.queryParser.TokenMgrError: Lexical error 
at line 1, column 9.<SPAN class=609291415-14112001> </SPAN>Encountered: "." 
(46), after : ""<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at 
org.apache.lucene.queryParser.QueryParserTokenManager.getNextToken(Unknown 
Source)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at 
org.apache.lucene.queryParser.QueryParser.jj_scan_token(Unknown 
Source)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at 
org.apache.lucene.queryParser.QueryParser.jj_3_1(Unknown 
Source)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at 
org.apache.lucene.queryParser.QueryParser.jj_2_1(Unknown 
Source)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at 
org.apache.lucene.queryParser.QueryParser.Clause(Unknown 
Source)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at 
org.apache.lucene.queryParser.QueryParser.Query(Unknown 
Source)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at 
org.apache.lucene.queryParser.QueryParser.parse(Unknown 
Source)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at 
org.apache.lucene.queryParser.QueryParser.parse(Unknown 
Source)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at 
ParseTest.query(ParseTest.java:25)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
at ParseTest.main(ParseTest.java:15)</FONT></DIV>
<DIV>&nbsp;</DIV>
<DIV><FONT face=Arial size=2>Query string: 
text:one.two<BR>org.apache.lucene.queryParser.TokenMgrError: Lexical error at 
line 1, column 9.<SPAN class=609291415-14112001> </SPAN>Encountered: "." (46), 
after : ""<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at 
org.apache.lucene.queryParser.QueryParserTokenManager.getNextToken(Unknown 
Source)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at 
org.apache.lucene.queryParser.QueryParser.jj_ntk(Unknown 
Source)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at 
org.apache.lucene.queryParser.QueryParser.Term(Unknown 
Source)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at 
org.apache.lucene.queryParser.QueryParser.Clause(Unknown 
Source)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at 
org.apache.lucene.queryParser.QueryParser.Query(Unknown 
Source)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at 
org.apache.lucene.queryParser.QueryParser.parse(Unknown 
Source)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at 
org.apache.lucene.queryParser.QueryParser.parse(Unknown 
Source)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at 
ParseTest.query(ParseTest.java:25)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
at ParseTest.main(ParseTest.java:16)</FONT></DIV>
<DIV>&nbsp;</DIV>
<DIV><FONT face=Arial size=2>Query string: 
one.two<BR>org.apache.lucene.queryParser.TokenMgrError: Lexical error at line 1, 
column 4.<SPAN class=609291415-14112001> </SPAN>Encountered: "." (46), after : 
""<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at 
org.apache.lucene.queryParser.QueryParserTokenManager.getNextToken(Unknown 
Source)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at 
org.apache.lucene.queryParser.QueryParser.jj_scan_token(Unknown 
Source)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at 
org.apache.lucene.queryParser.QueryParser.jj_3_1(Unknown 
Source)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at 
org.apache.lucene.queryParser.QueryParser.jj_2_1(Unknown 
Source)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at 
org.apache.lucene.queryParser.QueryParser.Clause(Unknown 
Source)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at 
org.apache.lucene.queryParser.QueryParser.Query(Unknown 
Source)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at 
org.apache.lucene.queryParser.QueryParser.parse(Unknown 
Source)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at 
org.apache.lucene.queryParser.QueryParser.parse(Unknown 
Source)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at 
ParseTest.query(ParseTest.java:25)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
at ParseTest.main(ParseTest.java:17)</FONT></DIV>
<DIV>&nbsp;</DIV>
<DIV><FONT face=Arial size=2>Query string: Look for 
me.<BR>org.apache.lucene.queryParser.TokenMgrError: Lexical error at line 1, 
column 13.<SPAN class=609291415-14112001> </SPAN>Encountered: &lt;EOF&gt; after 
: ""<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at 
org.apache.lucene.queryParser.QueryParserTokenManager.getNextToken(Unknown 
Source)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at 
org.apache.lucene.queryParser.QueryParser.jj_scan_token(Unknown 
Source)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at 
org.apache.lucene.queryParser.QueryParser.jj_3_1(Unknown 
Source)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at 
org.apache.lucene.queryParser.QueryParser.jj_2_1(Unknown 
Source)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at 
org.apache.lucene.queryParser.QueryParser.Clause(Unknown 
Source)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at 
org.apache.lucene.queryParser.QueryParser.Query(Unknown 
Source)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at 
org.apache.lucene.queryParser.QueryParser.parse(Unknown 
Source)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at 
org.apache.lucene.queryParser.QueryParser.parse(Unknown 
Source)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; at 
ParseTest.query(ParseTest.java:25)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
at ParseTest.main(ParseTest.java:18)</FONT></DIV>
<DIV>&nbsp;</DIV>
<DIV><FONT face=Arial size=2></FONT>&nbsp;</DIV></BODY></HTML>

------_=_NextPart_001_01C16D20.7A044BA2--

------_=_NextPart_000_01C16D20.7A044BA2
Content-Type: application/octet-stream;
	name="ParseTest.java"
Content-Disposition: attachment;
	filename="ParseTest.java"

import org.apache.lucene.queryParser.*; 
import org.apache.lucene.search.*; 
import org.apache.lucene.index.*; 
import org.apache.lucene.analysis.*; 
import org.apache.lucene.analysis.standard.*;
import org.apache.lucene.document.*; 

public class ParseTest { 

    public static void main(String args[]) throws Exception {

    	Analyzer analyzer = new StandardAnalyzer(); 
    	IndexReader reader = IndexReader.open("index");
    	Searcher searcher = new IndexSearcher(reader);
    	query("children.name:John", analyzer);
    	query("text:one.two", analyzer);
    	query("one.two", analyzer);
    	query("Look for me.", analyzer);
    	query("children_name:John", analyzer);
    	query("text:one_two", analyzer);
    }

    public static void query(String qStr, Analyzer analyzer) {
        try {
            Query query = QueryParser.parse(qStr, "text", analyzer);
        }
        catch (Throwable th) {
            System.out.println("Query string: " + qStr);
            th.printStackTrace(System.out);
            System.out.println();
        }
    }
}



------_=_NextPart_000_01C16D20.7A044BA2
Content-Type: text/plain; charset=us-ascii

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>
------_=_NextPart_000_01C16D20.7A044BA2--

From lucene-user-return-339-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Nov 14 15:35:20 2001
Return-Path: <lucene-user-return-339-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 47045 invoked from network); 14 Nov 2001 15:35:20 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 14 Nov 2001 15:35:20 -0000
Received: (qmail 6867 invoked by uid 97); 14 Nov 2001 15:35:06 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 6852 invoked by uid 97); 14 Nov 2001 15:35:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6834 invoked from network); 14 Nov 2001 15:35:05 -0000
Message-ID: <20011114153505.8866.qmail@web12706.mail.yahoo.com>
Date: Wed, 14 Nov 2001 07:35:05 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Is NEAR supported?
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <21A5421BCAE2D31181BE0006293935FA674C39@altea10.alteanet.it>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Please see http://www.jguru.com/faq/view.jsp?EID=538309

--- Alessio Fiore <afiore@alteanet.it> wrote:
> Hi, I'm using Lucene in an archived e-mail full-text search system
> and I'm
> agreeing with it's flexibility and speed, but I've got a doubt about
> querying capabilities. In one of Lucene's site linked external
> articles (
> http://www.javaworld.com/javaworld/jw-09-2000/jw-0915-lucene.html ),
> under
> "Query features" paragraph, you can read that Lucene queries support
> the
> NEAR operator, but I can't find it in Lucene's FAQs, in point 5 of
> searching
> section. Which one is right? Javaworld or Lucene's FAQs?
> 
> Thanks.
> Alessio
> 
> 
> 
> 
> - Disclaimer -
> This email and any attachments thereto may contain information which
> is
> confidential and/or protected by intellectual property rights and are
> intended for the sole use of the recipient(s) named above. Any use of
> the
> information contained herein (including, but not limited to, total or
> partial reproduction, communication or distribution in any form) or
> the
> taking of any action in reliance on the contents, by persons other
> than the
> designated recipient(s) is strictly prohibited.
> 
> If you have received this email in error, please notify the sender
> either by
> telephone or by email and delete the material from any computer.
> 
> Thank you for your cooperation. 
> 
> 
> 
> --
> To unsubscribe, e-mail:  
> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
> <mailto:lucene-user-help@jakarta.apache.org>
> 


__________________________________________________
Do You Yahoo!?
Find the one for you at Yahoo! Personals
http://personals.yahoo.com

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-340-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Nov 14 15:37:45 2001
Return-Path: <lucene-user-return-340-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 49596 invoked from network); 14 Nov 2001 15:37:44 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 14 Nov 2001 15:37:44 -0000
Received: (qmail 9701 invoked by uid 97); 14 Nov 2001 15:36:22 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 9674 invoked by uid 97); 14 Nov 2001 15:36:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 9642 invoked from network); 14 Nov 2001 15:36:21 -0000
Message-ID: <86F21E9558CE6F429B2D0AEB9820F1B82F2F5C@S1001EXM01.macromedia.com>
From: Paul Friedman <pfriedman@macromedia.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: QueryParser error when "." in query string
Date: Wed, 14 Nov 2001 10:36:18 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C16D22.1B9C18C4"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C16D22.1B9C18C4
Content-Type: text/plain;
	charset="iso-8859-1"

Forgot to mention that this problem doesn't exist in RC2.  I happens in Nov. 11 and Nov. 13 nightly builds.

-----Original Message-----
From: Paul Friedman [mailto:pfriedman@macromedia.com]
Sent: Wednesday, November 14, 2001 10:25 AM
To: 'lucene-user@jakarta.apache.org'
Subject: QueryParser error when "." in query string


Can somebody please help, this is a BIG issue for the project I'm working on?
 
I have attached a test case showing that QueryParser (using StandardAnalyzer) throws a TokenMgrError when parsing a query string that contains a "."
 
Output of the test is shown below.
 
Thanks.
Paul
 
D:\Dev\Test Tools\lucene>java -cp %CLASSPATH%;.\ ParseTest
Query string: children.name:John
org.apache.lucene.queryParser.TokenMgrError: Lexical error at line 1, column 9. Encountered: "." (46), after : ""
        at org.apache.lucene.queryParser.QueryParserTokenManager.getNextToken(Unknown Source)
        at org.apache.lucene.queryParser.QueryParser.jj_scan_token(Unknown Source)
        at org.apache.lucene.queryParser.QueryParser.jj_3_1(Unknown Source)
        at org.apache.lucene.queryParser.QueryParser.jj_2_1(Unknown Source)
        at org.apache.lucene.queryParser.QueryParser.Clause(Unknown Source)
        at org.apache.lucene.queryParser.QueryParser.Query(Unknown Source)
        at org.apache.lucene.queryParser.QueryParser.parse(Unknown Source)
        at org.apache.lucene.queryParser.QueryParser.parse(Unknown Source)
        at ParseTest.query(ParseTest.java:25)
        at ParseTest.main(ParseTest.java:15)
 
Query string: text:one.two
org.apache.lucene.queryParser.TokenMgrError: Lexical error at line 1, column 9. Encountered: "." (46), after : ""
        at org.apache.lucene.queryParser.QueryParserTokenManager.getNextToken(Unknown Source)
        at org.apache.lucene.queryParser.QueryParser.jj_ntk(Unknown Source)
        at org.apache.lucene.queryParser.QueryParser.Term(Unknown Source)
        at org.apache.lucene.queryParser.QueryParser.Clause(Unknown Source)
        at org.apache.lucene.queryParser.QueryParser.Query(Unknown Source)
        at org.apache.lucene.queryParser.QueryParser.parse(Unknown Source)
        at org.apache.lucene.queryParser.QueryParser.parse(Unknown Source)
        at ParseTest.query(ParseTest.java:25)
        at ParseTest.main(ParseTest.java:16)
 
Query string: one.two
org.apache.lucene.queryParser.TokenMgrError: Lexical error at line 1, column 4. Encountered: "." (46), after : ""
        at org.apache.lucene.queryParser.QueryParserTokenManager.getNextToken(Unknown Source)
        at org.apache.lucene.queryParser.QueryParser.jj_scan_token(Unknown Source)
        at org.apache.lucene.queryParser.QueryParser.jj_3_1(Unknown Source)
        at org.apache.lucene.queryParser.QueryParser.jj_2_1(Unknown Source)
        at org.apache.lucene.queryParser.QueryParser.Clause(Unknown Source)
        at org.apache.lucene.queryParser.QueryParser.Query(Unknown Source)
        at org.apache.lucene.queryParser.QueryParser.parse(Unknown Source)
        at org.apache.lucene.queryParser.QueryParser.parse(Unknown Source)
        at ParseTest.query(ParseTest.java:25)
        at ParseTest.main(ParseTest.java:17)
 
Query string: Look for me.
org.apache.lucene.queryParser.TokenMgrError: Lexical error at line 1, column 13. Encountered: <EOF> after : ""
        at org.apache.lucene.queryParser.QueryParserTokenManager.getNextToken(Unknown Source)
        at org.apache.lucene.queryParser.QueryParser.jj_scan_token(Unknown Source)
        at org.apache.lucene.queryParser.QueryParser.jj_3_1(Unknown Source)
        at org.apache.lucene.queryParser.QueryParser.jj_2_1(Unknown Source)
        at org.apache.lucene.queryParser.QueryParser.Clause(Unknown Source)
        at org.apache.lucene.queryParser.QueryParser.Query(Unknown Source)
        at org.apache.lucene.queryParser.QueryParser.parse(Unknown Source)
        at org.apache.lucene.queryParser.QueryParser.parse(Unknown Source)
        at ParseTest.query(ParseTest.java:25)
        at ParseTest.main(ParseTest.java:18)
 
 


------_=_NextPart_001_01C16D22.1B9C18C4--

From lucene-user-return-341-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Nov 14 18:24:28 2001
Return-Path: <lucene-user-return-341-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 89033 invoked from network); 14 Nov 2001 18:24:28 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 14 Nov 2001 18:24:28 -0000
Received: (qmail 2471 invoked by uid 97); 14 Nov 2001 18:23:51 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 2451 invoked by uid 97); 14 Nov 2001 18:23:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 2434 invoked from network); 14 Nov 2001 18:23:50 -0000
From: "Mikael Andersson" <mikael@daddy.se>
To: "Lucene-Interest" <lucene-user@jakarta.apache.org>
Subject: number search
Date: Wed, 14 Nov 2001 19:21:08 +0100
Message-ID: <008901c16d39$21fb8620$f1b295c3@mikael3>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


Maybe this should be a new thread :)

-----Original Message-----
From: Mikael Andersson [mailto:mikael@daddy.se] 
Sent: den 13 november 2001 18:24
To: 'Lucene Users List'
Subject: RE: national characters

Thanks that solved our problem!

But now another problem appeared (which wasn't there before the
upgrade to the nightly build of 11-13), before I could search
on for instance:

imageid:113*

which resulted in all images starting with no 113, very nice :)

But now I get the following error:

Error 500: Lexical error at line 1, column 6. Encountered: <EOF> after :
""

If I'm searching on the whole image id it works great.

Thanks / M



--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-342-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Nov 14 19:31:19 2001
Return-Path: <lucene-user-return-342-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 37956 invoked from network); 14 Nov 2001 19:31:19 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 14 Nov 2001 19:31:19 -0000
Received: (qmail 22853 invoked by uid 97); 14 Nov 2001 19:31:09 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 22833 invoked by uid 97); 14 Nov 2001 19:31:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22819 invoked from network); 14 Nov 2001 19:31:08 -0000
Message-Id: <D3EAF642C1C2D311A873009027B108A202261400@excsrv33.mayo.edu>
From: "Ogren, Philip V." <Ogren.Philip@mayo.edu>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: DateField - dates before 1970
Date: Wed, 14 Nov 2001 13:30:55 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: multipart/mixed;
	boundary="----_=_NextPart_000_01C16D42.E1380AA0"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------_=_NextPart_000_01C16D42.E1380AA0
Content-Type: text/plain;
	charset="iso-8859-1"


Attached is a modified version of DateField.  There are only 3 lines that
are modified: 

line 69:   private static long DATE_OFFSET = 6307200000000L; //200 years of
milliseconds = 200*365*24*60*60*1000
line 89:       time = time + DATE_OFFSET;
line 106:     return Long.parseLong(s, Character.MAX_RADIX) - DATE_OFFSET;

I'm new to Lucene and I realize this is probably the wrong list to send this
to.  Please let me know if I am way out of line here.  It seems like very
straightforward workaround - not necessarily a *good* solution.  

-----Original Message-----
From: Ogren, Philip V. 
Sent: Wednesday, November 14, 2001 8:06 AM
To: 'Lucene Users List'
Subject: DateField - dates before 1970



The method DateField.dateToString(Date date) throws an exception if the long
value of Date.getTime() is negative.  Therefore, it is not possible to
'encode' dates that are prior to 1970.  I think a limitation like this
should be clearly documented.  Please let me know if I have missed something
here.  

A possible work-around would be to add 200 years (or what ever is
*necessary*) worth of milliseconds to the value that is passed into
DateField.timeToString() and then subtract it from the return value of
DateField.stringToTime().  I'm going to try this, unless someone warns me
not to.  

I am using lucene-1.2-rc1

Thanks for your consideration,

Philip

> Philip V. Ogren
> Medical Information Resources
> Mayo Clinic Rochester
> (507) 538-0167
> ogren@mayo.edu



------_=_NextPart_000_01C16D42.E1380AA0
Content-Type: application/octet-stream;
	name="DateField.java"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: attachment;
	filename="DateField.java"

package org.apache.lucene.document;

/* =
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
 * The Apache Software License, Version 1.1
 *
 * Copyright (c) 2001 The Apache Software Foundation.  All rights
 * reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions
 * are met:
 *
 * 1. Redistributions of source code must retain the above copyright
 *    notice, this list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright
 *    notice, this list of conditions and the following disclaimer in
 *    the documentation and/or other materials provided with the
 *    distribution.
 *
 * 3. The end-user documentation included with the redistribution,
 *    if any, must include the following acknowledgment:
 *       "This product includes software developed by the
 *        Apache Software Foundation (http://www.apache.org/)."
 *    Alternately, this acknowledgment may appear in the software =
itself,
 *    if and wherever such third-party acknowledgments normally appear.
 *
 * 4. The names "Apache" and "Apache Software Foundation" and
 *    "Apache Lucene" must not be used to endorse or promote products
 *    derived from this software without prior written permission. For
 *    written permission, please contact apache@apache.org.
 *
 * 5. Products derived from this software may not be called "Apache",
 *    "Apache Lucene", nor may "Apache" appear in their name, without
 *    prior written permission of the Apache Software Foundation.
 *
 * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED
 * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
 * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR
 * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF
 * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
 * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT
 * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
 * SUCH DAMAGE.
 * =
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
 *
 * This software consists of voluntary contributions made by many
 * individuals on behalf of the Apache Software Foundation.  For more
 * information on the Apache Software Foundation, please see
 * <http://www.apache.org/>.
 */

import java.util.Date;

/** Provides support for converting dates to strings and vice-versa.  =
The
   * strings are structured so that lexicographic sorting orders by =
date.  This
   * makes them suitable for use as field values and search terms.  */
public class DateField {
  private DateField() {};

  // make date strings long enough to last a millenium
  private static int DATE_LEN =3D =
Long.toString(1000L*365*24*60*60*1000,
					       Character.MAX_RADIX).length();

  private static long DATE_OFFSET =3D 6307200000000L; //200 years of =
milliseconds =3D 200*365*24*60*60*1000
 =20
  public static String MIN_DATE_STRING() {
    return timeToString(0);
  }

  public static String MAX_DATE_STRING() {
    char[] buffer =3D new char[DATE_LEN];
    char c =3D Character.forDigit(Character.MAX_RADIX-1, =
Character.MAX_RADIX);
    for (int i =3D 0 ; i < DATE_LEN; i++)
      buffer[i] =3D c;
    return new String(buffer);
  }
 =20
  /** Converts a Date to a string suitable for indexing. */
  public static String dateToString(Date date) {
    return timeToString(date.getTime());
  }
  /** Converts a millisecond time to a string suitable for indexing. */
  public static String timeToString(long time) {
    time =3D time + DATE_OFFSET;
    if (time < 0)
      throw new RuntimeException("time too early");

    String s =3D Long.toString(time, Character.MAX_RADIX);

    if (s.length() > DATE_LEN)
      throw new RuntimeException("time too late");

    while (s.length() < DATE_LEN)
      s =3D "0" + s;				  // pad with leading zeros

    return s;
  }

  /** Converts a string-encoded date into a millisecond time. */
  public static long stringToTime(String s) {
    return Long.parseLong(s, Character.MAX_RADIX) - DATE_OFFSET;
  }
  /** Converts a string-encoded date into a Date object. */
  public static Date stringToDate(String s) {
    return new Date(stringToTime(s));
  }
}


------_=_NextPart_000_01C16D42.E1380AA0
Content-Type: text/plain; charset=us-ascii

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>
------_=_NextPart_000_01C16D42.E1380AA0--

From lucene-user-return-343-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Nov 14 22:05:15 2001
Return-Path: <lucene-user-return-343-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 34873 invoked from network); 14 Nov 2001 22:05:15 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 14 Nov 2001 22:05:15 -0000
Received: (qmail 11281 invoked by uid 97); 14 Nov 2001 21:59:26 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 11252 invoked by uid 97); 14 Nov 2001 21:59:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11237 invoked from network); 14 Nov 2001 21:59:24 -0000
Message-ID: <004001c16d57$e7481dd0$200116ac@IFRIT>
From: "Brandon Jockman" <brandonj@isogen.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <D3EAF642C1C2D311A873009027B108A202261400@excsrv33.mayo.edu>
Subject: Complex query puzzle.
Date: Wed, 14 Nov 2001 16:01:24 -0600
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.00.3018.1300
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.3018.1300
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Lucene Gurus:

I have a need for complex querying with my lucene index that allows
combinations of:

. toggling case sensitivity on and off
. toggling porter stemming on and off
. toggling fuzzy matching on and off
. toggling wildcard matching on and off
. more...

along with regular query strings that include optional date range queries.

The only way I see to do this is:
.   Creating multiple fields for each true field. One for each combination
of the options: ie.
    one for case sensitive & porter stemming. One for case sensitive & NOT
porter
    stemming, etc... Doing a search on the particular one that fits the
given search params.

There will be many thousands of documents in the index and our logical
documents are already being turned into multiple lucene documents, so all of
the duplication could be very costly.

Is there a better way of doing what I'm trying to do? Can you create an
index using a custom analyzer using a combination of filters and search it
only using a subset of those filters?

I could really use advice on this... alternatives, recommendations, etc...

Thanks in advance!!!

-Brandon Jockman


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-344-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Nov 14 23:11:01 2001
Return-Path: <lucene-user-return-344-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 65911 invoked from network); 14 Nov 2001 23:11:01 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 14 Nov 2001 23:11:01 -0000
Received: (qmail 27288 invoked by uid 97); 14 Nov 2001 23:06:10 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 27257 invoked by uid 97); 14 Nov 2001 23:06:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 27236 invoked from network); 14 Nov 2001 23:06:09 -0000
Mime-Version: 1.0
X-Sender: wintondavies@mail.earthlink.net
Message-Id: <v04205547b818a6386a99@[172.19.0.98]>
Date: Wed, 14 Nov 2001 15:05:24 -0800
To: Lucene Users List <lucene-user@jakarta.apache.org>
From: Winton Davies <wdavies@overture.com>
Subject: Efficient doc information retrieval.
Content-Type: text/plain; charset="us-ascii" ; format="flowed"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi all,
 
  Thanks for all your continuing help! I have got the go ahead to 
build a production-level prototype of my project. I have to be able 
to serve several 100s of queries a second (on big boxes), and I'm 
currently getting 2 or 3 seconds/query with a sloppy phrase match. I 
was trying to profile my usercode, and I saw that it is the 
uniqification loop that is killing me.

  In my application, I have to be able to return a list of documents, 
that have been uniqified according to an accountID. The most relevant 
document for an accountID is returned, and then susequent hits that 
have the same accountID are dropped.

  So, in a recent search of an 8 million document index, I got around 
200? hits sloppy phrase hits, and I needed to weed out the duplicates.

  so the pseudo code is:

   while ( i < hits.length && resultSet.size < 40) {
    accountID = doc(i).get("accountID");
    if hashtable.get(accountID) != null continue;
    else insert accountID in hashtable, add result to resultSet.
  }

  I timed it, and I was getting about 60 msecs each time round that 
loop, which makes me suspect the doc(i).get().

  This seems to be really inefficient (the query is a sloppy Phrase 
matcher). Any ideas how I can speed this up? I'm obviously going to 
try a RAMDirectory version, but it seems that the 60msec delay is 
over the top ?

I guess the short version of this is

  (a) Is there a way to do this uniqification somehow in the index itself ?
  (b) or have a special kind of field which is ultrafast to access given "i" ?
  (c) or anyway to speed up the existing behaviour!

  Cheers,
  Winton

Winton Davies
Lead Engineer, Overture (NSDQ: OVER)
1820 Gateway Drive, Suite 360
San Mateo, CA 94404
work: (650) 403-2259
cell: (650) 867-1598
http://www.overture.com/

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-345-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Nov 14 23:31:17 2001
Return-Path: <lucene-user-return-345-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 83210 invoked from network); 14 Nov 2001 23:31:17 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 14 Nov 2001 23:31:17 -0000
Received: (qmail 28438 invoked by uid 97); 14 Nov 2001 23:31:19 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 28403 invoked by uid 97); 14 Nov 2001 23:31:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 28392 invoked from network); 14 Nov 2001 23:31:18 -0000
Message-ID: <3BF2FEA5.712B475C@isogen.com>
Date: Wed, 14 Nov 2001 17:30:45 -0600
From: "W. Eliot Kimber" <eliot@isogen.com>
Organization: ISOGEN
X-Mailer: Mozilla 4.78 [en] (Windows NT 5.0; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Efficient doc information retrieval.
References: <v04205547b818a6386a99@[172.19.0.98]>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Winton Davies wrote:
> 
> Hi all,

>   In my application, I have to be able to return a list of documents,
> that have been uniqified according to an accountID. The most relevant
> document for an accountID is returned, and then susequent hits that
> have the same accountID are dropped.

Do you mean that certain documents are associated with particular
account IDs? If so, why not include the account ID as part of the query?
Or have I missed something?

Cheers,

Eliot Kimber
ISOGEN International
eliot@isogen.com

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-346-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Nov 14 23:36:57 2001
Return-Path: <lucene-user-return-346-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 86881 invoked from network); 14 Nov 2001 23:36:57 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 14 Nov 2001 23:36:57 -0000
Received: (qmail 4504 invoked by uid 97); 14 Nov 2001 23:37:01 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 4473 invoked by uid 97); 14 Nov 2001 23:37:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4462 invoked from network); 14 Nov 2001 23:37:00 -0000
Mime-Version: 1.0
X-Sender: wintondavies@mail.earthlink.net
Message-Id: <v04205548b818af96a0de@[172.19.0.98]>
In-Reply-To: <3BF2FEA5.712B475C@isogen.com>
References: <v04205547b818a6386a99@[172.19.0.98]>
 <3BF2FEA5.712B475C@isogen.com>
Date: Wed, 14 Nov 2001 15:36:10 -0800
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
From: Winton Davies <wdavies@overture.com>
Subject: Re: Efficient doc information retrieval.
Content-Type: text/plain; charset="us-ascii" ; format="flowed"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi Eliot,

  Not really, all documents have an accountID, but I need to search 
all the documents
first, and each document that is returned has an accountID, but I 
just want one document
per accountID.

so:

  doc1 acc1
  doc2 acc1
  doc3 acc1
  doc4 acc2
  doc5 acc2
  doc6 acc2

Lets say the query "X" returns hits in this order:

  doc1
  doc2
  doc3
  doc4
  doc5

what I want returned is:

  doc1  (best of acc1)
  doc4  (best of acc2)

Note that creating a seperate Index for each account is impractical 
(30K+ accountID).

  Cheers,
   Winton



At 17:30 -0600 11/14/01, W. Eliot Kimber wrote:
>Winton Davies wrote:
>>
>> Hi all,
>
>>   In my application, I have to be able to return a list of documents,
>> that have been uniqified according to an accountID. The most relevant
>> document for an accountID is returned, and then susequent hits that
>> have the same accountID are dropped.
>
>Do you mean that certain documents are associated with particular
>account IDs? If so, why not include the account ID as part of the query?
>Or have I missed something?
>
>Cheers,
>
>Eliot Kimber
>ISOGEN International
>eliot@isogen.com
>
>--
>To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
>For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


Winton Davies
Lead Engineer, Overture (NSDQ: OVER)
1820 Gateway Drive, Suite 360
San Mateo, CA 94404
work: (650) 403-2259
cell: (650) 867-1598
http://www.overture.com/

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-347-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Nov 15 00:08:29 2001
Return-Path: <lucene-user-return-347-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 3412 invoked from network); 15 Nov 2001 00:08:29 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 15 Nov 2001 00:08:29 -0000
Received: (qmail 24400 invoked by uid 97); 15 Nov 2001 00:08:34 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 24384 invoked by uid 97); 15 Nov 2001 00:08:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 24373 invoked from network); 15 Nov 2001 00:08:33 -0000
Message-ID: <3BF30760.37D564B8@isogen.com>
Date: Wed, 14 Nov 2001 18:08:00 -0600
From: "W. Eliot Kimber" <eliot@isogen.com>
Organization: ISOGEN
X-Mailer: Mozilla 4.78 [en] (Windows NT 5.0; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Efficient doc information retrieval.
References: <v04205547b818a6386a99@[172.19.0.98]>
	 <3BF2FEA5.712B475C@isogen.com> <v04205548b818af96a0de@[172.19.0.98]>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Winton Davies wrote:
> 
> Hi Eliot,
> 
>   Not really, all documents have an accountID, but I need to search
> all the documents
> first, and each document that is returned has an accountID, but I
> just want one document
> per accountID.

I see the problem. Can't think of any other way to solve it than to
post-process the returned docs as you described. 

Eliot Kimber
ISOGEN International
eliot@isogen.com

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-348-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Nov 15 00:14:07 2001
Return-Path: <lucene-user-return-348-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 4868 invoked from network); 15 Nov 2001 00:14:07 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 15 Nov 2001 00:14:07 -0000
Received: (qmail 28974 invoked by uid 97); 15 Nov 2001 00:14:10 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 28926 invoked by uid 97); 15 Nov 2001 00:14:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 28897 invoked from network); 15 Nov 2001 00:14:04 -0000
Mime-Version: 1.0
X-Sender: wintondavies@mail.earthlink.net
Message-Id: <v04205549b818b8fad7b1@[172.19.0.98]>
In-Reply-To: <3BF30760.37D564B8@isogen.com>
References: <v04205547b818a6386a99@[172.19.0.98]>	
 <3BF2FEA5.712B475C@isogen.com> <v04205548b818af96a0de@[172.19.0.98]>
 <3BF30760.37D564B8@isogen.com>
Date: Wed, 14 Nov 2001 16:13:07 -0800
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
From: Winton Davies <wdavies@overture.com>
Subject: Re: Efficient doc information retrieval.
Content-Type: text/plain; charset="us-ascii" ; format="flowed"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Thanks anyway ! Much appreciate you thinking about it ?
 
Cheers,
   Winton

Winton Davies
Lead Engineer, Overture (NSDQ: OVER)
1820 Gateway Drive, Suite 360
San Mateo, CA 94404
work: (650) 403-2259
cell: (650) 867-1598
http://www.overture.com/

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-349-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Nov 15 00:44:15 2001
Return-Path: <lucene-user-return-349-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 14690 invoked from network); 15 Nov 2001 00:44:15 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 15 Nov 2001 00:44:15 -0000
Received: (qmail 19922 invoked by uid 97); 15 Nov 2001 00:44:22 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 19906 invoked by uid 97); 15 Nov 2001 00:44:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 19895 invoked from network); 15 Nov 2001 00:44:20 -0000
Mime-Version: 1.0
X-Sender: wintondavies@mail.earthlink.net
Message-Id: <v0420554ab818bfaf6b6b@[172.19.0.98]>
In-Reply-To: <3BF254F8.FED75EDF@fpg.de>
References:
 <Pine.WNT.4.21.0111131811280.-88445-100000@syzygy.reshsg.uci.edu>
 <v04205536b817d3338485@[172.19.0.98]> <3BF254F8.FED75EDF@fpg.de>
Date: Wed, 14 Nov 2001 16:43:20 -0800
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
From: Winton Davies <wdavies@overture.com>
Subject: Re: RAMdirectory from Directory ?
Content-Type: text/plain; charset="us-ascii" ; format="flowed"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi again (sorry for the volume of question!)

I implemented this, with one change (the IndexWriter has to have TRUE 
set at the end, as ramdiris a new directory).

It loaded into memory, but then when I tried a search I got this stack trace:

java.lang.ArrayIndexOutOfBoundsException
         at java.lang.System.arraycopy(Native Method)
         at org.apache.lucene.store.RAMInputStream.readInternal(Unknown Source)
         at org.apache.lucene.store.InputStream.readBytes(Unknown Source)
         at org.apache.lucene.index.SegmentReader.norms(Unknown Source)
         at org.apache.lucene.index.SegmentReader.norms(Unknown Source)
         at org.apache.lucene.search.TermQuery.scorer(Unknown Source)
         at org.apache.lucene.search.Query.scorer(Unknown Source)
         at org.apache.lucene.search.IndexSearcher.search(Unknown Source)
         at org.apache.lucene.search.Hits.getMoreDocs(Unknown Source)
         at org.apache.lucene.search.Hits.<init>(Unknown Source)
         at org.apache.lucene.search.Searcher.search(Unknown Source)
         at org.apache.lucene.search.Searcher.search(Unknown Source)
         at 
com.go2.idxsearch.godzilla.MiniSearchListings.processOneQueryStringArr 
ay(MiniSearchListings.java:175)
         at 
com.go2.idxsearch.godzilla.FastGodzilla.callSearchResult(FastGodzilla. 
java:55)
         at 
com.go2.idxsearch.godzilla.FastGodzilla.setSortType(FastGodzilla.java: 
199)

Anyone have any ideas why it could fail ?

  Cheers,
    Winton


>Winton Davies wrote:
>>   I've an index that should fit in RAM -- but I need it stored as a
>> file. Is there anyway to read in the regular directory in the the
>> RAMDirectory and then create an IndexSearcher from this ? It seems
>> that there should be, but I can't find a method to construct a
>> RAMDirectory from a regular Directory ?
>
>Look at IndexWriter.addIndexes( Directory[] dirs )
>
>You can store your RAMDirectory into a new FSDirectory and load a
>FSDircetory into a new RAMDirectory.
>
>Something like:
>
>Directory loadIndex() {
>	Directory fs = FSDirectory.getDirectory( pathToIndex, false );
>	RAMDirectory ramdir = new RAMDircetory();
>	IndexWriter iw = new IndexWriter( ramdir, myAnalyzer, false );
>	iw.addIndexes( new Directory[]{fs} );
>	iw.close();
>	fs.close();
>	return ramdir;
>}
>void storeIndex( Directory ramdir ) {
>	Directory fs = FSDirectory.getDirectory( pathToIndex, true ); // create
>a new Index here
>	IndexWriter iw = new IndexWriter( fs, myAnalyzer, true );
>	iw.addIndexes( new Directory[]{ramdir} );
>	iw.close();
>	fs.close();
>}
>
>
>HTH,
>Gerhard
>
>--
>To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
>For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


Winton Davies
Lead Engineer, Overture (NSDQ: OVER)
1820 Gateway Drive, Suite 360
San Mateo, CA 94404
work: (650) 403-2259
cell: (650) 867-1598
http://www.overture.com/

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-350-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Nov 15 01:03:43 2001
Return-Path: <lucene-user-return-350-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 20625 invoked from network); 15 Nov 2001 01:03:43 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 15 Nov 2001 01:03:43 -0000
Received: (qmail 3358 invoked by uid 97); 15 Nov 2001 01:03:50 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 3342 invoked by uid 97); 15 Nov 2001 01:03:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3331 invoked from network); 15 Nov 2001 01:03:49 -0000
Message-ID: <012101c16d71$8538aaa0$0b01a8c0@168.1.8.Domainrelevanz>
From: "Kelvin Tan" <kelvin@relevanz.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <003401c16c43$a4882900$f1b295c3@mikael3> <000d01c16c68$09705580$6b00a8c0@Zurich> <00e901c16d09$51f21f40$6b00a8c0@Zurich> <3BF26D67.7AE218E8@blackwell.co.uk>
Subject: Re: Searching all the fields
Date: Thu, 15 Nov 2001 09:04:47 +0800
Organization: Relevanz Pte Ltd
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.00.2615.200
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2615.200
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Yep, I posted the code on Tuesday. It's somewhat more flexible than the
method suggested in the FAQ.

It's not in the mail-archives yet, so if you want it just drop me an email.

Regards,
Kelvin

----- Original Message -----
From: Ian Lea <ian.lea@blackwell.co.uk>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Sent: Wednesday, November 14, 2001 9:11 PM
Subject: Re: Searching all the fields


> You can't do it that way.  One way is to gather all the fields
> you want to search across into one big field called "contents"
> or something.  That is in the FAQ at
>
http://www.lucene.com/cgi-bin/faq/faqmanager.cgi?file=chapter.search&toc=faq
#q12
> and is the way I do it.
>
> A few days ago someone posted some code that, I think, took a term
> and prefixed it with assorted different field names.  If my
> recollection is correct that might be another way.
>
>
>
> --
> Ian.
> ian.lea@blackwell.co.uk
>
>
> David Bonilla wrote:
> >
> > If I want to search a word in all my fields, can I do it passing the
String field like a null to a QueryParser ? If I cant do it this way, what
must I do ?
> > __________________________
> > David Bonilla Fuertes
> > THE BIT BANG NETWORK
> > http://www.bit-bang.com
>
> --
> To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>
>
>


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-351-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Nov 15 08:27:55 2001
Return-Path: <lucene-user-return-351-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 89527 invoked from network); 15 Nov 2001 08:27:55 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 15 Nov 2001 08:27:55 -0000
Received: (qmail 1663 invoked by uid 97); 15 Nov 2001 08:28:05 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 1646 invoked by uid 97); 15 Nov 2001 08:28:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1635 invoked from network); 15 Nov 2001 08:28:04 -0000
X-Authentication-Warning: bitbang.com: Host p107.bit-bang.com [192.168.0.107] claimed to be Zurich
Message-ID: <01d701c16daf$d3ac18a0$6b00a8c0@Zurich>
Reply-To: "David Bonilla" <david@bit-bang.com>
From: "David Bonilla" <david@bit-bang.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <003401c16c43$a4882900$f1b295c3@mikael3> <000d01c16c68$09705580$6b00a8c0@Zurich> <00e901c16d09$51f21f40$6b00a8c0@Zurich> <3BF26D67.7AE218E8@blackwell.co.uk> <012101c16d71$8538aaa0$0b01a8c0@168.1.8.Domainrelevanz>
Subject: Searching all the fields (and II)
Date: Thu, 15 Nov 2001 09:30:47 +0100
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_01D4_01C16DB8.353AF1B0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.00.2919.6700
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2919.6700
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_01D4_01C16DB8.353AF1B0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

First thank to Kelvin Tan and the rest of the people for his support and =
help.

Well, I talked to my boss and  I suggested the posibility of create a =
new field with all the content. This thing duplicate the Index but the =
search was still very very quick. But the man didn=B4t accept this way =
so... now I make one search for each of my fields and, at the same time, =
I filt the hits with a HashSet. What do you think about this ?
__________________________
David Bonilla Fuertes
THE BIT BANG NETWORK
http://www.bit-bang.com
Profesor Waksman, 8, 6=BA B
28036 Madrid
SPAIN
Tel.: (+34) 914 577 747
M=F3vil: 656 62 83 92
Fax: (+34) 914 586 176
__________________________
=20
=20

------=_NextPart_000_01D4_01C16DB8.353AF1B0--


From lucene-user-return-352-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Nov 15 08:46:43 2001
Return-Path: <lucene-user-return-352-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 3521 invoked from network); 15 Nov 2001 08:46:42 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 15 Nov 2001 08:46:42 -0000
Received: (qmail 15574 invoked by uid 97); 15 Nov 2001 08:46:54 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 15558 invoked by uid 97); 15 Nov 2001 08:46:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 15546 invoked from network); 15 Nov 2001 08:46:53 -0000
Message-ID: <027301c16db2$38cab6e0$0b01a8c0@168.1.8.Domainrelevanz>
From: "Kelvin Tan" <kelvin@relevanz.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
   "David Bonilla" <david@bit-bang.com>
References: <003401c16c43$a4882900$f1b295c3@mikael3> <000d01c16c68$09705580$6b00a8c0@Zurich> <00e901c16d09$51f21f40$6b00a8c0@Zurich> <3BF26D67.7AE218E8@blackwell.co.uk> <012101c16d71$8538aaa0$0b01a8c0@168.1.8.Domainrelevanz> <01d701c16daf$d3ac18a0$6b00a8c0@Zurich>
Subject: Re: Searching all the fields (and II)
Date: Thu, 15 Nov 2001 16:47:53 +0800
Organization: Relevanz Pte Ltd
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.00.2615.200
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2615.200
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


>First thank to Kelvin Tan and the rest of the people for his support and
help.

You're most welcome.

>Well, I talked to my boss and  I suggested the posibility of create a new
field with all the content. This thing duplicate the Index but >the search
was still very very quick. But the man didnt accept this way so... now I
make one search for each of my fields and, at >the same time, I filt the
hits with a HashSet. What do you think about this ?

Are you looking to search on all the fields? If so, I guess this is an OK
approach, but I believe your results may be distorted unless all Hits are
sorted by score before adding to the HashSet.

Regards,
Kelvin


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-353-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Nov 15 16:07:05 2001
Return-Path: <lucene-user-return-353-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 61164 invoked from network); 15 Nov 2001 16:07:05 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 15 Nov 2001 16:07:05 -0000
Received: (qmail 13240 invoked by uid 97); 15 Nov 2001 15:56:00 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 13221 invoked by uid 97); 15 Nov 2001 15:55:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 13208 invoked from network); 15 Nov 2001 15:55:58 -0000
Message-ID: <4BC270C6AB8AD411AD0B00B0D0493DF0EE7D0C@mail.grandcentral.com>
From: Doug Cutting <DCutting@grandcentral.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: RAMdirectory from Directory ?
Date: Thu, 15 Nov 2001 07:43:57 -0800
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> From: Winton Davies [mailto:wdavies@overture.com]
> 
> It loaded into memory, but then when I tried a search I got 
> this stack trace:
> 
> java.lang.ArrayIndexOutOfBoundsException
>          at java.lang.System.arraycopy(Native Method)
>          at 
> org.apache.lucene.store.RAMInputStream.readInternal(Unknown Source)

What version of Lucene are you using?  There was a bug in the last release
of RAMDirectory that is fixed in the nightly builds.  If that does not solve
your problem, please submit a self-contained test case that reproduces it.

Doug

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-354-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Nov 15 16:23:17 2001
Return-Path: <lucene-user-return-354-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 74395 invoked from network); 15 Nov 2001 16:23:16 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 15 Nov 2001 16:23:16 -0000
Received: (qmail 10600 invoked by uid 97); 15 Nov 2001 16:16:51 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 10544 invoked by uid 97); 15 Nov 2001 16:16:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 10507 invoked from network); 15 Nov 2001 16:16:49 -0000
Date: Thu, 15 Nov 2001 08:16:28 -0800
From: Winton Davies <wdavies@overture.com>
Subject: RE: RAMdirectory from Directory ?
In-reply-to: <4BC270C6AB8AD411AD0B00B0D0493DF0EE7D0C@mail.grandcentral.com>
X-Sender: wintondavies@mail.earthlink.net
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <v04205551b819997c5f00@[172.19.0.98]>
MIME-version: 1.0
Content-type: text/plain; charset=us-ascii; format=flowed
Content-transfer-encoding: 7BIT
References: <4BC270C6AB8AD411AD0B00B0D0493DF0EE7D0C@mail.grandcentral.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi Doug,
 
  Thanks! FYI -- I think I may have come up with a delicious 
work-around -- that has a
bunch of nice properties:

  Make an FS index, tar it up and then untar onto /tmp :)

  Works a treat when you have 4GB and you are the only user :)

  The really nice property is that you can now stop and start the search
engine without having a huge delay (maybe 20 minutes) while it loads up
the Index (in my case 1gb).

I got a speed up of around 100x or so - but some queries are still
killing my performance metrics. I'm trying to figure out what they are.

Any idea whether you think a RAMdir would be faster than the /tmpfs ?
I am not familiar with how the comparative disk/io operations would work
compared with what is set up inside a RAMdir

  Winton


>> From: Winton Davies [mailto:wdavies@overture.com]
>>
>> It loaded into memory, but then when I tried a search I got
>> this stack trace:
>>
>> java.lang.ArrayIndexOutOfBoundsException
>>          at java.lang.System.arraycopy(Native Method)
>>          at
>> org.apache.lucene.store.RAMInputStream.readInternal(Unknown Source)
>
>What version of Lucene are you using?  There was a bug in the last release
>of RAMDirectory that is fixed in the nightly builds.  If that does not solve
>your problem, please submit a self-contained test case that reproduces it.
>
>Doug
>
>--
>To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
>For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


Winton Davies
Lead Engineer, Overture (NSDQ: OVER)
1820 Gateway Drive, Suite 360
San Mateo, CA 94404
work: (650) 403-2259
cell: (650) 867-1598
http://www.overture.com/

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-355-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Nov 15 17:35:23 2001
Return-Path: <lucene-user-return-355-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 30607 invoked from network); 15 Nov 2001 17:35:23 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 15 Nov 2001 17:35:23 -0000
Received: (qmail 21319 invoked by uid 97); 15 Nov 2001 17:35:25 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 21303 invoked by uid 97); 15 Nov 2001 17:35:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 21292 invoked from network); 15 Nov 2001 17:35:24 -0000
Message-ID: <4BC270C6AB8AD411AD0B00B0D0493DF0EE7D0F@mail.grandcentral.com>
From: Doug Cutting <DCutting@grandcentral.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Efficient doc information retrieval.
Date: Thu, 15 Nov 2001 09:23:27 -0800
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> From: Winton Davies [mailto:wdavies@overture.com]
> 
>   Not really, all documents have an accountID, but I need to search 
> all the documents
> first, and each document that is returned has an accountID, but I 
> just want one document
> per accountID.
> 
> so:
> 
>   doc1 acc1
>   doc2 acc1
>   doc3 acc1
>   doc4 acc2
>   doc5 acc2
>   doc6 acc2
> 
> Lets say the query "X" returns hits in this order:
> 
>   doc1
>   doc2
>   doc3
>   doc4
>   doc5
> 
> what I want returned is:
> 
>   doc1  (best of acc1)
>   doc4  (best of acc2)

You might try something like:
  construct an int[] array that has an "account number" for each document
  construct a BitSet to keep track of whether you've seen a hit for each
account
  use a HitCollector that uses these as follows:
    if (!seen.get(accounts[doc])) {
      seen.set(accounts[doc]);
      collect(doc);
    }
That should be quite fast.

You'll want to construct the accounts array once when you open the index,
perhaps by enumerating some terms that store this information.  You'll need
to construct a new "seen" BitSet for each query, or clear a cached one.

Doug

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-356-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Nov 15 18:25:57 2001
Return-Path: <lucene-user-return-356-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 63427 invoked from network); 15 Nov 2001 18:25:56 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 15 Nov 2001 18:25:56 -0000
Received: (qmail 7335 invoked by uid 97); 15 Nov 2001 18:25:59 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 7305 invoked by uid 97); 15 Nov 2001 18:25:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7294 invoked from network); 15 Nov 2001 18:25:58 -0000
Date: Thu, 15 Nov 2001 10:25:19 -0800
From: Winton Davies <wdavies@overture.com>
Subject: RE: Efficient doc information retrieval.
In-reply-to: <4BC270C6AB8AD411AD0B00B0D0493DF0EE7D0F@mail.grandcentral.com>
X-Sender: wintondavies@mail.earthlink.net
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <v0420555eb819b8f44d09@[172.19.0.98]>
MIME-version: 1.0
Content-type: text/plain; charset=us-ascii; format=flowed
Content-transfer-encoding: 7BIT
References: <4BC270C6AB8AD411AD0B00B0D0493DF0EE7D0F@mail.grandcentral.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Thanks so much Doug! Looks clever, I'll try it out :)

   Winton

Winton Davies
Lead Engineer, Overture (NSDQ: OVER)
1820 Gateway Drive, Suite 360
San Mateo, CA 94404
work: (650) 403-2259
cell: (650) 867-1598
http://www.overture.com/

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-357-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 16 07:44:51 2001
Return-Path: <lucene-user-return-357-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 48544 invoked from network); 16 Nov 2001 07:44:51 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 16 Nov 2001 07:44:51 -0000
Received: (qmail 17659 invoked by uid 97); 16 Nov 2001 07:45:03 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 17467 invoked by uid 97); 16 Nov 2001 07:45:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17456 invoked from network); 16 Nov 2001 07:44:59 -0000
Date: Thu, 15 Nov 2001 23:49:07 -0800 (Pacific Standard Time)
From: Joshua O'Madadhain <jmadden@ics.uci.edu>
To: lucene-user@jakarta.apache.org
Subject: extracting information from an index
Message-ID: <Pine.WNT.4.21.0111152337130.-496131@syzygy.reshsg.uci.edu>
X-X-Sender: jmadden@smtp.ics.uci.edu
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I am trying to construct a term-term correlation matrix from the data
stored in the index, for an extension to the vector model that I am
researching.  In case my terminology is unfamiliar, what I need in order
to do this is, for each term t, a list of those documents which contain t
(also having a record of the number of times that t occurs in each would
be a nice bonus).

>From this I can calculate the rest of what I need (number of times that
terms t1 and t2 occur in the same document, etc.).

If necessary I could squeeze by with just knowing the number of documents
in which t1, t2, and the combination (t1 AND t2) appear, but having the
above information from which to work would give me more flexibility.


Anyway, if there is a straightforward way of doing this that I have not
yet spotted, I'd like to know what it is; if not, pointing me at the
appropriate chunks of the source to start hacking on would also be
appreciated.

Thanks in advance for any help that may be offered.

Regards,

Joshua O'Madadhain (Madden)

 jmadden@ics.uci.edu...Obscurium Per Obscurius...www.ics.uci.edu/~jmadden
    Joshua Madden: Information Scientist, Musician, Philosopher-At-Tall
 It's that moment of dawning comprehension that I live for--Bill Watterson
My opinions are too rational and insightful to be those of any organization.


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-358-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 16 16:10:18 2001
Return-Path: <lucene-user-return-358-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 90456 invoked from network); 16 Nov 2001 16:10:18 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 16 Nov 2001 16:10:18 -0000
Received: (qmail 4278 invoked by uid 97); 16 Nov 2001 16:09:13 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 4060 invoked by uid 97); 16 Nov 2001 16:09:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3967 invoked from network); 16 Nov 2001 16:09:04 -0000
X-Apparently-From: <barrett?tom@yahoo.com>
From: "Tom Barrett" <barrett_tom@yahoo.com>
To: <lucene-user@jakarta.apache.org>
Subject: io exception on recreating an index
Date: Fri, 16 Nov 2001 09:59:12 -0600
Message-ID: <NEBBKDCIELHCGJKLMMNJMEAKCCAA.barrett_tom@yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


Hello all-

I'm currently having a problem overwriting an old index. Every night, the
contents of a database I'm using get updated, so the lucene indexes are also
recreated every night. The technique I'm currently using is just to start a
new index on top of the old one (IndexWriter writer = new
IndexWriter(filePath, new StandardAnalyzer(), true) ) but sproatically I get
an IO exception: couldn't delete _2oil.fdt or something to that effect.

I'm pretty sure nothing is using the index (but then again I am querying it
using a COM+ wrapper, so who really knows what's going on behind the
scenes)...anyone have any ideas how to avoid this? Worst case senario I
would at least like the old index to still be usable (the one from the night
before). Is there a way to transactionally update an index or something to
that effect?

Thanks for the help,

Tom



_________________________________________________________
Do You Yahoo!?
Get your free @yahoo.com address at http://mail.yahoo.com


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-359-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 16 16:14:54 2001
Return-Path: <lucene-user-return-359-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 93086 invoked from network); 16 Nov 2001 16:14:54 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 16 Nov 2001 16:14:54 -0000
Received: (qmail 10966 invoked by uid 97); 16 Nov 2001 16:14:53 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 10915 invoked by uid 97); 16 Nov 2001 16:14:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 10857 invoked from network); 16 Nov 2001 16:14:48 -0000
Message-ID: <4BC270C6AB8AD411AD0B00B0D0493DF0EE7D17@mail.grandcentral.com>
From: Doug Cutting <DCutting@grandcentral.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: extracting information from an index
Date: Fri, 16 Nov 2001 07:52:57 -0800
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> From: Joshua O'Madadhain [mailto:jmadden@ics.uci.edu]
> 
> I am trying to construct a term-term correlation matrix from the data
> stored in the index, for an extension to the vector model that I am
> researching.  In case my terminology is unfamiliar, what I 
> need in order
> to do this is, for each term t, a list of those documents 
> which contain t
> (also having a record of the number of times that t occurs in 
> each would
> be a nice bonus).

Sounds like IndexReader.termDocs().

Doug

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-360-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 16 19:15:22 2001
Return-Path: <lucene-user-return-360-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 10038 invoked from network); 16 Nov 2001 19:15:22 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 16 Nov 2001 19:15:22 -0000
Received: (qmail 17530 invoked by uid 97); 16 Nov 2001 19:11:31 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 17360 invoked by uid 97); 16 Nov 2001 19:11:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17195 invoked from network); 16 Nov 2001 19:11:08 -0000
Message-ID: <4BC270C6AB8AD411AD0B00B0D0493DF0EE7D19@mail.grandcentral.com>
From: Doug Cutting <DCutting@grandcentral.com>
To: "'lucene-user@jakarta.apache.org'" <lucene-user@jakarta.apache.org>
Subject: RE: extracting information from an index
Date: Fri, 16 Nov 2001 10:50:53 -0800
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Please don't email me directly.  Keep Lucene questions on Lucene lists.

> From: Winton Davies [mailto:wdavies@overture.com]
>
> Doug, I had the same question regarding enumerating the documents for 
> accountIDs.
> 
> I dont think I have any field that I can quickly guarantee that a 
> term will work for -- is there anyway I can just do a for i=1 to max 
> doc, get doc(i).accountID ?

If you have an accountId field, then you can enumerate all terms in that
field and, for each such term, enumerate all documents with that term.  This
would look something like:

    TermEnum enum = reader.terms(new Term("accountId", ""));
    try {
      while (enum.term().field().equals("accountId")) {
        String accountId = enum.term().text();
        TermDocs termDocs = reader.termDocs(enum.term());
        try {
          while (termDocs.next()) {
            ... do something with accountId and termDocs.doc() ...
          }
        } finally {
          termDocs.close();
        }
        if (!enum.next()) {
          break;
        }
      }
    } finally {
      enum.close();
    }

Is that what you need?

Doug

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-361-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 16 20:34:51 2001
Return-Path: <lucene-user-return-361-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 7085 invoked from network); 16 Nov 2001 20:34:51 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 16 Nov 2001 20:34:51 -0000
Received: (qmail 2163 invoked by uid 97); 16 Nov 2001 20:34:53 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 2114 invoked by uid 97); 16 Nov 2001 20:34:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 2073 invoked from network); 16 Nov 2001 20:34:49 -0000
From: "The elephantwalker" <elephantwalker@home.com>
To: <lucene-user@jakarta.apache.org>
Subject: distributed/loadbalanced applications
Date: Fri, 16 Nov 2001 12:37:59 -0800
Message-ID: <LPBBKNFBAIHCKAFBADGKAEBNDFAA.elephantwalker@home.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="Windows-1252"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4133.2400
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello,

I am about to implement lucene to search my web site and forum. I noticed
that the indexes are written to a file. Has anybody used lucene on
multi-node web applications? Is using an exported directory good enough for
sharing the index between the various nodes?

Regards,

the elephantwalker
www.elephantwalker.com


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-362-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 16 22:03:33 2001
Return-Path: <lucene-user-return-362-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 61437 invoked from network); 16 Nov 2001 22:03:33 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 16 Nov 2001 22:03:33 -0000
Received: (qmail 9683 invoked by uid 97); 16 Nov 2001 22:03:38 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 9596 invoked by uid 97); 16 Nov 2001 22:03:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 9583 invoked from network); 16 Nov 2001 22:03:33 -0000
Message-ID: <D5DED48E6099D411AF0A00805F8B20270BB2CA@HL-EXCHANGE>
From: Jeff Kunkle <Jeff.Kunkle@HERNDON-LAB.com>
To: lucene-user@jakarta.apache.org
Subject: Sorting Options for Query Results
Date: Fri, 16 Nov 2001 17:01:20 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello.  Does anyone know of a way to sort search results other than by
score?  It seems like it would be very useful to be able to sort by date or
maybe even by any field that has been indexed (which I guess would include a
date).  From what I can tell, Lucene does not provide any way to do this
beyond writing your own HitCollector.  Is this correct?  If so, has anyone
had any luck implementing alternate sorting methods?  I have just started
experimenting with Lucene so any help is greatly appreciated.

Thanks,
Jeff

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-363-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 16 22:16:19 2001
Return-Path: <lucene-user-return-363-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 70419 invoked from network); 16 Nov 2001 22:16:19 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 16 Nov 2001 22:16:19 -0000
Received: (qmail 17026 invoked by uid 97); 16 Nov 2001 22:16:21 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 17010 invoked by uid 97); 16 Nov 2001 22:16:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16999 invoked from network); 16 Nov 2001 22:16:20 -0000
Message-ID: <86F21E9558CE6F429B2D0AEB9820F1B82F2F99@S1001EXM01.macromedia.com>
From: Paul Friedman <pfriedman@macromedia.com>
To: "'Brian Goetz'" <brian@quiotix.com>,
   "'lucene-user@jakarta.apache.org'"
	 <lucene-user@jakarta.apache.org>
Subject: RE: QueryParser error when "." in query string
Date: Fri, 16 Nov 2001 17:16:18 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I don't think so (some other punctuation fails too, such as '#').  It's seems pretty random which punctuation is allowed and which causes an error, for instance, '.' and '_' work fine.  Is there any rule for this?  What characters are / are not valid using the StandardAnalyzer?  It seems to me that queries containing punctuation should be valid.

I look forward to a response when I return from vacation.  I included the user list on my response in case others have opinions or suggestions. 

Thanks for your help.
Paul

-----Original Message-----
From: Brian Goetz [mailto:brian@quiotix.com]
Sent: Friday, November 16, 2001 5:10 PM
To: Paul Friedman
Subject: Re: QueryParser error when "." in query string


> I downloaded last nights build and you were right, queries containing "." now work.  However, now queries containing "/" throw the same error.

Did they before?

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-364-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 16 22:44:29 2001
Return-Path: <lucene-user-return-364-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 84802 invoked from network); 16 Nov 2001 22:44:28 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 16 Nov 2001 22:44:28 -0000
Received: (qmail 9912 invoked by uid 97); 16 Nov 2001 22:44:34 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 9878 invoked by uid 97); 16 Nov 2001 22:44:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 9867 invoked from network); 16 Nov 2001 22:44:32 -0000
Date: Fri, 16 Nov 2001 14:48:39 -0800 (Pacific Standard Time)
From: Joshua O'Madadhain <jmadden@ics.uci.edu>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Sorting Options for Query Results
In-Reply-To: <D5DED48E6099D411AF0A00805F8B20270BB2CA@HL-EXCHANGE>
Message-ID: <Pine.WNT.4.21.0111161440430.-252183@syzygy.reshsg.uci.edu>
X-X-Sender: jmadden@smtp.ics.uci.edu
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

On Fri, 16 Nov 2001, Jeff Kunkle wrote:

> Hello.  Does anyone know of a way to sort search results other than by
> score?  It seems like it would be very useful to be able to sort by
> date or maybe even by any field that has been indexed (which I guess
> would include a date).  From what I can tell, Lucene does not provide
> any way to do this beyond writing your own HitCollector.  Is this
> correct?  If so, has anyone had any luck implementing alternate
> sorting methods?  I have just started experimenting with Lucene so any
> help is greatly appreciated.

If what you want to do is to arrange matters so that the Hits object
returned by the search is sorted in some order other than that given by
the built-in score function, I personally don't know how to do this other
than rewriting the HitCollector.  If there *is* a way to do this, I'd also
be interested in knowing what it was.

However, if you're willing to re-sort the search results once you get
them, you should just be able to pull the Documents out of the Hits, copy
them into an array, and sort them according to whatever fields are in the
Document, using your favorite sorting algorithm.  (Or at least I don't see
why you should not be able to do this.)  This method would have the
advantage that you could allow the user the flexibility of being able to
re-sort the results ad hoc after the search returns, rather than forcing
them to choose a single ordering before the search.

Hope this helps...

Joshua

 jmadden@ics.uci.edu...Obscurium Per Obscurius...www.ics.uci.edu/~jmadden
    Joshua Madden: Information Scientist, Musician, Philosopher-At-Tall
 It's that moment of dawning comprehension that I live for--Bill Watterson
My opinions are too rational and insightful to be those of any organization.



--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-365-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 16 22:59:13 2001
Return-Path: <lucene-user-return-365-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 92684 invoked from network); 16 Nov 2001 22:59:13 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 16 Nov 2001 22:59:13 -0000
Received: (qmail 8191 invoked by uid 97); 16 Nov 2001 22:59:18 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 8169 invoked by uid 97); 16 Nov 2001 22:59:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 8157 invoked from network); 16 Nov 2001 22:59:16 -0000
Message-ID: <4BC270C6AB8AD411AD0B00B0D0493DF0EE7D1B@mail.grandcentral.com>
From: Doug Cutting <DCutting@grandcentral.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Sorting Options for Query Results
Date: Fri, 16 Nov 2001 14:47:07 -0800
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

This is not easy to do efficiently.  The efficiency of the search code
depends on not constructing Document objects for every match.  Thus it is
hard to efficiently perform calculations which require field values.

Things are easy if you need date order, and you have added documents in date
order.  In this case you can use the document number passed to the hit
collector, since document numbers increase linearly as documents are added
to an index.  Hits are in fact passed to the hit collector in
document-number order, so you don't even have to sort.

But if you need another ordering, besides by-score or by-addition-time, you
will have to do more work.  The most efficient approach is to construct an
array mapping document numbers to the value you wish to sort by.  Then use
this array in your hit collector.  The array can be re-used by many queries,
but must be re-constructed when documents are added or removed from the
index.

Such an array can be constructed with a TermEnum() and TermDocs(), as
illustrated in some pseudo code I sent out earlier today.

Note that, in a hit collector, it is more efficient to maintain a set of the
top-N hits rather than collecting all hits, sorting, and then taking the
top-N.  IndexSearcher.search() illustrates how this should be done when
sorting by score.

Probably this should be generalized into a HitsByField class:

  public class HitsByField {
    private String[] fieldValues;
    private Searcher searcher;

    public HitsByField(String field, IndexReader reader) {
      ... construct fieldValues array per previous message ...
      searcher = new IndexSearcher(reader);
    }
    
    private class ByFieldCollector implements HitCollector {
      String minValue = "";
      TreeMap topHits = new TreeMap();
      int maxHits;
      int totalHits;
      public ByFieldCollector(int maxHits) { this.maxHits = maxHits; }
      public collect(int doc, float score) {
        totalHits++;
        String value = fieldValues[doc];
        if (minValue.compareTo(value) < 0) {
          topHits.put(value, new Integer(doc));
          if (topHits.size() > maxHits) {
            topHits.remove(topHits.firstKey());
            minValue = (String)topHits.firstKey();
          }
        }
      }
      public int getHits(Document[] hits) {
         ... put topHits in hits, using searcher.doc() ... 
        return totalHits;
      }
    }

    /** Returns the total number of hits.  Stores top hits in hits. */
    public int search(Query query, Document[] hits) {
      ByFieldCollector collector = new ByFieldCollector(hits.length);
      searcher.search(query, collector);
      return collector.getHits(hits);
    }
  }

I leave it as an excercise for someone to fill in the blanks and post a
complete, debugged version of this.  If it's useful, we can add it to
Lucene.

Doug

> -----Original Message-----
> From: Jeff Kunkle [mailto:Jeff.Kunkle@HERNDON-LAB.com]
> Sent: Friday, November 16, 2001 2:01 PM
> To: lucene-user@jakarta.apache.org
> Subject: Sorting Options for Query Results
> 
> 
> Hello.  Does anyone know of a way to sort search results other than by
> score?  It seems like it would be very useful to be able to 
> sort by date or
> maybe even by any field that has been indexed (which I guess 
> would include a
> date).  From what I can tell, Lucene does not provide any way 
> to do this
> beyond writing your own HitCollector.  Is this correct?  If 
> so, has anyone
> had any luck implementing alternate sorting methods?  I have 
> just started
> experimenting with Lucene so any help is greatly appreciated.
> 
> Thanks,
> Jeff
> 
> --
> To unsubscribe, e-mail:   
> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail: 
> <mailto:lucene-user-help@jakarta.apache.org>
> 

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-366-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Sat Nov 17 00:01:23 2001
Return-Path: <lucene-user-return-366-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 24449 invoked from network); 17 Nov 2001 00:01:23 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 17 Nov 2001 00:01:23 -0000
Received: (qmail 11599 invoked by uid 97); 17 Nov 2001 00:01:09 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 11552 invoked by uid 97); 17 Nov 2001 00:01:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11511 invoked from network); 17 Nov 2001 00:01:08 -0000
Mime-Version: 1.0
X-Sender: wintondavies@mail.earthlink.net
Message-Id: <v04205516b81b57ee0126@[172.19.0.98]>
In-Reply-To: <4BC270C6AB8AD411AD0B00B0D0493DF0EE7D1B@mail.grandcentral.com>
References: <4BC270C6AB8AD411AD0B00B0D0493DF0EE7D1B@mail.grandcentral.com>
Date: Fri, 16 Nov 2001 16:00:26 -0800
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
From: Winton Davies <wdavies@overture.com>
Subject: RE: Sorting Options for Query Results
Content-Type: text/plain; charset="us-ascii" ; format="flowed"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

  I was wondering why reader.document(i) is relatively slow ? Given 
that it is, perhaps could anyone tell me if this would be work?
  I'm currently trying to create a fast lookup, and the reader.doc(i) 
is quite slow.

   Question -- could I create this an array in the insertion order at 
Indexing (assuming no adds/deletes?)

   int i = 0;
 
   for i from 1 to number of X's
   add x to index;
   xarray[i] = x;
 
   ....

 
  Now, in HitCollector, I could simply refer to xarray[i] ?


  Another question -- HitCollector -- Is there anyway for the 
HitCollector to say to end the search ? I'm not quite sure how it is 
used, but it seems that Hits and HitCollector don't work the same way 
?

  Cheers,
   Winton

Winton Davies
Lead Engineer, Overture (NSDQ: OVER)
1820 Gateway Drive, Suite 360
San Mateo, CA 94404
work: (650) 403-2259
cell: (650) 867-1598
http://www.overture.com/

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-367-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Sat Nov 17 02:54:25 2001
Return-Path: <lucene-user-return-367-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 74546 invoked from network); 17 Nov 2001 02:54:25 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 17 Nov 2001 02:54:25 -0000
Received: (qmail 2005 invoked by uid 97); 17 Nov 2001 02:54:32 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 1968 invoked by uid 97); 17 Nov 2001 02:54:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1957 invoked from network); 17 Nov 2001 02:54:30 -0000
Mime-Version: 1.0
X-Sender: wintondavies@mail.earthlink.net
Message-Id: <v0420551ab81b80768e24@[172.19.0.98]>
In-Reply-To: <v04205516b81b57ee0126@[172.19.0.98]>
References: <4BC270C6AB8AD411AD0B00B0D0493DF0EE7D1B@mail.grandcentral.com>
 <v04205516b81b57ee0126@[172.19.0.98]>
Date: Fri, 16 Nov 2001 18:53:19 -0800
To: Lucene Users List <lucene-user@jakarta.apache.org>
From: Winton Davies <wdavies@overture.com>
Subject: RE: Sorting Options for Query Results
Content-Type: text/plain; charset="us-ascii" ; format="flowed"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi again :)
 
  Hits versus HitCollector

  I implemented HitCollector, but it didn't seem much faster. I'm 
guessing its because Hits doesn't seem to run all the way through the 
resultset before finishing whereas HitsCollector does ?

  So, What I'd really like to know, is, does a Hits combined with 
HitCollector make sense ?

  Looking at the code, there seems to be a magical getMoreDocs, which 
calls a private method  that returns the topN results (without 
enumerating the whole list?)
 
  I also think I need to be able to externalise the whole Document 
concept -- I don't need the data stored in the Index -- just the 
DocID would suffice, then I could reference this from a big array (I 
have a couple of Gigs of RAM to play with).


I'm down to about 200msecs response time for 8 million short records. 
I need it below 50 (ideally around 5 :)).

  Cheers,
   Winton

Winton Davies
Lead Engineer, Overture (NSDQ: OVER)
1820 Gateway Drive, Suite 360
San Mateo, CA 94404
work: (650) 403-2259
cell: (650) 867-1598
http://www.overture.com/

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-368-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Sat Nov 17 09:23:33 2001
Return-Path: <lucene-user-return-368-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 67418 invoked from network); 17 Nov 2001 09:23:33 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 17 Nov 2001 09:23:33 -0000
Received: (qmail 27527 invoked by uid 97); 17 Nov 2001 09:23:43 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 27475 invoked by uid 97); 17 Nov 2001 09:23:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 27430 invoked from network); 17 Nov 2001 09:23:42 -0000
Date: Sat, 17 Nov 2001 01:27:47 -0800 (Pacific Standard Time)
From: Joshua O'Madadhain <jmadden@ics.uci.edu>
To: lucene-user@jakarta.apache.org
Subject: Re: compiling example code
Message-ID: <Pine.WNT.4.21.0111170127210.-252183@syzygy.reshsg.uci.edu>
X-X-Sender: jmadden@smtp.ics.uci.edu
MIME-Version: 1.0
Content-Type: TEXT/PLAIN; charset=US-ASCII
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

[I'm taking the liberty of redirecting part of a conversation on Lucene
that I took off-list back on-list, since I think it's become generally
relevant.]

On Fri, 16 Nov 2001, Steven J. Owens wrote:

> > ...I still think it's easier for a project
> > consisting of three files to just compile the durned thing rather than
> > creating an XML file so that I can run ant on it...and probably easier on
> > users to not have them have to acquire, set up, and use an extra tool for
> > such purposes.  <shrug> Ah well.
> 
>      Uhm, 3 files?  Lucene contains considerably more :-).  For a
> project consisting of three files you can just always compile all of
> the files or use javac's built-in dependency checking.  The readme is
> aimed at people building lucene from source.  People using the binary
> release just grab the jar and stick it in their classpath.

What I was trying to build was not the whole thing, but the supplied demo
without the HTML stuff: FileDocument.java, IndexFiles.java, and
SearchFiles.java.  When I tried to compile these three files using javac
(with the classpath properly set to include the Lucene stuff), I got the
error I reported earlier (IndexFiles was unable to find FileDocument).  
Once I removed them from the package org.apache.lucene (by removing the
package declaration at the top), I was able to compile them without a
hitch.  Since those three files are not actually part of Lucene itself,
but just part of the demo, I think that having them in the
org.apache.lucene package in the first place is more confusing than
helpful.

Yes, this would necessitate two sets of instructions: one for building the
source, and one for building the demo.  I don't see this as a problem,
personally.

Joshua

 jmadden@ics.uci.edu...Obscurium Per Obscurius...www.ics.uci.edu/~jmadden
    Joshua Madden: Information Scientist, Musician, Philosopher-At-Tall
 It's that moment of dawning comprehension that I live for--Bill Watterson
My opinions are too rational and insightful to be those of any organization.




--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-369-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Sat Nov 17 11:18:58 2001
Return-Path: <lucene-user-return-369-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 95451 invoked from network); 17 Nov 2001 11:18:58 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 17 Nov 2001 11:18:58 -0000
Received: (qmail 22585 invoked by uid 97); 17 Nov 2001 11:19:11 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 22568 invoked by uid 97); 17 Nov 2001 11:19:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22548 invoked from network); 17 Nov 2001 11:19:10 -0000
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Date: Sat, 17 Nov 2001 11:15 +0000 (GMT Standard Time)
From: pjcunningham@borsuk.uk.net (Paul Cunningham)
Subject: Enumerating all documents
To: lucene-user@jakarta.apache.org
CC: pjcunningham@borsuk.uk.net
Reply-To: pjcunningham@borsuk.uk.net
Message-Id: <memo.20011117111557.312D@pjcunningham.cix.co.uk>
X-Ameol-Version: 2.52.2000, Windows 2000 build 2195
X-Mail-Software: Ameol2
X-URL: http://www.ameol.com
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello,

Is it possible to enumerate ALL the documents in a Lucene index, say for 
house-keeping purposes.

Thanks in advance,

Paul Cunningham

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-370-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Sat Nov 17 12:38:11 2001
Return-Path: <lucene-user-return-370-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 16575 invoked from network); 17 Nov 2001 12:38:11 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 17 Nov 2001 12:38:11 -0000
Received: (qmail 9778 invoked by uid 97); 17 Nov 2001 12:38:09 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 9754 invoked by uid 97); 17 Nov 2001 12:38:08 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 9741 invoked from network); 17 Nov 2001 12:38:07 -0000
Mime-Version: 1.0
X-Sender: ykingma@pop.xs4all.nl
Message-Id: <a05010400b81c06a180ec@[194.109.169.163]>
In-Reply-To: <memo.20011117111557.312D@pjcunningham.cix.co.uk>
References: <memo.20011117111557.312D@pjcunningham.cix.co.uk>
Date: Sat, 17 Nov 2001 13:35:58 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
From: Ype Kingma <ykingma@xs4all.nl>
Subject: Re: Enumerating all documents
Content-Type: text/plain; charset="us-ascii"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Paul,

>Hello,
>
>Is it possible to enumerate ALL the documents in a Lucene index, say for
>house-keeping purposes.

Off the top of my head:

for (int docNr = 0; docNr < indexReader.maxDoc(); docNr++) {
    if (! indexReader.isDeleted(docNr)) {
        Document enumeratedDoc = indexReader.document(docNr);
        ...
    }
}

>Thanks in advance,

My pleasure. It might work, but I may have misspelled something,
and my builtin Java syntax checker has not been used for quite
some time. I'm currently playing with Lucene from jython:

for docNr in range(indexReader.maxDoc()):
    if not indexReader.isDeleted(docNr):
        enumeratedDoc = indexReader.document(docNr)
        ...

Have fun,
Ype

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-371-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Sun Nov 18 11:13:11 2001
Return-Path: <lucene-user-return-371-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 11833 invoked from network); 18 Nov 2001 11:13:11 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 18 Nov 2001 11:13:11 -0000
Received: (qmail 3904 invoked by uid 97); 18 Nov 2001 11:13:24 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 3848 invoked by uid 97); 18 Nov 2001 11:13:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3828 invoked from network); 18 Nov 2001 11:13:22 -0000
Mime-Version: 1.0
Content-Type: text/plain; charset="us-ascii"
Date: Sun, 18 Nov 2001 11:10 +0000 (GMT Standard Time)
From: pjcunningham@borsuk.uk.net (Paul Cunningham)
Subject: Re: Enumerating all documents
To: lucene-user@jakarta.apache.org
CC: pjcunningham@borsuk.uk.net
In-Reply-To: <a05010400b81c06a180ec@[194.109.169.163]>
Reply-To: pjcunningham@borsuk.uk.net
Message-Id: <memo.20011118111003.832A@pjcunningham.cix.co.uk>
X-Mail-Software: Ameol2
X-URL: http://www.ameol.com
X-Ameol-Version: 2.52.2000, Windows 2000 build 2195
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


Hello Ype,

Great, that works fine. I should have been able to work it out myself, but 
I hadn't spotted the static open methods of the IndexReader class. After 
looking at your code I read the API more carefully.

Cheers,

Paul Cunningham.

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-372-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Sun Nov 18 23:12:42 2001
Return-Path: <lucene-user-return-372-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 76961 invoked from network); 18 Nov 2001 23:12:42 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 18 Nov 2001 23:12:42 -0000
Received: (qmail 9324 invoked by uid 97); 18 Nov 2001 23:12:48 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 9277 invoked by uid 97); 18 Nov 2001 23:12:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 9266 invoked from network); 18 Nov 2001 23:12:47 -0000
Message-ID: <002901c1709f$948464a0$04000100@cnew>
From: "Cecil, Paula New" <cnew@fuse.net>
To: "LUCENE Text Search" <lucene-user@jakarta.apache.org>
Subject: Can't locate field
Date: Sun, 18 Nov 2001 18:12:03 -0800
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0026_01C1705C.8637F1C0"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.00.2615.200
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2615.200
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0026_01C1705C.8637F1C0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

This is my first message to this list.  I have successfully created =
several little tests of the Lucene api.  In my last test, I am trying to =
index "data records".  Only the "primary key" needs to be stored (and I =
did not even index this field).  For the others I want to index, but =
neither store or tokenize (I want the the entire text string to be the =
"term").

So my index code looks like:
    doc.add(Field.UnIndexed("userid", dtable[i][iuserid]));
    doc.add(new Field("charge",dtable[i][icharge],false,true,false));
    doc.add(new Field("fname", dtable[i][ifname],false,true,false));
    doc.add(new Field("lname", dtable[i][ilname],false,true,false));
    doc.add(new Field("email", dtable[i][iemail],false,true,false));
    doc.add(new Field("hiredt",dtable[i][ihiredt],false,true,false));
    doc.add(new Field("title",  dtable[i][ititle],false,true,true));

The last field I tokenize and it seems to work ok.  The others never =
return hits.

My search code is below.  Essentially I am trying to search like this:
java ./index lname smith

Which should find everyone with a last name of "smith".  But no hits are =
returned.
What am I doing wrong?

Thanks


public class Search {
  public static void main(String[] args) throws Exception {
 Date start =3D new Date();
    String indexPath =3D args[0], qfield =3D args[1], queryString =3D =
args[2];

    Searcher searcher =3D new IndexSearcher(indexPath);
    Query query =3D QueryParser.parse(queryString, qfield,
                              new SimpleAnalyzer());
    Hits hits =3D searcher.search(query);

 Date stop =3D new Date();
 if ( args.length > 2 ) {
  for (int i=3D0; i<hits.length(); i++) {
    System.out.println(
     "Userid "+hits.doc(i).get("userid") +
     "; Score: " +
     hits.score(i));
  };
 }
    System.out.println("\nNumber of hits: "+ hits.length());
    long totalms =3D stop.getTime() - start.getTime();
 System.out.println(totalms + " total milliseconds");
  }
}

------=_NextPart_000_0026_01C1705C.8637F1C0--



From lucene-user-return-373-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Nov 19 10:39:32 2001
Return-Path: <lucene-user-return-373-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 68401 invoked from network); 19 Nov 2001 10:39:31 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 19 Nov 2001 10:39:31 -0000
Received: (qmail 20510 invoked by uid 97); 19 Nov 2001 10:39:44 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 20489 invoked by uid 97); 19 Nov 2001 10:39:42 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20478 invoked from network); 19 Nov 2001 10:39:42 -0000
Sender: tril@pluto.blackwell.co.uk
Message-ID: <3BF8E184.C28950C@blackwell.co.uk>
Date: Mon, 19 Nov 2001 10:40:04 +0000
From: Ian Lea <ian.lea@blackwell.co.uk>
X-Mailer: Mozilla 4.74 [en] (X11; U; Linux 2.2.16 i686)
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Can't locate field
References: <002901c1709f$948464a0$04000100@cnew>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Are you using the same Analyzer (SimpleAnalyzer) when adding
data to the index?  You don't show us the full indexing code.



--
Ian.
ian.lea@blackwell.co.uk


"Cecil, Paula New" wrote:
> 
> This is my first message to this list.  I have successfully created several little tests of the Lucene api.  In my last test, I am trying to index "data records".  Only the "primary key" needs to be stored (and I did not even index this field).  For the others I want to index, but neither store or tokenize (I want the the entire text string to be the "term").
> 
> So my index code looks like:
>     doc.add(Field.UnIndexed("userid", dtable[i][iuserid]));
>     doc.add(new Field("charge",dtable[i][icharge],false,true,false));
>     doc.add(new Field("fname", dtable[i][ifname],false,true,false));
>     doc.add(new Field("lname", dtable[i][ilname],false,true,false));
>     doc.add(new Field("email", dtable[i][iemail],false,true,false));
>     doc.add(new Field("hiredt",dtable[i][ihiredt],false,true,false));
>     doc.add(new Field("title",  dtable[i][ititle],false,true,true));
> 
> The last field I tokenize and it seems to work ok.  The others never return hits.
> 
> My search code is below.  Essentially I am trying to search like this:
> java ./index lname smith
> 
> Which should find everyone with a last name of "smith".  But no hits are returned.
> What am I doing wrong?
> 
> Thanks
> 
> public class Search {
>   public static void main(String[] args) throws Exception {
>  Date start = new Date();
>     String indexPath = args[0], qfield = args[1], queryString = args[2];
> 
>     Searcher searcher = new IndexSearcher(indexPath);
>     Query query = QueryParser.parse(queryString, qfield,
>                               new SimpleAnalyzer());
>     Hits hits = searcher.search(query);
> 
>  Date stop = new Date();
>  if ( args.length > 2 ) {
>   for (int i=0; i<hits.length(); i++) {
>     System.out.println(
>      "Userid "+hits.doc(i).get("userid") +
>      "; Score: " +
>      hits.score(i));
>   };
>  }
>     System.out.println("\nNumber of hits: "+ hits.length());
>     long totalms = stop.getTime() - start.getTime();
>  System.out.println(totalms + " total milliseconds");
>   }
> }

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-374-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Nov 19 14:55:11 2001
Return-Path: <lucene-user-return-374-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 5079 invoked from network); 19 Nov 2001 14:55:11 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 19 Nov 2001 14:55:11 -0000
Received: (qmail 2330 invoked by uid 97); 19 Nov 2001 14:55:12 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 2293 invoked by uid 97); 19 Nov 2001 14:55:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 2282 invoked from network); 19 Nov 2001 14:55:10 -0000
Message-ID: <D5DED48E6099D411AF0A00805F8B20270BB2CC@HL-EXCHANGE>
From: Jeff Kunkle <Jeff.Kunkle@HERNDON-LAB.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Sorting Options for Query Results
Date: Mon, 19 Nov 2001 09:53:06 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

This sounds like a good solution, but may not be viable in my situation.  I
think I might run into problems since my index changes very often; several
times an hour.  I don't think it would be very efficient to rebuild the
field mapped array after each new document is incrementally added to the
index.  A solution could be to only remap them each day or each hour, but
unfortunately I need the documents available for searching as soon they are
indexed.  I plan to experiment with this solution when time permits.  I will
let you know how it goes or if I come up with any other ideas.  

Regards,
Jeff

-----Original Message-----
From: Doug Cutting [mailto:DCutting@grandcentral.com]
Sent: Friday, November 16, 2001 5:47 PM
To: 'Lucene Users List'
Subject: RE: Sorting Options for Query Results


This is not easy to do efficiently.  The efficiency of the search code
depends on not constructing Document objects for every match.  Thus it is
hard to efficiently perform calculations which require field values.

Things are easy if you need date order, and you have added documents in date
order.  In this case you can use the document number passed to the hit
collector, since document numbers increase linearly as documents are added
to an index.  Hits are in fact passed to the hit collector in
document-number order, so you don't even have to sort.

But if you need another ordering, besides by-score or by-addition-time, you
will have to do more work.  The most efficient approach is to construct an
array mapping document numbers to the value you wish to sort by.  Then use
this array in your hit collector.  The array can be re-used by many queries,
but must be re-constructed when documents are added or removed from the
index.

Such an array can be constructed with a TermEnum() and TermDocs(), as
illustrated in some pseudo code I sent out earlier today.

Note that, in a hit collector, it is more efficient to maintain a set of the
top-N hits rather than collecting all hits, sorting, and then taking the
top-N.  IndexSearcher.search() illustrates how this should be done when
sorting by score.

Probably this should be generalized into a HitsByField class:

  public class HitsByField {
    private String[] fieldValues;
    private Searcher searcher;

    public HitsByField(String field, IndexReader reader) {
      ... construct fieldValues array per previous message ...
      searcher = new IndexSearcher(reader);
    }
    
    private class ByFieldCollector implements HitCollector {
      String minValue = "";
      TreeMap topHits = new TreeMap();
      int maxHits;
      int totalHits;
      public ByFieldCollector(int maxHits) { this.maxHits = maxHits; }
      public collect(int doc, float score) {
        totalHits++;
        String value = fieldValues[doc];
        if (minValue.compareTo(value) < 0) {
          topHits.put(value, new Integer(doc));
          if (topHits.size() > maxHits) {
            topHits.remove(topHits.firstKey());
            minValue = (String)topHits.firstKey();
          }
        }
      }
      public int getHits(Document[] hits) {
         ... put topHits in hits, using searcher.doc() ... 
        return totalHits;
      }
    }

    /** Returns the total number of hits.  Stores top hits in hits. */
    public int search(Query query, Document[] hits) {
      ByFieldCollector collector = new ByFieldCollector(hits.length);
      searcher.search(query, collector);
      return collector.getHits(hits);
    }
  }

I leave it as an excercise for someone to fill in the blanks and post a
complete, debugged version of this.  If it's useful, we can add it to
Lucene.

Doug

> -----Original Message-----
> From: Jeff Kunkle [mailto:Jeff.Kunkle@HERNDON-LAB.com]
> Sent: Friday, November 16, 2001 2:01 PM
> To: lucene-user@jakarta.apache.org
> Subject: Sorting Options for Query Results
> 
> 
> Hello.  Does anyone know of a way to sort search results other than by
> score?  It seems like it would be very useful to be able to 
> sort by date or
> maybe even by any field that has been indexed (which I guess 
> would include a
> date).  From what I can tell, Lucene does not provide any way 
> to do this
> beyond writing your own HitCollector.  Is this correct?  If 
> so, has anyone
> had any luck implementing alternate sorting methods?  I have 
> just started
> experimenting with Lucene so any help is greatly appreciated.
> 
> Thanks,
> Jeff
> 
> --
> To unsubscribe, e-mail:   
> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail: 
> <mailto:lucene-user-help@jakarta.apache.org>
> 

--
To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-375-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Nov 19 17:24:58 2001
Return-Path: <lucene-user-return-375-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 13577 invoked from network); 19 Nov 2001 17:24:57 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 19 Nov 2001 17:24:57 -0000
Received: (qmail 22483 invoked by uid 97); 19 Nov 2001 17:25:00 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 22453 invoked by uid 97); 19 Nov 2001 17:24:58 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22442 invoked from network); 19 Nov 2001 17:24:58 -0000
From: carlson@bookandhammer.com
Errors-To: <carlson@bookandhammer.com>
Date: Mon, 19 Nov 2001 09:23:10 -0800
Subject: Re: Sorting Options for Query Results
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v475)
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <D5DED48E6099D411AF0A00805F8B20270BB2CC@HL-EXCHANGE>
Message-Id: <1AEA0D0D-DD12-11D5-A59D-0050E4C0B243@bookandhammer.com>
X-Mailer: Apple Mail (2.475)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I think this still works if the the document number continue to increase 
by one when documents are added incrementally.
Does anyone know if this is true (I haven't looked at the code yet).

If so, you might increase your fieldValues array when you index the new 
documents?
Potentially even serializing the array so it can persist or be added to 
off-line.

Does that work for you?

--Peter


On Monday, November 19, 2001, at 06:53 AM, Jeff Kunkle wrote:

> This sounds like a good solution, but may not be viable in my 
> situation.  I
> think I might run into problems since my index changes very often; 
> several
> times an hour.  I don't think it would be very efficient to rebuild the
> field mapped array after each new document is incrementally added to the
> index.  A solution could be to only remap them each day or each hour, 
> but
> unfortunately I need the documents available for searching as soon they 
> are
> indexed.  I plan to experiment with this solution when time permits.  I 
> will
> let you know how it goes or if I come up with any other ideas.
>
> Regards,
> Jeff
>
> -----Original Message-----
> From: Doug Cutting [mailto:DCutting@grandcentral.com]
> Sent: Friday, November 16, 2001 5:47 PM
> To: 'Lucene Users List'
> Subject: RE: Sorting Options for Query Results
>
>
> This is not easy to do efficiently.  The efficiency of the search code
> depends on not constructing Document objects for every match.  Thus it 
> is
> hard to efficiently perform calculations which require field values.
>
> Things are easy if you need date order, and you have added documents in 
> date
> order.  In this case you can use the document number passed to the hit
> collector, since document numbers increase linearly as documents are 
> added
> to an index.  Hits are in fact passed to the hit collector in
> document-number order, so you don't even have to sort.
>
> But if you need another ordering, besides by-score or by-addition-time, 
> you
> will have to do more work.  The most efficient approach is to construct 
> an
> array mapping document numbers to the value you wish to sort by.  Then 
> use
> this array in your hit collector.  The array can be re-used by many 
> queries,
> but must be re-constructed when documents are added or removed from the
> index.
>
> Such an array can be constructed with a TermEnum() and TermDocs(), as
> illustrated in some pseudo code I sent out earlier today.
>
> Note that, in a hit collector, it is more efficient to maintain a set 
> of the
> top-N hits rather than collecting all hits, sorting, and then taking the
> top-N.  IndexSearcher.search() illustrates how this should be done when
> sorting by score.
>
> Probably this should be generalized into a HitsByField class:
>
>   public class HitsByField {
>     private String[] fieldValues;
>     private Searcher searcher;
>
>     public HitsByField(String field, IndexReader reader) {
>       ... construct fieldValues array per previous message ...
>       searcher = new IndexSearcher(reader);
>     }
>
>     private class ByFieldCollector implements HitCollector {
>       String minValue = "";
>       TreeMap topHits = new TreeMap();
>       int maxHits;
>       int totalHits;
>       public ByFieldCollector(int maxHits) { this.maxHits = maxHits; }
>       public collect(int doc, float score) {
>         totalHits++;
>         String value = fieldValues[doc];
>         if (minValue.compareTo(value) < 0) {
>           topHits.put(value, new Integer(doc));
>           if (topHits.size() > maxHits) {
>             topHits.remove(topHits.firstKey());
>             minValue = (String)topHits.firstKey();
>           }
>         }
>       }
>       public int getHits(Document[] hits) {
>          ... put topHits in hits, using searcher.doc() ...
>         return totalHits;
>       }
>     }
>
>     /** Returns the total number of hits.  Stores top hits in hits. */
>     public int search(Query query, Document[] hits) {
>       ByFieldCollector collector = new ByFieldCollector(hits.length);
>       searcher.search(query, collector);
>       return collector.getHits(hits);
>     }
>   }
>
> I leave it as an excercise for someone to fill in the blanks and post a
> complete, debugged version of this.  If it's useful, we can add it to
> Lucene.
>
> Doug
>
>> -----Original Message-----
>> From: Jeff Kunkle [mailto:Jeff.Kunkle@HERNDON-LAB.com]
>> Sent: Friday, November 16, 2001 2:01 PM
>> To: lucene-user@jakarta.apache.org
>> Subject: Sorting Options for Query Results
>>
>>
>> Hello.  Does anyone know of a way to sort search results other than by
>> score?  It seems like it would be very useful to be able to
>> sort by date or
>> maybe even by any field that has been indexed (which I guess
>> would include a
>> date).  From what I can tell, Lucene does not provide any way
>> to do this
>> beyond writing your own HitCollector.  Is this correct?  If
>> so, has anyone
>> had any luck implementing alternate sorting methods?  I have
>> just started
>> experimenting with Lucene so any help is greatly appreciated.
>>
>> Thanks,
>> Jeff
>>
>> --
>> To unsubscribe, e-mail:
>> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
>> For additional commands, e-mail:
>> <mailto:lucene-user-help@jakarta.apache.org>
>>
>
> --
> To unsubscribe, e-mail:
> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
> <mailto:lucene-user-help@jakarta.apache.org>
>
> --
> To unsubscribe, e-mail:   <mailto:lucene-user-
> unsubscribe@jakarta.apache.org>
> For additional commands, e-mail: <mailto:lucene-user-
> help@jakarta.apache.org>
>
>


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-376-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Nov 19 17:36:18 2001
Return-Path: <lucene-user-return-376-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 17236 invoked from network); 19 Nov 2001 17:36:18 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 19 Nov 2001 17:36:18 -0000
Received: (qmail 4539 invoked by uid 97); 19 Nov 2001 17:36:17 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 4504 invoked by uid 97); 19 Nov 2001 17:36:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 4485 invoked from network); 19 Nov 2001 17:36:14 -0000
Message-ID: <4BC270C6AB8AD411AD0B00B0D0493DF0EE7D1D@mail.grandcentral.com>
From: Doug Cutting <DCutting@grandcentral.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Sorting Options for Query Results
Date: Mon, 19 Nov 2001 09:24:00 -0800
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> From: carlson@bookandhammer.com [mailto:carlson@bookandhammer.com]
> 
> I think this still works if the the document number continue 
> to increase 
> by one when documents are added incrementally.
> Does anyone know if this is true (I haven't looked at the code yet).

Yes, that is true, so long as you do not delete documents.  Deletions are
removed the next time the segment containing them is merged.  You can force
removal of all deleted documents by optimizing an index.

> If so, you might increase your fieldValues array when you 
> index the new 
> documents?
> Potentially even serializing the array so it can persist or 
> be added to 
> off-line.

Those are good suggestions.

Also, I forgot to note earlier: you can drastically reduce the memory
requirements of this approach if a field value can be represented as an int
or long (e.g., a date).  Java's String class uses a lot of memory, around 40
bytes for a 10-character string!

Doug

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-377-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Nov 19 18:04:08 2001
Return-Path: <lucene-user-return-377-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 30829 invoked from network); 19 Nov 2001 18:04:08 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 19 Nov 2001 18:04:08 -0000
Received: (qmail 22269 invoked by uid 97); 19 Nov 2001 18:04:08 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 22244 invoked by uid 97); 19 Nov 2001 18:04:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22222 invoked from network); 19 Nov 2001 18:04:06 -0000
From: carlson@bookandhammer.com
Errors-To: <carlson@bookandhammer.com>
Date: Mon, 19 Nov 2001 10:02:19 -0800
Subject: Re: Sorting Options for Query Results
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v475)
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <4BC270C6AB8AD411AD0B00B0D0493DF0EE7D1D@mail.grandcentral.com>
Message-Id: <92BF2876-DD17-11D5-A59D-0050E4C0B243@bookandhammer.com>
X-Mailer: Apple Mail (2.475)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

What happens to the document numbers when documents are deleted and the 
segment merged?
Is the document number of all the documents reset to be sequential based 
on some offset for each segment?

Is there any pattern that might be followed instead of recreating the 
entire array. I know this probably won't be a problem unless creating 
the entire array takes a long time, but
I think I might be in the case.

Thanks

--Peter


On Monday, November 19, 2001, at 09:24 AM, Doug Cutting wrote:

>   Deletions are
> removed the next time the segment containing them is merged.  You can 
> force
> removal of all deleted documents by optimizing an index.
>


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-378-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Nov 19 19:07:24 2001
Return-Path: <lucene-user-return-378-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 63232 invoked from network); 19 Nov 2001 19:07:24 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 19 Nov 2001 19:07:24 -0000
Received: (qmail 6911 invoked by uid 97); 19 Nov 2001 19:06:33 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 6874 invoked by uid 97); 19 Nov 2001 19:06:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6838 invoked from network); 19 Nov 2001 19:06:32 -0000
Message-ID: <63E3C2F6A684D311B8200090277BFA8E78A9AE@TETLEY>
From: Jordan Naftolin <JNaftolin@infusiondev.com>
To: "'lucene-user@jakarta.apache.org'" <lucene-user@jakarta.apache.org>
Subject: TokenMgnError
Date: Mon, 19 Nov 2001 14:17:23 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: multipart/alternative;
	boundary="----_=_NextPart_001_01C1712E.D167A730"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------_=_NextPart_001_01C1712E.D167A730
Content-Type: text/plain

Hi,
I am receiving a TokenMsgError when certain characters such as commas, '[',
and '<' are being used in a query.
I read a message in the archive where someone was experiencing a similar
problem, and apparently certain characters have special meanings in the
query and the TokenMsgError is thrown when these characters are not used
correctly.  
I am currently taking a query string directly from an input field on a web
site, and so I can't ensure that users will write the query correctly.
Since I think it is common for a web user to enter a comma into their search
query, I am wondering how other people are handling this problem.  Has
anyone written a tokenizer that can safely read any query from a web user
without throwing the error?  Or is what I am experiencing potentially a bug?
 
In case it is helpful, the stackTrace being generated when a comma is
entered in the search query is:
org.apache.lucene.queryParser.TokenMgrError: Lexical error at line 1, column
2.  Encountered:  after : ""
        at
org.apache.lucene.queryParser.QueryParserTokenManager.getNextToken(QueryPars
erTokenManager.java:523)
        at
org.apache.lucene.queryParser.QueryParser.jj_ntk(QueryParser.java:583)
        at
org.apache.lucene.queryParser.QueryParser.Modifiers(QueryParser.java:216)
        at
org.apache.lucene.queryParser.QueryParser.Query(QueryParser.java:251)
        at
org.apache.lucene.queryParser.QueryParser.parse(QueryParser.java:72)
        at
org.apache.lucene.queryParser.QueryParser.parse(QueryParser.java:49)
 
I tried tracking the error down in the QueryParserTokenManager to determine
the proper usage, but I was having trouble understanding exactly what the
class was doing since it contained a lot of hard-coded hex and weird method
names. 
 
Any suggestions are greatly appreciated.
 
Thanks,
Jordan

------_=_NextPart_001_01C1712E.D167A730--

From lucene-user-return-379-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Nov 19 19:33:53 2001
Return-Path: <lucene-user-return-379-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 75222 invoked from network); 19 Nov 2001 19:33:53 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 19 Nov 2001 19:33:53 -0000
Received: (qmail 25329 invoked by uid 97); 19 Nov 2001 19:33:54 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 25313 invoked by uid 97); 19 Nov 2001 19:33:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25302 invoked from network); 19 Nov 2001 19:33:53 -0000
Message-ID: <3CBE2F1B9CA7D411A5750090271EDE21081BB122@twcsrv53.twc.state.tx.us>
From: "Michael, Michelle R" <michelle.michael@twc.state.tx.us>
To: "'lucene-user@jakarta.apache.org'" <lucene-user@jakarta.apache.org>
Subject: Meta Tag Question
Date: Mon, 19 Nov 2001 13:33:41 -0600
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello. We currently have an older version of Lucene running on our intranet,
which I did not install (I'm new to Lucene), and I've been testing it out. I
noticed that it appears not to be using meta tag information in ranking or
in displaying. I was wondering if the newer version will allow this sort of
configuration (to use meta tag information for ranking and possibly
displaying). I understand that Lucene primarily uses a full-text search and
the title may be included in the search, but I have not found any
information in the FAQ's or elsewhere on the site as to whether or not
Lucene can be configured to include meta tags in its ranking and/or summary
display. If anyone knows offhand whether this is will be possible, I would
appreciate your input as we are trying to evaluate the new version of Lucene
as we are considering using it on our external web site.
Thanks much,
Michelle

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-380-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Nov 19 20:05:08 2001
Return-Path: <lucene-user-return-380-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 91038 invoked from network); 19 Nov 2001 20:05:08 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 19 Nov 2001 20:05:08 -0000
Received: (qmail 17924 invoked by uid 97); 19 Nov 2001 20:05:11 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 17902 invoked by uid 97); 19 Nov 2001 20:05:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17891 invoked from network); 19 Nov 2001 20:05:10 -0000
Subject: Re: Meta Tag Question
In-Reply-To: <3CBE2F1B9CA7D411A5750090271EDE21081BB122@twcsrv53.twc.state.tx.us>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Date: Mon, 19 Nov 2001 15:04:29 -0500 (EST)
Cc: michelle.michael@twc.state.tx.us
X-Mailer: ELM [version 2.4ME+ PL94 (25)]
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset=US-ASCII
Message-Id: <20011119200429.80CB73C1B1@darksleep.com>
From: puffmail@darksleep.com (Steven J. Owens)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Michelle Michael (michelle.michael@twc.state.tx.us) writes:

> Hello. We currently have an older version of Lucene running on our
> intranet, which I did not install (I'm new to Lucene), and I've been
> testing it out.
>
> I noticed that it appears not to be using meta tag information in
> ranking or in displaying. I was wondering if the newer version will
> allow this sort of configuration (to use meta tag information for
> ranking and possibly displaying). 

     Lucene is a search engine API, not a search engine application.
Lucene provides all of the tools that a java programmer needs to build
a full-text search index.  It does not include a finished application
for end-user use.

     If your application doesn't include meta tags, it's because
whoever developed it didn't put in code to parse the meta tags and
store them in the lucene index.  To make it do so, get any basically
competent java programmer to extend your application by adding code to
parse the meta tags from the presumably HTML documents and store them
as an extra field in the Lucene documents your application generates.
It should not be a big deal, in terms of development, but it is not
the sort of thing you can do by just flipping a configuration switch.

Steven J. Owens
puff@darksleep.com

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-381-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Nov 19 20:25:14 2001
Return-Path: <lucene-user-return-381-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 3598 invoked from network); 19 Nov 2001 20:25:14 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 19 Nov 2001 20:25:14 -0000
Received: (qmail 8988 invoked by uid 97); 19 Nov 2001 20:25:18 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 8949 invoked by uid 97); 19 Nov 2001 20:25:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 8938 invoked from network); 19 Nov 2001 20:25:14 -0000
Message-ID: <4BC270C6AB8AD411AD0B00B0D0493DF0EE7D1E@mail.grandcentral.com>
From: Doug Cutting <DCutting@grandcentral.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Sorting Options for Query Results
Date: Mon, 19 Nov 2001 12:13:04 -0800
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> From: carlson@bookandhammer.com [mailto:carlson@bookandhammer.com]
> 
> What happens to the document numbers when documents are 
> deleted and the 
> segment merged?
> Is the document number of all the documents reset to be 
> sequential based 
> on some offset for each segment?
> 
> Is there any pattern that might be followed instead of recreating the 
> entire array. I know this probably won't be a problem unless creating 
> the entire array takes a long time, but
> I think I might be in the case.

Yes, there is most definitely a pattern.  Document order is preserved.
After optimization, numbering is dense.  For example, if an index contains
six documents numbered 0 through 5, and documents 1, 3 and 4 are deleted,
then, after optimization, it will contain 0, 2, and 5, but now numbered 0,
1, 2.

Doug

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-382-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Nov 19 23:15:31 2001
Return-Path: <lucene-user-return-382-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 79510 invoked from network); 19 Nov 2001 23:15:31 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 19 Nov 2001 23:15:31 -0000
Received: (qmail 22742 invoked by uid 97); 19 Nov 2001 23:15:38 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 22723 invoked by uid 97); 19 Nov 2001 23:15:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22712 invoked from network); 19 Nov 2001 23:15:36 -0000
Message-ID: <001901c17150$1607b210$a10214ac@gaia>
From: "Duncan Godwin" <duncangodwin@dial.pipex.com>
To: <lucene-user@jakarta.apache.org>
Subject: Database Example
Date: Mon, 19 Nov 2001 23:15:31 -0000
MIME-Version: 1.0
Content-Type: text/plain;
	charset="Windows-1252"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

I'm new to Lucene, does any one have any good samples or links to tutorial sites?

I'm particularlly interested in the ability to index a database.

Thanks,

Duncan Godwin


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-383-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Nov 20 00:14:41 2001
Return-Path: <lucene-user-return-383-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 1844 invoked from network); 20 Nov 2001 00:14:41 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 20 Nov 2001 00:14:41 -0000
Received: (qmail 25055 invoked by uid 97); 20 Nov 2001 00:14:47 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 25016 invoked by uid 97); 20 Nov 2001 00:14:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25005 invoked from network); 20 Nov 2001 00:14:46 -0000
Message-ID: <0EB19E11A812F749B86774090935AAD5211BA3@spear.epicentric.com>
From: Emmanuel Bridonneau <EBridonneau@epicentric.com>
To: "'lucene-user@jakarta.apache.org'" <lucene-user@jakarta.apache.org>
Subject: Html documents parsing
Date: Mon, 19 Nov 2001 16:14:43 -0800
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I am confused about how Lucene performs the parsing of an Html document. It
doesn't do any tag striping (or does it?) consequently does that mean it
also indexes all html tags? If so then a request for searching "body" will
return any and all html documents previously indexed.
I'd appreciate anyone would could shed some light on the FAQ.10 about
indexing?


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-384-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Nov 20 00:33:20 2001
Return-Path: <lucene-user-return-384-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 10243 invoked from network); 20 Nov 2001 00:33:20 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 20 Nov 2001 00:33:20 -0000
Received: (qmail 1122 invoked by uid 97); 20 Nov 2001 00:33:26 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 1106 invoked by uid 97); 20 Nov 2001 00:33:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1095 invoked from network); 20 Nov 2001 00:33:25 -0000
Message-ID: <20011120003325.55023.qmail@web12704.mail.yahoo.com>
Date: Mon, 19 Nov 2001 16:33:25 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Html documents parsing
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <0EB19E11A812F749B86774090935AAD5211BA3@spear.epicentric.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

This is a question similar to the Meta-Tags question posted to the list
earlier today (or was it yesterday?).  Lucene distribution includes a
few simple applications that demonstrate what Lucene is capable of and
how it can be used.  But those demos are not relaly a part of Lucene
code.
It is up to you to write the application around Lucene, which in your
case would include HTML parsing.

Perhaps JTidy (http://jtidy.sf.net/) could come handy here...

Otis


--- Emmanuel Bridonneau <EBridonneau@epicentric.com> wrote:
> I am confused about how Lucene performs the parsing of an Html
> document. It
> doesn't do any tag striping (or does it?) consequently does that mean
> it
> also indexes all html tags? If so then a request for searching "body"
> will
> return any and all html documents previously indexed.
> I'd appreciate anyone would could shed some light on the FAQ.10 about
> indexing?
> 
> 
> --
> To unsubscribe, e-mail:  
> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
> <mailto:lucene-user-help@jakarta.apache.org>
> 


__________________________________________________
Do You Yahoo!?
Find the one for you at Yahoo! Personals
http://personals.yahoo.com

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-385-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Nov 20 01:19:47 2001
Return-Path: <lucene-user-return-385-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 26123 invoked from network); 20 Nov 2001 01:19:47 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 20 Nov 2001 01:19:47 -0000
Received: (qmail 20131 invoked by uid 97); 20 Nov 2001 01:19:54 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 20115 invoked by uid 97); 20 Nov 2001 01:19:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20104 invoked from network); 20 Nov 2001 01:19:53 -0000
Message-ID: <003201c1717a$7f936740$aa59c00a@cnew>
From: "Cecil, Paula New" <cnew@fuse.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <002901c1709f$948464a0$04000100@cnew> <3BF8E184.C28950C@blackwell.co.uk>
Subject: Re: Can't locate field
Date: Mon, 19 Nov 2001 20:19:07 -0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.00.2615.200
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2615.200
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

here is the full indexing code.  and it does use the SimpleAnalyzer.
thanks for your help!

import java.io.File;
import java.io.IOException;
import java.io.OutputStream;
import java.util.*;

import org.apache.lucene.analysis.SimpleAnalyzer;
import org.apache.lucene.index.IndexWriter;
import org.apache.lucene.document.*;

public class Indexer {
    public static void main(String[] args) {
  String indexLoc = "./index";
  int iuserid = 0;
  int icharge = 1;
  int ifname  = 2;
  int ilname  = 3;
  int iemail  = 4;
  int ihiredt = 5;
  int ititle  = 6;
  // store index token

  IndexWriter writer;

  Date start = new Date();

        try {
   writer = new IndexWriter(indexLoc, new SimpleAnalyzer(), false);
   String data   = StringHelper.fileToString("u2info.txt");
   String[][] dtable = StringHelper.toTable(data,"\n","|");
            for ( int i=0; i < dtable.length; i++ ) {

    org.apache.lucene.document.Document doc =
     new org.apache.lucene.document.Document();
    // add userid as unindexed - can't search, but it is stored
    // so this is like an oid.
    doc.add(Field.UnIndexed("userid", dtable[i][iuserid]));
    // add others as follows:
    // a. don't store (can't retrieve value)
    // b. do index (ie, can search on the value)
    // c. don't tokenize, just use whole field as-is
    doc.add(new Field("charge",dtable[i][icharge],false,true,false));
    doc.add(new Field("fname", dtable[i][ifname],false,true,false));
    doc.add(new Field("lname", dtable[i][ilname],false,true,false));
    doc.add(new Field("email", dtable[i][iemail],false,true,false));
    doc.add(new Field("hiredt",dtable[i][ihiredt],false,true,false));
    // on this one, tokenize the title so that it can be
    // text content searched.
    doc.add(new Field("title",  dtable[i][ititle],false,true,true));
    writer.addDocument(doc);
   }
   writer.close();

        } catch (Exception e) {
            e.printStackTrace();
        }

  System.out.println("Started at "+start.toString());
        Date stop = new Date();
  System.out.println("Stopped at "+stop.toString());
    }
}

----- Original Message -----
From: Ian Lea <ian.lea@blackwell.co.uk>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Sent: Monday, November 19, 2001 2:40 AM
Subject: Re: Can't locate field


> Are you using the same Analyzer (SimpleAnalyzer) when adding
> data to the index?  You don't show us the full indexing code.
>
>
>
> --
> Ian.
> ian.lea@blackwell.co.uk
>
>
> "Cecil, Paula New" wrote:
> >
> > This is my first message to this list.  I have successfully created
several little tests of the Lucene api.  In my last test, I am trying to
index "data records".  Only the "primary key" needs to be stored (and I did
not even index this field).  For the others I want to index, but neither
store or tokenize (I want the the entire text string to be the "term").
> >
> > So my index code looks like:
> >     doc.add(Field.UnIndexed("userid", dtable[i][iuserid]));
> >     doc.add(new Field("charge",dtable[i][icharge],false,true,false));
> >     doc.add(new Field("fname", dtable[i][ifname],false,true,false));
> >     doc.add(new Field("lname", dtable[i][ilname],false,true,false));
> >     doc.add(new Field("email", dtable[i][iemail],false,true,false));
> >     doc.add(new Field("hiredt",dtable[i][ihiredt],false,true,false));
> >     doc.add(new Field("title",  dtable[i][ititle],false,true,true));
> >
> > The last field I tokenize and it seems to work ok.  The others never
return hits.
> >
> > My search code is below.  Essentially I am trying to search like this:
> > java ./index lname smith
> >
> > Which should find everyone with a last name of "smith".  But no hits are
returned.
> > What am I doing wrong?
> >
> > Thanks
> >
> > public class Search {
> >   public static void main(String[] args) throws Exception {
> >  Date start = new Date();
> >     String indexPath = args[0], qfield = args[1], queryString = args[2];
> >
> >     Searcher searcher = new IndexSearcher(indexPath);
> >     Query query = QueryParser.parse(queryString, qfield,
> >                               new SimpleAnalyzer());
> >     Hits hits = searcher.search(query);
> >
> >  Date stop = new Date();
> >  if ( args.length > 2 ) {
> >   for (int i=0; i<hits.length(); i++) {
> >     System.out.println(
> >      "Userid "+hits.doc(i).get("userid") +
> >      "; Score: " +
> >      hits.score(i));
> >   };
> >  }
> >     System.out.println("\nNumber of hits: "+ hits.length());
> >     long totalms = stop.getTime() - start.getTime();
> >  System.out.println(totalms + " total milliseconds");
> >   }
> > }
>
> --
> To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>
>



--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-386-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Nov 20 02:47:48 2001
Return-Path: <lucene-user-return-386-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 54851 invoked from network); 20 Nov 2001 02:47:47 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 20 Nov 2001 02:47:47 -0000
Received: (qmail 15053 invoked by uid 97); 20 Nov 2001 02:47:55 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 15037 invoked by uid 97); 20 Nov 2001 02:47:54 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 15026 invoked from network); 20 Nov 2001 02:47:53 -0000
Message-ID: <005d01c17186$cb2f0fe0$aa59c00a@cnew>
From: "Cecil, Paula New" <cnew@fuse.net>
To: "LUCENE Text Search" <lucene-user@jakarta.apache.org>
Subject: Attribute Search
Date: Mon, 19 Nov 2001 21:47:08 -0800
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_005A_01C17143.BCD1D420"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.00.2615.200
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2615.200
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_005A_01C17143.BCD1D420
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

I am trying index a set of data, storing only a "primary key".  This =
primary key I left un-indexed.  There is one "text" field, that I =
indexed and tokenized.

The others I neither want to store or tokenized.  My reasoning was that =
"not tokenizing" would produce the smallest index.  The remaining fields =
were lastname, firstname, etc.

However, my queries did not work correctly; never returning any hits.

I finally gave up and re-indexed with Tokenize set to true on all the =
fields.

Now my queries work.  And to my surprise, the index was smaller that =
when I did not tokenize.

I found this a little counter-intuitive. =20

Can someone explain this?

------=_NextPart_000_005A_01C17143.BCD1D420--



From lucene-user-return-387-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Nov 20 03:01:42 2001
Return-Path: <lucene-user-return-387-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 60465 invoked from network); 20 Nov 2001 03:01:42 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 20 Nov 2001 03:01:42 -0000
Received: (qmail 18355 invoked by uid 97); 20 Nov 2001 03:01:48 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 18323 invoked by uid 97); 20 Nov 2001 03:01:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 18312 invoked from network); 20 Nov 2001 03:01:46 -0000
Message-ID: <0EB19E11A812F749B86774090935AAD5211BA9@spear.epicentric.com>
From: Emmanuel Bridonneau <EBridonneau@epicentric.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Attribute Search
Date: Mon, 19 Nov 2001 19:01:46 -0800
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I am new here too but here's my 2 cents.
If you don't tokenize your db textvalues, what do you say will be the
resulting terms indexed? I think not what you expect.
Your non tokenized fields probably are not filtered out hence a lastname
like 'Smith' will not be a hit if the query is 'smith' the search being case
sensitive.
I last name is "smith B" (middle initial), search on 'smith' won't return
either because not a token.
I suggest you double check your values in your DB especially if DB is case
sensitive.
Does your analyser takes into account the accent if Latin type of locale?


-----Original Message-----
From: Cecil, Paula New [mailto:cnew@fuse.net]
Sent: Monday, November 19, 2001 9:47 PM
To: LUCENE Text Search
Subject: Attribute Search


I am trying index a set of data, storing only a "primary key".  This primary
key I left un-indexed.  There is one "text" field, that I indexed and
tokenized.

The others I neither want to store or tokenized.  My reasoning was that "not
tokenizing" would produce the smallest index.  The remaining fields were
lastname, firstname, etc.

However, my queries did not work correctly; never returning any hits.

I finally gave up and re-indexed with Tokenize set to true on all the
fields.

Now my queries work.  And to my surprise, the index was smaller that when I
did not tokenize.

I found this a little counter-intuitive.  

Can someone explain this?

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-388-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Nov 20 09:43:39 2001
Return-Path: <lucene-user-return-388-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 9916 invoked from network); 20 Nov 2001 09:43:38 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 20 Nov 2001 09:43:38 -0000
Received: (qmail 8793 invoked by uid 97); 20 Nov 2001 09:43:52 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 8757 invoked by uid 97); 20 Nov 2001 09:43:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 8745 invoked from network); 20 Nov 2001 09:43:50 -0000
Sender: tril@pluto.blackwell.co.uk
Message-ID: <3BFA25EC.FCF6F964@blackwell.co.uk>
Date: Tue, 20 Nov 2001 09:44:12 +0000
From: Ian Lea <ian.lea@blackwell.co.uk>
X-Mailer: Mozilla 4.74 [en] (X11; U; Linux 2.2.16 i686)
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Database Example
References: <001901c17150$1607b210$a10214ac@gaia>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> I'm new to Lucene, does any one have any good samples or links to tutorial sites?

You can find a tutorial at http://www.darksleep.com/puff/lucene/lucene.html
 
> I'm particularlly interested in the ability to index a database.

Someone asked a similar question a week or so back and I posted the
reply and sample code below.


Lucene works on Documents that you fill with data that you get from
anywhere you like.  To index data in a database table you could use
something like:

	Analyzer analyzer = new StandardAnalyzer(); 
	IndexWriter writer = new IndexWriter("dbindex", analyzer, true);
	Connection conn = getConnection();
	String sql = "select id, firstname, lastname from people";
	Statement stmt = conn.createStatement(sql);
	ResultSet rs = stmt.executeQuery();
	while (rs.next()) {
	    Document d = new Document();
	    d.add(Field.Text("id", rs.getString("id")));
	    d.add(Field.UnStored("firstname", rs.getString("firstname")));
	    d.add(Field.UnStored("lastname", rs.getString("lastname")));
	    writer.addDocument(d);
	}
	writer.close();

The id field is indexed and stored since will want to extract it from lucene.
The name fields are not stored since they are already stored on the database,
although you could store them if wanted to avoid having to go back to the
database for display.


To search and display results, with details coming from the database,
something along the lines of:

	Searcher searcher = new IndexSearcher(IndexReader.open("dbindex"));
	Query query = QueryParser.parse("duncan", "firstname", analyzer);
	Hits hits = searcher.search(query);
	String sql = "select * from people where id = ?";
	PreparedStatement pstmt = conn.prepareStatement(sql);
	for (int i = 0; i < hits.length(); i++) {
	    String id = hits.doc(i).get("id");
	    pstmt.setString(1, id);
	    displayResults(pstmt);
	}



Hope this helps.



--
Ian.
ian.lea@blackwell.co.uk

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-389-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Nov 20 22:03:24 2001
Return-Path: <lucene-user-return-389-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 28464 invoked from network); 20 Nov 2001 22:03:24 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 20 Nov 2001 22:03:24 -0000
Received: (qmail 15674 invoked by uid 97); 20 Nov 2001 22:03:29 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 15625 invoked by uid 97); 20 Nov 2001 22:03:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 15609 invoked from network); 20 Nov 2001 22:03:27 -0000
Message-ID: <0EB19E11A812F749B86774090935AAD5211BAE@spear.epicentric.com>
From: Emmanuel Bridonneau <EBridonneau@epicentric.com>
To: "'Lucene Users List' (E-mail)" <lucene-user@jakarta.apache.org>
Subject: Lucene indexer vs. DB index
Date: Tue, 20 Nov 2001 13:56:38 -0800
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Can anyone tell me the advantages of Lucene indexer for indexing data
located in a database or LDAP server over creating another index in the
database or from an LDAP console?
There got to be some for indexing database records but I can't see them?
Any light out there?

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-390-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Nov 20 22:15:01 2001
Return-Path: <lucene-user-return-390-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 35228 invoked from network); 20 Nov 2001 22:15:01 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 20 Nov 2001 22:15:01 -0000
Received: (qmail 311 invoked by uid 97); 20 Nov 2001 22:15:04 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 295 invoked by uid 97); 20 Nov 2001 22:15:03 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 284 invoked from network); 20 Nov 2001 22:15:03 -0000
Message-ID: <E88CD2F0B652D31197680090279895550BDB6B51@ev002msxaege.ae.ge.com>
From: "New, Cecil (GEAE)" <cecil.new@ae.ge.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Attribute Search
Date: Tue, 20 Nov 2001 17:18:32 -0500
X-Mailer: Internet Mail Service (5.5.2653.19)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Actually, "last name" is not a good example.  Social security numbers, phone
numbers, PO numbers, organization codes, etc. are better examples.

These fields are not even text.  So I did not think it made sense to
tokenize them.  But I did want them indexed and searchable.

-----Original Message-----
From: Emmanuel Bridonneau [mailto:EBridonneau@epicentric.com]
Sent: Monday, November 19, 2001 10:02 PM
To: 'Lucene Users List'
Subject: RE: Attribute Search


I am new here too but here's my 2 cents.
If you don't tokenize your db textvalues, what do you say will be the
resulting terms indexed? I think not what you expect.
Your non tokenized fields probably are not filtered out hence a lastname
like 'Smith' will not be a hit if the query is 'smith' the search being case
sensitive.
I last name is "smith B" (middle initial), search on 'smith' won't return
either because not a token.
I suggest you double check your values in your DB especially if DB is case
sensitive.
Does your analyser takes into account the accent if Latin type of locale?


-----Original Message-----
From: Cecil, Paula New [mailto:cnew@fuse.net]
Sent: Monday, November 19, 2001 9:47 PM
To: LUCENE Text Search
Subject: Attribute Search


I am trying index a set of data, storing only a "primary key".  This primary
key I left un-indexed.  There is one "text" field, that I indexed and
tokenized.

The others I neither want to store or tokenized.  My reasoning was that "not
tokenizing" would produce the smallest index.  The remaining fields were
lastname, firstname, etc.

However, my queries did not work correctly; never returning any hits.

I finally gave up and re-indexed with Tokenize set to true on all the
fields.

Now my queries work.  And to my surprise, the index was smaller that when I
did not tokenize.

I found this a little counter-intuitive.  

Can someone explain this?

--
To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-391-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Nov 20 22:37:53 2001
Return-Path: <lucene-user-return-391-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 49848 invoked from network); 20 Nov 2001 22:37:53 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 20 Nov 2001 22:37:53 -0000
Received: (qmail 23763 invoked by uid 97); 20 Nov 2001 22:37:58 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 23734 invoked by uid 97); 20 Nov 2001 22:37:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23710 invoked from network); 20 Nov 2001 22:37:55 -0000
Message-ID: <001801c17215$1bd925a0$3dd8d9d4@skebo.ac>
Reply-To: "=?iso-8859-1?Q?Johan_\=22Spocke\=22_S=F6rlin?=" <spocke@skebo.ac>
From: "=?iso-8859-1?Q?Johan_\=22Spocke\=22_S=F6rlin?=" <spocke@skebo.ac>
To: <lucene-user@jakarta.apache.org>
Subject: RE: Recommended way of performing multi-field searches
Date: Tue, 20 Nov 2001 23:45:50 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi everyone!!

I've saw you discussion about multiple searches in Lucene and I think Kelvin
Tan
work was nice.. But I have a problem with it, how do a do a subquery on
multiple fields??

If I send in the "testa+testb" as a query the result turns out:
(realName:"support testa") (keywords:"support testa")



--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-392-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Nov 20 22:41:36 2001
Return-Path: <lucene-user-return-392-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 51816 invoked from network); 20 Nov 2001 22:41:36 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 20 Nov 2001 22:41:36 -0000
Received: (qmail 27162 invoked by uid 97); 20 Nov 2001 22:41:41 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 27146 invoked by uid 97); 20 Nov 2001 22:41:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 27135 invoked from network); 20 Nov 2001 22:41:40 -0000
Message-ID: <003001c17215$a19598e0$3dd8d9d4@skebo.ac>
Reply-To: "=?iso-8859-1?Q?Johan_\=22Spocke\=22_S=F6rlin?=" <spocke@skebo.ac>
From: "=?iso-8859-1?Q?Johan_\=22Spocke\=22_S=F6rlin?=" <spocke@skebo.ac>
To: <lucene-user@jakarta.apache.org>
Subject: RE: Recommended way of performing multi-field searches (Repost)
Date: Tue, 20 Nov 2001 23:49:35 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Sorry I must be drunk 8-)... I accedenly sent the mail.... Here it comes
again:

Hi everyone!!

I've saw you discussion about multiple searches in Lucene and I think Kelvin
Tan
work was nice.. But I have a problem with it, how do a do a subquery on
multiple fields??

If I send in the "testa+testb" as a query the result turns out:
(realName:"testa testb") (keywords:"testa testb")

But I want:

(realName:"testb+testa") (keywords:"testb+testa")

Is it possible, and if so how???



--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-393-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Nov 21 00:12:05 2001
Return-Path: <lucene-user-return-393-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 11561 invoked from network); 21 Nov 2001 00:12:05 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 21 Nov 2001 00:12:05 -0000
Received: (qmail 27980 invoked by uid 97); 21 Nov 2001 00:12:13 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 27938 invoked by uid 97); 21 Nov 2001 00:12:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 27883 invoked from network); 21 Nov 2001 00:12:11 -0000
Message-ID: <0EB19E11A812F749B86774090935AAD5211BB0@spear.epicentric.com>
From: Emmanuel Bridonneau <EBridonneau@epicentric.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Attribute Search
Date: Tue, 20 Nov 2001 16:12:07 -0800
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Did you check w/FAQ 26 on searching?
http://www.lucene.com/cgi-bin/faq/faqmanager.cgi?file=chapter.search&toc=faq
#q26


-----Original Message-----
From: New, Cecil (GEAE) [mailto:cecil.new@ae.ge.com]
Sent: Tuesday, November 20, 2001 2:19 PM
To: 'Lucene Users List'
Subject: RE: Attribute Search


Actually, "last name" is not a good example.  Social security numbers, phone
numbers, PO numbers, organization codes, etc. are better examples.

These fields are not even text.  So I did not think it made sense to
tokenize them.  But I did want them indexed and searchable.

-----Original Message-----
From: Emmanuel Bridonneau [mailto:EBridonneau@epicentric.com]
Sent: Monday, November 19, 2001 10:02 PM
To: 'Lucene Users List'
Subject: RE: Attribute Search


I am new here too but here's my 2 cents.
If you don't tokenize your db textvalues, what do you say will be the
resulting terms indexed? I think not what you expect.
Your non tokenized fields probably are not filtered out hence a lastname
like 'Smith' will not be a hit if the query is 'smith' the search being case
sensitive.
I last name is "smith B" (middle initial), search on 'smith' won't return
either because not a token.
I suggest you double check your values in your DB especially if DB is case
sensitive.
Does your analyser takes into account the accent if Latin type of locale?


-----Original Message-----
From: Cecil, Paula New [mailto:cnew@fuse.net]
Sent: Monday, November 19, 2001 9:47 PM
To: LUCENE Text Search
Subject: Attribute Search


I am trying index a set of data, storing only a "primary key".  This primary
key I left un-indexed.  There is one "text" field, that I indexed and
tokenized.

The others I neither want to store or tokenized.  My reasoning was that "not
tokenizing" would produce the smallest index.  The remaining fields were
lastname, firstname, etc.

However, my queries did not work correctly; never returning any hits.

I finally gave up and re-indexed with Tokenize set to true on all the
fields.

Now my queries work.  And to my surprise, the index was smaller that when I
did not tokenize.

I found this a little counter-intuitive.  

Can someone explain this?

--
To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>

--
To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-394-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Nov 21 01:25:40 2001
Return-Path: <lucene-user-return-394-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 47026 invoked from network); 21 Nov 2001 01:25:40 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 21 Nov 2001 01:25:40 -0000
Received: (qmail 12670 invoked by uid 97); 21 Nov 2001 01:25:38 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 12612 invoked by uid 97); 21 Nov 2001 01:25:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 12526 invoked from network); 21 Nov 2001 01:25:36 -0000
Message-ID: <004101c1722b$89783040$0b01a8c0@168.1.8.Domainrelevanz>
Reply-To: "Kelvin Tan" <kelvin@relevanz.com>
From: "Kelvin Tan" <kelvin@relevanz.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <003001c17215$a19598e0$3dd8d9d4@skebo.ac>
Subject: Re: Recommended way of performing multi-field searches (Repost)
Date: Wed, 21 Nov 2001 09:26:25 +0800
Organization: Relevanz Pte Ltd
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.00.2615.200
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2615.200
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

hmmm....I'm a little confused.

Do you mean "testa +testb" as in the term "testa" is optional and "testb" is
mandatory? Or do you want the phrase "testa+testb"?

If the former, if the query "testa+testb" (note no spaces between the end of
one term and the "+"), the query does indeed become (realName:"testa testb")
(keywords:"testa testb").

If you submit "testa +testb", the query becomes (realName:testa
+realName:testb) (keywords:testa +keywords:testb).

Kelvin

----- Original Message -----
From: Johan "Spocke" Srlin <spocke@skebo.ac>
To: <lucene-user@jakarta.apache.org>
Sent: Wednesday, November 21, 2001 6:49 AM
Subject: RE: Recommended way of performing multi-field searches (Repost)


> Sorry I must be drunk 8-)... I accedenly sent the mail.... Here it comes
> again:
>
> Hi everyone!!
>
> I've saw you discussion about multiple searches in Lucene and I think
Kelvin
> Tan
> work was nice.. But I have a problem with it, how do a do a subquery on
> multiple fields??
>
> If I send in the "testa+testb" as a query the result turns out:
> (realName:"testa testb") (keywords:"testa testb")
>
> But I want:
>
> (realName:"testb+testa") (keywords:"testb+testa")
>
> Is it possible, and if so how???
>
>
>
> --
> To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>
>
>


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-395-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Nov 21 10:02:41 2001
Return-Path: <lucene-user-return-395-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 39326 invoked from network); 21 Nov 2001 10:02:40 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 21 Nov 2001 10:02:40 -0000
Received: (qmail 7163 invoked by uid 97); 21 Nov 2001 10:02:52 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 7122 invoked by uid 97); 21 Nov 2001 10:02:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7089 invoked from network); 21 Nov 2001 10:02:50 -0000
Sender: tril@pluto.blackwell.co.uk
Message-ID: <3BFB7BC3.68EA62A4@blackwell.co.uk>
Date: Wed, 21 Nov 2001 10:02:43 +0000
From: Ian Lea <ian.lea@blackwell.co.uk>
X-Mailer: Mozilla 4.73 [en] (X11; U; SunOS 5.6 sun4u)
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Lucene indexer vs. DB index
References: <0EB19E11A812F749B86774090935AAD5211BAE@spear.epicentric.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

If your database or LDAP server gives you all the indexing you
need, with good enough performance, perhaps you don't need Lucene.
But I'm not aware of any databases that give you full text
indexing to match the power of Lucene.



--
Ian.
ian.lea@blackwell.co.uk

Emmanuel Bridonneau wrote:
> 
> Can anyone tell me the advantages of Lucene indexer for indexing data
> located in a database or LDAP server over creating another index in the
> database or from an LDAP console?
> There got to be some for indexing database records but I can't see them?
> Any light out there?

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-396-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Nov 21 18:08:50 2001
Return-Path: <lucene-user-return-396-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 8933 invoked from network); 21 Nov 2001 18:08:49 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 21 Nov 2001 18:08:49 -0000
Received: (qmail 10570 invoked by uid 97); 21 Nov 2001 18:08:36 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 10536 invoked by uid 97); 21 Nov 2001 18:08:34 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 10514 invoked from network); 21 Nov 2001 18:08:34 -0000
Message-ID: <005c01c172d0$9458dbe0$aa59c00a@cnew>
From: "Cecil, Paula New" <cnew@fuse.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <0EB19E11A812F749B86774090935AAD5211BB0@spear.epicentric.com>
Subject: Re: Attribute Search
Date: Wed, 21 Nov 2001 13:07:50 -0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.00.2615.200
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2615.200
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I came across a tutorial which had some details on the static factory Field
methods.  But none of the factory methods return a Field object with the
following settings:
Store => false
Index => true
Tokenize => false

I'm beginning to think this is a bug - that this combination is handled
correctly.


----- Original Message -----
From: Emmanuel Bridonneau <EBridonneau@epicentric.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Sent: Tuesday, November 20, 2001 4:12 PM
Subject: RE: Attribute Search


> Did you check w/FAQ 26 on searching?
>
http://www.lucene.com/cgi-bin/faq/faqmanager.cgi?file=chapter.search&toc=faq
> #q26
>
>
> -----Original Message-----
> From: New, Cecil (GEAE) [mailto:cecil.new@ae.ge.com]
> Sent: Tuesday, November 20, 2001 2:19 PM
> To: 'Lucene Users List'
> Subject: RE: Attribute Search
>
>
> Actually, "last name" is not a good example.  Social security numbers,
phone
> numbers, PO numbers, organization codes, etc. are better examples.
>
> These fields are not even text.  So I did not think it made sense to
> tokenize them.  But I did want them indexed and searchable.
>
> -----Original Message-----
> From: Emmanuel Bridonneau [mailto:EBridonneau@epicentric.com]
> Sent: Monday, November 19, 2001 10:02 PM
> To: 'Lucene Users List'
> Subject: RE: Attribute Search
>
>
> I am new here too but here's my 2 cents.
> If you don't tokenize your db textvalues, what do you say will be the
> resulting terms indexed? I think not what you expect.
> Your non tokenized fields probably are not filtered out hence a lastname
> like 'Smith' will not be a hit if the query is 'smith' the search being
case
> sensitive.
> I last name is "smith B" (middle initial), search on 'smith' won't return
> either because not a token.
> I suggest you double check your values in your DB especially if DB is case
> sensitive.
> Does your analyser takes into account the accent if Latin type of locale?
>
>
> -----Original Message-----
> From: Cecil, Paula New [mailto:cnew@fuse.net]
> Sent: Monday, November 19, 2001 9:47 PM
> To: LUCENE Text Search
> Subject: Attribute Search
>
>
> I am trying index a set of data, storing only a "primary key".  This
primary
> key I left un-indexed.  There is one "text" field, that I indexed and
> tokenized.
>
> The others I neither want to store or tokenized.  My reasoning was that
"not
> tokenizing" would produce the smallest index.  The remaining fields were
> lastname, firstname, etc.
>
> However, my queries did not work correctly; never returning any hits.
>
> I finally gave up and re-indexed with Tokenize set to true on all the
> fields.
>
> Now my queries work.  And to my surprise, the index was smaller that when
I
> did not tokenize.
>
> I found this a little counter-intuitive.
>
> Can someone explain this?
>
> --
> To unsubscribe, e-mail:
> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
> <mailto:lucene-user-help@jakarta.apache.org>
>
> --
> To unsubscribe, e-mail:
> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
> <mailto:lucene-user-help@jakarta.apache.org>
>
> --
> To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>
>



--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-397-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Nov 21 19:06:57 2001
Return-Path: <lucene-user-return-397-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 35310 invoked from network); 21 Nov 2001 19:06:57 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 21 Nov 2001 19:06:57 -0000
Received: (qmail 23028 invoked by uid 97); 21 Nov 2001 19:07:00 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 22995 invoked by uid 97); 21 Nov 2001 19:06:59 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22949 invoked from network); 21 Nov 2001 19:06:59 -0000
Message-ID: <0EB19E11A812F749B86774090935AAD5211BB2@spear.epicentric.com>
From: Emmanuel Bridonneau <EBridonneau@epicentric.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Lucene indexer vs. DB index
Date: Wed, 21 Nov 2001 11:06:58 -0800
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Thanks for the reply. I guess my question is also related to mails sent by
Cecil New earlier. She's trying to index simple, atomic (I mean not
tokenizable) fields unlike text fields. In this scenario I am evaluating
would I be better off using Lucene or creating a DB index of these simple
fields (some are VARCHAR types others are of numeric type) for searching
(Note Cecil that I do not question your approach)?
As a practical example has anyone benchmark a SQL statement using a '=' or
'LIKE' operator using a major DB vendor versus a Lucene Query or
WildcardQuery on atomic fields?



-----Original Message-----
From: Ian Lea [mailto:ian.lea@blackwell.co.uk]
Sent: Wednesday, November 21, 2001 2:03 AM
To: Lucene Users List
Subject: Re: Lucene indexer vs. DB index


If your database or LDAP server gives you all the indexing you
need, with good enough performance, perhaps you don't need Lucene.
But I'm not aware of any databases that give you full text
indexing to match the power of Lucene.



--
Ian.
ian.lea@blackwell.co.uk

Emmanuel Bridonneau wrote:
> 
> Can anyone tell me the advantages of Lucene indexer for indexing data
> located in a database or LDAP server over creating another index in the
> database or from an LDAP console?
> There got to be some for indexing database records but I can't see them?
> Any light out there?

--
To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-398-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Nov 21 19:29:44 2001
Return-Path: <lucene-user-return-398-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 45741 invoked from network); 21 Nov 2001 19:29:44 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 21 Nov 2001 19:29:44 -0000
Received: (qmail 3770 invoked by uid 97); 21 Nov 2001 19:29:44 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 3749 invoked by uid 97); 21 Nov 2001 19:29:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3720 invoked from network); 21 Nov 2001 19:29:42 -0000
Message-ID: <0EB19E11A812F749B86774090935AAD5211BB4@spear.epicentric.com>
From: Emmanuel Bridonneau <EBridonneau@epicentric.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Attribute Search
Date: Wed, 21 Nov 2001 11:29:40 -0800
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

What about trying to export the content of your database (the fields you're
interested in) into flat files? You then feed your indexer with your
FileInputStream using the pattern you describe below and recreate your
search and see if result differs.

-----Original Message-----
From: Cecil, Paula New [mailto:cnew@fuse.net]
Sent: Wednesday, November 21, 2001 1:08 PM
To: Lucene Users List
Subject: Re: Attribute Search


I came across a tutorial which had some details on the static factory Field
methods.  But none of the factory methods return a Field object with the
following settings:
Store => false
Index => true
Tokenize => false

I'm beginning to think this is a bug - that this combination is handled
correctly.


----- Original Message -----
From: Emmanuel Bridonneau <EBridonneau@epicentric.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Sent: Tuesday, November 20, 2001 4:12 PM
Subject: RE: Attribute Search


> Did you check w/FAQ 26 on searching?
>
http://www.lucene.com/cgi-bin/faq/faqmanager.cgi?file=chapter.search&toc=faq
> #q26
>
>
> -----Original Message-----
> From: New, Cecil (GEAE) [mailto:cecil.new@ae.ge.com]
> Sent: Tuesday, November 20, 2001 2:19 PM
> To: 'Lucene Users List'
> Subject: RE: Attribute Search
>
>
> Actually, "last name" is not a good example.  Social security numbers,
phone
> numbers, PO numbers, organization codes, etc. are better examples.
>
> These fields are not even text.  So I did not think it made sense to
> tokenize them.  But I did want them indexed and searchable.
>
> -----Original Message-----
> From: Emmanuel Bridonneau [mailto:EBridonneau@epicentric.com]
> Sent: Monday, November 19, 2001 10:02 PM
> To: 'Lucene Users List'
> Subject: RE: Attribute Search
>
>
> I am new here too but here's my 2 cents.
> If you don't tokenize your db textvalues, what do you say will be the
> resulting terms indexed? I think not what you expect.
> Your non tokenized fields probably are not filtered out hence a lastname
> like 'Smith' will not be a hit if the query is 'smith' the search being
case
> sensitive.
> I last name is "smith B" (middle initial), search on 'smith' won't return
> either because not a token.
> I suggest you double check your values in your DB especially if DB is case
> sensitive.
> Does your analyser takes into account the accent if Latin type of locale?
>
>
> -----Original Message-----
> From: Cecil, Paula New [mailto:cnew@fuse.net]
> Sent: Monday, November 19, 2001 9:47 PM
> To: LUCENE Text Search
> Subject: Attribute Search
>
>
> I am trying index a set of data, storing only a "primary key".  This
primary
> key I left un-indexed.  There is one "text" field, that I indexed and
> tokenized.
>
> The others I neither want to store or tokenized.  My reasoning was that
"not
> tokenizing" would produce the smallest index.  The remaining fields were
> lastname, firstname, etc.
>
> However, my queries did not work correctly; never returning any hits.
>
> I finally gave up and re-indexed with Tokenize set to true on all the
> fields.
>
> Now my queries work.  And to my surprise, the index was smaller that when
I
> did not tokenize.
>
> I found this a little counter-intuitive.
>
> Can someone explain this?
>
> --
> To unsubscribe, e-mail:
> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
> <mailto:lucene-user-help@jakarta.apache.org>
>
> --
> To unsubscribe, e-mail:
> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
> <mailto:lucene-user-help@jakarta.apache.org>
>
> --
> To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>
>



--
To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-399-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Nov 21 19:42:37 2001
Return-Path: <lucene-user-return-399-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 52903 invoked from network); 21 Nov 2001 19:42:37 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 21 Nov 2001 19:42:37 -0000
Received: (qmail 12704 invoked by uid 97); 21 Nov 2001 19:42:27 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 12625 invoked by uid 97); 21 Nov 2001 19:42:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 12451 invoked from network); 21 Nov 2001 19:42:24 -0000
Mime-Version: 1.0
X-Sender: ykingma@pop.xs4all.nl
Message-Id: <a05010404b821b5a69919@[194.109.165.52]>
In-Reply-To: <005c01c172d0$9458dbe0$aa59c00a@cnew>
References: <0EB19E11A812F749B86774090935AAD5211BB0@spear.epicentric.com>
 <005c01c172d0$9458dbe0$aa59c00a@cnew>
Date: Wed, 21 Nov 2001 20:51:21 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
From: Ype Kingma <ykingma@xs4all.nl>
Subject: Re: Attribute Search
Content-Type: text/plain; charset="us-ascii"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Paula,

>I came across a tutorial which had some details on the static factory Field
>methods.  But none of the factory methods return a Field object with the
>following settings:
>Store => false
>Index => true
>Tokenize => false
>
>I'm beginning to think this is a bug - that this combination is handled
>correctly.

The Field() constructor is public, can't you use that instead of one
of the factory methods?

public Field(String name,
             String string,
             boolean store,
             boolean index,
             boolean token)

Regards,
Ype

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-400-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Nov 22 06:41:35 2001
Return-Path: <lucene-user-return-400-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 92456 invoked from network); 22 Nov 2001 06:41:35 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 22 Nov 2001 06:41:35 -0000
Received: (qmail 9740 invoked by uid 97); 22 Nov 2001 06:41:45 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 9703 invoked by uid 97); 22 Nov 2001 06:41:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 9690 invoked from network); 22 Nov 2001 06:41:43 -0000
Message-ID: <20011122064142.89970.qmail@web12708.mail.yahoo.com>
Date: Wed, 21 Nov 2001 22:41:42 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Efficient document spooling and indexing
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello,

This is from a thread from about 2 weeks ago.
What is the answer to this question?
If data is written to disk only when IndexWriter's close() is called,
wouldn't the sample code below be as efficient as the sample code that
uses RAMDirectory, further down?

Thanks,
Otis


----
When using the FSWriter, the actual file io doesn't occur until I close
the writer, right?  So wouldn't it be just as efficient to do the
following:

IndexWriter fsWriter = new IndexWriter(new File(...), analyzer, false);
  while (... more docs to index...)
    ... add 100,000 docs to fsWriter ...
  }
  fsWriter.optimize();
  fsWriter.close();

-----Original Message-----
From: Scott Ganyo [mailto:scott.ganyo@eTapestry.com]
Sent: Friday, November 02, 2001 10:47 AM
To: 'Lucene Users List'
Subject: RE: Indexing problem

Well, I don't know if there's an archive of the list, so this what Doug
wrote: "
A more efficient and slightly more complex approach would be to build
large
indexes in RAM, and copy them to disk with IndexWriter.addIndexes:
  IndexWriter fsWriter = new IndexWriter(new File(...), analyzer,
true);
  while (... more docs to index...)
    RAMDirectory ramDir = new RAMDirectory();
    IndexWriter ramWriter = new IndexWriter(ramDir, analyzer, true);
    ... add 100,000 docs to ramWriter ...
    ramWriter.optimize();
    ramWriter.close();
    fsWriter.addIndexes(new Directory[] { ramDir });
  }
  fsWriter.optimize();
  fsWriter.close();
"

Scott

__________________________________________________
Do You Yahoo!?
Yahoo! GeoCities - quick and easy web site hosting, just $8.95/month.
http://geocities.yahoo.com/ps/info1

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-401-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Nov 22 10:56:08 2001
Return-Path: <lucene-user-return-401-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 90141 invoked from network); 22 Nov 2001 10:56:08 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 22 Nov 2001 10:56:08 -0000
Received: (qmail 9148 invoked by uid 97); 22 Nov 2001 10:56:20 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 9120 invoked by uid 97); 22 Nov 2001 10:56:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 9108 invoked from network); 22 Nov 2001 10:56:19 -0000
From: "Ilya Khandamirov" <ikh@startext.de>
To: <lucene-user@jakarta.apache.org>
Subject: Release Build. Does it exist?
Date: Thu, 22 Nov 2001 11:52:31 +0100
Message-ID: <GBEEJAMAFOMFCNACOHHDOEHJCDAA.ikh@startext.de>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_000E_01C1734C.2A7E6600"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_000E_01C1734C.2A7E6600
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit

Hi,

I'm new to Lucene, but i like it very much from what i've read about it. I'm
just wondering if there is a Release Build (production quality version) of
Lucene?

Home page states - "Lucene News: Lucene v1.02 released"
(http://jakarta.apache.org/lucene/docs/index.html). But i can find only
Milestone Lucene 1.2. Release **Candidates** 1/2 at both
http://jakarta.apache.org/site/binindex.html and
http://jakarta.apache.org/builds/jakarta-lucene/release/.

Please let me know what i'm missing and where can i find the release
version.

Regards,
Ilya



------=_NextPart_000_000E_01C1734C.2A7E6600--


From lucene-user-return-402-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Nov 22 12:16:05 2001
Return-Path: <lucene-user-return-402-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 23687 invoked from network); 22 Nov 2001 12:16:05 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 22 Nov 2001 12:16:05 -0000
Received: (qmail 7923 invoked by uid 97); 22 Nov 2001 12:16:04 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 7907 invoked by uid 97); 22 Nov 2001 12:16:04 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7896 invoked from network); 22 Nov 2001 12:16:03 -0000
Sender: tril@pluto.blackwell.co.uk
Message-ID: <3BFCEC81.1F085829@blackwell.co.uk>
Date: Thu, 22 Nov 2001 12:16:01 +0000
From: Ian Lea <ian.lea@blackwell.co.uk>
X-Mailer: Mozilla 4.73 [en] (X11; U; SunOS 5.6 sun4u)
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Efficient document spooling and indexing
References: <20011122064142.89970.qmail@web12708.mail.yahoo.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Data may not be committed to disk, buffers flushed, files
closed, etc. until IndexWriter.close() is called, but file
IO does happen before then.  So I would expect the answer
to your question to be no.


--
Ian.
ian.lea@blackwell.co.uk


Otis Gospodnetic wrote:
> 
> Hello,
> 
> This is from a thread from about 2 weeks ago.
> What is the answer to this question?
> If data is written to disk only when IndexWriter's close() is called,
> wouldn't the sample code below be as efficient as the sample code that
> uses RAMDirectory, further down?
> 
> Thanks,
> Otis
> 
> ----
> When using the FSWriter, the actual file io doesn't occur until I close
> the writer, right?  So wouldn't it be just as efficient to do the
> following:
> 
> IndexWriter fsWriter = new IndexWriter(new File(...), analyzer, false);
>   while (... more docs to index...)
>     ... add 100,000 docs to fsWriter ...
>   }
>   fsWriter.optimize();
>   fsWriter.close();
> 
> -----Original Message-----
> From: Scott Ganyo [mailto:scott.ganyo@eTapestry.com]
> Sent: Friday, November 02, 2001 10:47 AM
> To: 'Lucene Users List'
> Subject: RE: Indexing problem
> 
> Well, I don't know if there's an archive of the list, so this what Doug
> wrote: "
> A more efficient and slightly more complex approach would be to build
> large
> indexes in RAM, and copy them to disk with IndexWriter.addIndexes:
>   IndexWriter fsWriter = new IndexWriter(new File(...), analyzer,
> true);
>   while (... more docs to index...)
>     RAMDirectory ramDir = new RAMDirectory();
>     IndexWriter ramWriter = new IndexWriter(ramDir, analyzer, true);
>     ... add 100,000 docs to ramWriter ...
>     ramWriter.optimize();
>     ramWriter.close();
>     fsWriter.addIndexes(new Directory[] { ramDir });
>   }
>   fsWriter.optimize();
>   fsWriter.close();
> "
> 
> Scott

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-403-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Nov 22 17:02:02 2001
Return-Path: <lucene-user-return-403-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 75233 invoked from network); 22 Nov 2001 17:02:02 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 22 Nov 2001 17:02:02 -0000
Received: (qmail 23171 invoked by uid 97); 22 Nov 2001 17:02:03 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 23150 invoked by uid 97); 22 Nov 2001 17:02:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23139 invoked from network); 22 Nov 2001 17:02:01 -0000
Message-ID: <C12608E688A3D411963F000102A7A60B0DD80A@srvitera.iteratec.de>
From: =?iso-8859-1?Q?Lind_J=FCrgen?= <Juergen.Lind@iteratec.de>
To: lucene-user@jakarta.apache.org
Subject: Determine the line number of a match
Date: Thu, 22 Nov 2001 18:03:41 +0100
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


Hi there,

I just started playing around with lucene and I was wondering if there
is a simple method to determine the line number of a match within a =3D
file.
The documentation did not give me any hints on that...

Cheers,

Juergen

--
Dr. J=FCrgen Lind
iteratec GmbH                Fon: +49 (0)89 614551-44
Inselkammerstrasse 4         Fax: +49 (0)89 614551-10
82008 Unterhaching           Web: www.iteratec.de


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-404-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Nov 22 19:17:00 2001
Return-Path: <lucene-user-return-404-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 22732 invoked from network); 22 Nov 2001 19:16:59 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 22 Nov 2001 19:16:59 -0000
Received: (qmail 17534 invoked by uid 97); 22 Nov 2001 19:17:02 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 17517 invoked by uid 97); 22 Nov 2001 19:17:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17492 invoked from network); 22 Nov 2001 19:17:00 -0000
Message-ID: <20011122191701.96497.qmail@web12704.mail.yahoo.com>
Date: Thu, 22 Nov 2001 11:17:01 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Release Build. Does it exist?
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <GBEEJAMAFOMFCNACOHHDOEHJCDAA.ikh@startext.de>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

You can try Lucene at sf.net (do a search), that may have an ancient
release build still, but you are probably better of getting the latest
release candidate from Jakarta.

Otis

--- Ilya Khandamirov <ikh@startext.de> wrote:
> Hi,
> 
> I'm new to Lucene, but i like it very much from what i've read about
> it. I'm
> just wondering if there is a Release Build (production quality
> version) of
> Lucene?
> 
> Home page states - "Lucene News: Lucene v1.02 released"
> (http://jakarta.apache.org/lucene/docs/index.html). But i can find
> only
> Milestone Lucene 1.2. Release **Candidates** 1/2 at both
> http://jakarta.apache.org/site/binindex.html and
> http://jakarta.apache.org/builds/jakarta-lucene/release/.
> 
> Please let me know what i'm missing and where can i find the release
> version.
> 
> Regards,
> Ilya
> 
> 
> 


__________________________________________________
Do You Yahoo!?
Yahoo! GeoCities - quick and easy web site hosting, just $8.95/month.
http://geocities.yahoo.com/ps/info1

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-405-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Nov 22 19:24:41 2001
Return-Path: <lucene-user-return-405-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 24137 invoked from network); 22 Nov 2001 19:24:41 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 22 Nov 2001 19:24:41 -0000
Received: (qmail 20332 invoked by uid 97); 22 Nov 2001 19:24:43 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 20316 invoked by uid 97); 22 Nov 2001 19:24:43 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20294 invoked from network); 22 Nov 2001 19:24:42 -0000
Message-ID: <20011122192440.73040.qmail@web12702.mail.yahoo.com>
Date: Thu, 22 Nov 2001 11:24:40 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Efficient document spooling and indexing
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <3BFCEC81.1F085829@blackwell.co.uk>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Yes, I think that you are correct, since I see my index directory
growing as I add documents to the index, even though I don't call
close() until I'm finished adding all documents.
Hm, I wonder what exactly gets written to the disk between add and
close.
I shall rewrite my stuff to use RAMDirectory then.  I like efficient
code and hate wasting any kind of resources, not just computing ones.

Thanks,
Otis


--- Ian Lea <ian.lea@blackwell.co.uk> wrote:
> Data may not be committed to disk, buffers flushed, files
> closed, etc. until IndexWriter.close() is called, but file
> IO does happen before then.  So I would expect the answer
> to your question to be no.
> 
> 
> --
> Ian.
> ian.lea@blackwell.co.uk
> 
> 
> Otis Gospodnetic wrote:
> > 
> > Hello,
> > 
> > This is from a thread from about 2 weeks ago.
> > What is the answer to this question?
> > If data is written to disk only when IndexWriter's close() is
> called,
> > wouldn't the sample code below be as efficient as the sample code
> that
> > uses RAMDirectory, further down?
> > 
> > Thanks,
> > Otis
> > 
> > ----
> > When using the FSWriter, the actual file io doesn't occur until I
> close
> > the writer, right?  So wouldn't it be just as efficient to do the
> > following:
> > 
> > IndexWriter fsWriter = new IndexWriter(new File(...), analyzer,
> false);
> >   while (... more docs to index...)
> >     ... add 100,000 docs to fsWriter ...
> >   }
> >   fsWriter.optimize();
> >   fsWriter.close();
> > 
> > -----Original Message-----
> > From: Scott Ganyo [mailto:scott.ganyo@eTapestry.com]
> > Sent: Friday, November 02, 2001 10:47 AM
> > To: 'Lucene Users List'
> > Subject: RE: Indexing problem
> > 
> > Well, I don't know if there's an archive of the list, so this what
> Doug
> > wrote: "
> > A more efficient and slightly more complex approach would be to
> build
> > large
> > indexes in RAM, and copy them to disk with IndexWriter.addIndexes:
> >   IndexWriter fsWriter = new IndexWriter(new File(...), analyzer,
> > true);
> >   while (... more docs to index...)
> >     RAMDirectory ramDir = new RAMDirectory();
> >     IndexWriter ramWriter = new IndexWriter(ramDir, analyzer,
> true);
> >     ... add 100,000 docs to ramWriter ...
> >     ramWriter.optimize();
> >     ramWriter.close();
> >     fsWriter.addIndexes(new Directory[] { ramDir });
> >   }
> >   fsWriter.optimize();
> >   fsWriter.close();
> > "
> > 
> > Scott
> 
> --
> To unsubscribe, e-mail:  
> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
> <mailto:lucene-user-help@jakarta.apache.org>
> 


__________________________________________________
Do You Yahoo!?
Yahoo! GeoCities - quick and easy web site hosting, just $8.95/month.
http://geocities.yahoo.com/ps/info1

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-406-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Nov 22 20:00:28 2001
Return-Path: <lucene-user-return-406-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 32242 invoked from network); 22 Nov 2001 20:00:28 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 22 Nov 2001 20:00:28 -0000
Received: (qmail 3535 invoked by uid 97); 22 Nov 2001 20:00:31 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 3519 invoked by uid 97); 22 Nov 2001 20:00:30 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3508 invoked from network); 22 Nov 2001 20:00:29 -0000
Date: Thu, 22 Nov 2001 12:00:26 -0800
From: Winton Davies <wdavies@overture.com>
Subject: Re: Determine the line number of a match
In-reply-to: <C12608E688A3D411963F000102A7A60B0DD80A@srvitera.iteratec.de>
X-Sender: wintondavies@mail.earthlink.net
To: Lucene Users List <lucene-user@jakarta.apache.org>
Message-id: <v04205509b82309ac5b12@[192.168.1.101]>
MIME-version: 1.0
Content-type: text/plain; charset=us-ascii; format=flowed
Content-transfer-encoding: 7BIT
References: <C12608E688A3D411963F000102A7A60B0DD80A@srvitera.iteratec.de>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

HI Juergen,

  I believe the closest thing is the Term proximity information, but I 
think that is relative token position, rather than the actually 
offset from the original.

  Winton

Winton Davies
Lead Engineer, Overture (NSDQ: OVER)
1820 Gateway Drive, Suite 360
San Mateo, CA 94404
work: (650) 403-2259
cell: (650) 867-1598
http://www.overture.com/

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-407-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 23 08:40:51 2001
Return-Path: <lucene-user-return-407-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 24359 invoked from network); 23 Nov 2001 08:40:51 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 23 Nov 2001 08:40:51 -0000
Received: (qmail 5555 invoked by uid 97); 23 Nov 2001 08:41:03 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 5490 invoked by uid 97); 23 Nov 2001 08:41:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 5412 invoked from network); 23 Nov 2001 08:41:00 -0000
Message-ID: <42257.202.140.147.60.1006504751.squirrel@mail.interactive1.com>
Date: Fri, 23 Nov 2001 08:39:11 -0000 (GMT)
Subject: RE: PDF parser for Lucene
From: <sampreet@interactive1.com>
To: <lucene-user@jakarta.apache.org>
Cc: <bkopic@interactive1.hr>
X-Mailer: InteractiveMail (version 1.2.0)
MIME-Version: 1.0
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-AntiVirus: scanned for viruses by AMaViS 0.2.1 (http://amavis.org/)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hello,

We have been using PDFHandler - a pdf parser provided by websearch, to
search in pdf files. We are trying to get the contents using
pdfHandler.getContents() to arrive at a context-sensitive summary. However,
it gives some yen signs and other special symbols in the title, summary and
contents. If anyone is using the websearch component to parse pdf files and
have encountered this problem, kindly give your suggestions.

Note - Most of the pdf files are using WinAnsiEncoding, and setting the
encoding as Win-12xx doesn't help.

Thanks in advance,

Sampreet
Programmer


You could try this one:
http://www.i2a.com/websearch/

...and then tell me how it works for you.
=:o)


Anyway, it is simple and Open Source.


Have fun,
Paulo Gaspar


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-408-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 23 10:47:27 2001
Return-Path: <lucene-user-return-408-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 89059 invoked from network); 23 Nov 2001 10:47:27 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 23 Nov 2001 10:47:27 -0000
Received: (qmail 10139 invoked by uid 97); 23 Nov 2001 10:47:39 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 10123 invoked by uid 97); 23 Nov 2001 10:47:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 10112 invoked from network); 23 Nov 2001 10:47:38 -0000
Message-ID: <008f01c1740c$6f5d4e60$0b01a8c0@168.1.8.Domainrelevanz>
Reply-To: "Kelvin Tan" <kelvin@relevanz.com>
From: "Kelvin Tan" <kelvin@relevanz.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <42257.202.140.147.60.1006504751.squirrel@mail.interactive1.com>
Subject: Re: PDF parser for Lucene
Date: Fri, 23 Nov 2001 18:48:49 +0800
Organization: Relevanz Pte Ltd
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.00.2615.200
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2615.200
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I'm not too familiar with websearch's PDF parsing.

I use a nice API Etymon Pj http://www.etymon.com/pj/

It doesn't come with the ability to extract text, but it can be coded. I'll
leave you to do it because it's kinda fun, but I could provide it if anyone
wants it.

I've also implemented it so that the searches can be performed on a
page-by-page basis. That's pretty cool, i think.

----- Original Message -----
From: <sampreet@interactive1.com>
To: <lucene-user@jakarta.apache.org>
Cc: <bkopic@interactive1.hr>
Sent: Friday, November 23, 2001 4:39 PM
Subject: RE: PDF parser for Lucene


> Hello,
>
> We have been using PDFHandler - a pdf parser provided by websearch, to
> search in pdf files. We are trying to get the contents using
> pdfHandler.getContents() to arrive at a context-sensitive summary.
However,
> it gives some yen signs and other special symbols in the title, summary
and
> contents. If anyone is using the websearch component to parse pdf files
and
> have encountered this problem, kindly give your suggestions.
>
> Note - Most of the pdf files are using WinAnsiEncoding, and setting the
> encoding as Win-12xx doesn't help.
>
> Thanks in advance,
>
> Sampreet
> Programmer
>
>
> You could try this one:
> http://www.i2a.com/websearch/
>
> ...and then tell me how it works for you.
> =:o)
>
>
> Anyway, it is simple and Open Source.
>
>
> Have fun,
> Paulo Gaspar
>
>
> --
> To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>
>
>


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-409-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 23 13:37:42 2001
Return-Path: <lucene-user-return-409-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 77660 invoked from network); 23 Nov 2001 13:37:42 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 23 Nov 2001 13:37:42 -0000
Received: (qmail 3683 invoked by uid 97); 23 Nov 2001 13:37:41 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 3653 invoked by uid 97); 23 Nov 2001 13:37:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3641 invoked from network); 23 Nov 2001 13:37:40 -0000
Message-ID: <002201c1743d$122f4780$aa59c00a@cnew>
From: "Cecil, Paula New" <cnew@fuse.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
	"Kelvin Tan" <kelvin@relevanz.com>
References: <42257.202.140.147.60.1006504751.squirrel@mail.interactive1.com> <008f01c1740c$6f5d4e60$0b01a8c0@168.1.8.Domainrelevanz>
Subject: Re: PDF parser for Lucene
Date: Fri, 23 Nov 2001 08:36:58 -0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.00.2615.200
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2615.200
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Inspired by the Unix "strings" command, I have written a subclass of
FilterReader; which I have called BinaryReader.  The idea is simply to index
any proprietary file format by filtering out all non-printable characters.
The assumption is that text is text.  It will end up with more than the
"visible" text, but not less.  After I have tested and made some examples I
will post it here.



----- Original Message -----
From: Kelvin Tan <kelvin@relevanz.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Sent: Friday, November 23, 2001 2:48 AM
Subject: Re: PDF parser for Lucene


> I'm not too familiar with websearch's PDF parsing.
>
> I use a nice API Etymon Pj http://www.etymon.com/pj/
>
> It doesn't come with the ability to extract text, but it can be coded.
I'll
> leave you to do it because it's kinda fun, but I could provide it if
anyone
> wants it.
>
> I've also implemented it so that the searches can be performed on a
> page-by-page basis. That's pretty cool, i think.
>
> ----- Original Message -----
> From: <sampreet@interactive1.com>
> To: <lucene-user@jakarta.apache.org>
> Cc: <bkopic@interactive1.hr>
> Sent: Friday, November 23, 2001 4:39 PM
> Subject: RE: PDF parser for Lucene
>
>
> > Hello,
> >
> > We have been using PDFHandler - a pdf parser provided by websearch, to
> > search in pdf files. We are trying to get the contents using
> > pdfHandler.getContents() to arrive at a context-sensitive summary.
> However,
> > it gives some yen signs and other special symbols in the title, summary
> and
> > contents. If anyone is using the websearch component to parse pdf files
> and
> > have encountered this problem, kindly give your suggestions.
> >
> > Note - Most of the pdf files are using WinAnsiEncoding, and setting the
> > encoding as Win-12xx doesn't help.
> >
> > Thanks in advance,
> >
> > Sampreet
> > Programmer
> >
> >
> > You could try this one:
> > http://www.i2a.com/websearch/
> >
> > ...and then tell me how it works for you.
> > =:o)
> >
> >
> > Anyway, it is simple and Open Source.
> >
> >
> > Have fun,
> > Paulo Gaspar
> >
> >
> > --
> > To unsubscribe, e-mail:
> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> > For additional commands, e-mail:
> <mailto:lucene-user-help@jakarta.apache.org>
> >
> >
>
>
> --
> To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>
>



--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-410-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 23 13:47:43 2001
Return-Path: <lucene-user-return-410-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 80585 invoked from network); 23 Nov 2001 13:47:43 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 23 Nov 2001 13:47:43 -0000
Received: (qmail 8501 invoked by uid 97); 23 Nov 2001 13:47:42 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 8479 invoked by uid 97); 23 Nov 2001 13:47:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 8464 invoked from network); 23 Nov 2001 13:47:40 -0000
Message-ID: <21A5421BCAE2D31181BE0006293935FA674C95@altea10.alteanet.it>
From: Alessio Fiore <afiore@alteanet.it>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: R: PDF parser for Lucene
Date: Fri, 23 Nov 2001 14:47:48 +0100
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I also used this technique to index PDF files. Here's the class I used =
to
obtain a "text" input stream by a PDF file, using then it to build a =
Reader
for the indexing engine:


import java.io.*;
import java.util.Properties;

public class PDFToTextConverter extends FileToTextConverter
 {
  public PDFToTextConverter(String as_file_path,
  				    Properties ax_props)
   {
   	super(as_file_path,ax_props); //superclass just save args in
instance variables=20
						//is_file_path and
ix_props...
   }
  =20
  public InputStream getInputStream()
   {
    String ls_command;
    Process lx_child =3D null;
   =20
    ls_command =3D ix_props.get("pdftotext-path") + " " + is_file_path =
+ " -";
        =20
    try
     {
      lx_child =3D Runtime.getRuntime().exec(ls_command);
     =20
      return lx_child.getInputStream();
     }
    catch(Exception e)
     {
      return null;
     }
   }
 }


The application I used to convert pdf to text (called by
Runtime.getRuntime().exec(...)) was xpdf 0.93, that you can find at
http://www.foolabs.com/xpdf in both unix and windows versions.


-----Messaggio originale-----
Da: Cecil, Paula New [mailto:cnew@fuse.net]
Inviato: venerd=EC 23 novembre 2001 17.37
A: Lucene Users List; Kelvin Tan
Oggetto: Re: PDF parser for Lucene


Inspired by the Unix "strings" command, I have written a subclass of
FilterReader; which I have called BinaryReader.  The idea is simply to =
index
any proprietary file format by filtering out all non-printable =
characters.
The assumption is that text is text.  It will end up with more than the
"visible" text, but not less.  After I have tested and made some =
examples I
will post it here.



----- Original Message -----
From: Kelvin Tan <kelvin@relevanz.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Sent: Friday, November 23, 2001 2:48 AM
Subject: Re: PDF parser for Lucene


> I'm not too familiar with websearch's PDF parsing.
>
> I use a nice API Etymon Pj http://www.etymon.com/pj/
>
> It doesn't come with the ability to extract text, but it can be =
coded.
I'll
> leave you to do it because it's kinda fun, but I could provide it if
anyone
> wants it.
>
> I've also implemented it so that the searches can be performed on a
> page-by-page basis. That's pretty cool, i think.
>
> ----- Original Message -----
> From: <sampreet@interactive1.com>
> To: <lucene-user@jakarta.apache.org>
> Cc: <bkopic@interactive1.hr>
> Sent: Friday, November 23, 2001 4:39 PM
> Subject: RE: PDF parser for Lucene
>
>
> > Hello,
> >
> > We have been using PDFHandler - a pdf parser provided by websearch, =
to
> > search in pdf files. We are trying to get the contents using
> > pdfHandler.getContents() to arrive at a context-sensitive summary.
> However,
> > it gives some yen signs and other special symbols in the title, =
summary
> and
> > contents. If anyone is using the websearch component to parse pdf =
files
> and
> > have encountered this problem, kindly give your suggestions.
> >
> > Note - Most of the pdf files are using WinAnsiEncoding, and setting =
the
> > encoding as Win-12xx doesn't help.
> >
> > Thanks in advance,
> >
> > Sampreet
> > Programmer
> >
> >
> > You could try this one:
> > http://www.i2a.com/websearch/
> >
> > ...and then tell me how it works for you.
> > =3D:o)
> >
> >
> > Anyway, it is simple and Open Source.
> >
> >
> > Have fun,
> > Paulo Gaspar
> >
> >
> > --
> > To unsubscribe, e-mail:
> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> > For additional commands, e-mail:
> <mailto:lucene-user-help@jakarta.apache.org>
> >
> >
>
>
> --
> To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>
>



--
To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>



- Disclaimer -
This email and any attachments thereto may contain information which is
confidential and/or protected by intellectual property rights and are
intended for the sole use of the recipient(s) named above. Any use of =
the
information contained herein (including, but not limited to, total or
partial reproduction, communication or distribution in any form) or the
taking of any action in reliance on the contents, by persons other than =
the
designated recipient(s) is strictly prohibited.

If you have received this email in error, please notify the sender =
either by
telephone or by email and delete the material from any computer.

Thank you for your cooperation.=20



--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-411-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 23 13:56:25 2001
Return-Path: <lucene-user-return-411-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 86545 invoked from network); 23 Nov 2001 13:56:25 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 23 Nov 2001 13:56:25 -0000
Received: (qmail 15966 invoked by uid 97); 23 Nov 2001 13:56:25 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 15950 invoked by uid 97); 23 Nov 2001 13:56:24 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 15939 invoked from network); 23 Nov 2001 13:56:24 -0000
Message-ID: <1A336BFB8DCA0840B29CC55F23EBB4A588EF58@knk7.ww010.siemens.net>
From: "Strittmatter Stephan (external)"
	 <Stephan.Strittmatter.ext@kst.siemens.de>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: Automatically determin Language of document
Date: Fri, 23 Nov 2001 14:56:09 +0100
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

has anyone done anything to autodetect Language of an
HTML-Document which will be indexed by Lucene?

I will use Lucene to index an multilingual Portal
and want to filter the hits by language.

Thanks for any ideas,

Stephan

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-412-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 23 14:13:51 2001
Return-Path: <lucene-user-return-412-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 91260 invoked from network); 23 Nov 2001 14:13:51 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 23 Nov 2001 14:13:51 -0000
Received: (qmail 25094 invoked by uid 97); 23 Nov 2001 14:13:51 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 25078 invoked by uid 97); 23 Nov 2001 14:13:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25061 invoked from network); 23 Nov 2001 14:13:50 -0000
Reply-To: <semiosys@wanadoo.fr>
From: "Elie Naulleau" <semiosys@wanadoo.fr>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: Automatically determin Language of document
Date: Fri, 23 Nov 2001 15:13:37 +0100
Message-ID: <LPENLECLNHFGPOFDHFKMMEOECAAA.semiosys@wanadoo.fr>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Importance: Normal
In-Reply-To: <1A336BFB8DCA0840B29CC55F23EBB4A588EF58@knk7.ww010.siemens.net>
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2919.6700
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


Hi,
You could try Doug Beeferman's variable-length character n-gram approach
to identify a language among 13 european ones.
http://www.dougb.com/ident.html

I tried it and it works pretty well. It's based on a similarity mesure
(cosine)
between a corpus-model and the input text.

There are issues depending on which character set you used (iso-latin1,
or other asci flavor).

If you just have 4 or 5 languages to deal with, you can build your
own with the most frequent word lists for each language. I have some
trivial C++ code that does it and can send it to you it you need.
Identified language is choosen on a frequency criterion.

Of course commercial product are available for that (try Xerox & inXight
for instance $$).

The point is how many language you have to identify...

Complement:
Some time ago, Bright Station (UK) had some open source C/C++ code
 for a variety of stemmers for european language (adapted from
the Porter stemmer approach).

I hope this helps,
Elie Naulleau
Semio-Sys


-----Message d'origine-----
De : Strittmatter Stephan (external)
[mailto:Stephan.Strittmatter.ext@kst.siemens.de]
Envoy : vendredi 23 novembre 2001 14:56
 : 'Lucene Users List'
Objet : Automatically determin Language of document


Hi,

has anyone done anything to autodetect Language of an
HTML-Document which will be indexed by Lucene?

I will use Lucene to index an multilingual Portal
and want to filter the hits by language.

Thanks for any ideas,

Stephan

--
To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-413-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 23 17:30:48 2001
Return-Path: <lucene-user-return-413-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 16426 invoked from network); 23 Nov 2001 17:30:48 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 23 Nov 2001 17:30:48 -0000
Received: (qmail 422 invoked by uid 97); 23 Nov 2001 17:30:50 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 406 invoked by uid 97); 23 Nov 2001 17:30:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 395 invoked from network); 23 Nov 2001 17:30:49 -0000
Message-ID: <3BFE95BB.34CF6B03@bouncy.com>
Date: Fri, 23 Nov 2001 18:30:20 +0000
From: Manfred =?iso-8859-1?Q?Sch=E4fer?= <mschaefer@bouncy.com>
Organization: Bouncy Bytes Software GmbH
X-Mailer: Mozilla 4.78 [en] (WinNT; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Prefix query case sensitiv
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Return-Path: mschaefer@bouncy.com
X-MDaemon-Deliver-To: lucene-user@jakarta.apache.org
Reply-To: mschaefer@bouncy.com
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

prefix query seems to be working only with lowercase words.

Example:

indexed word = Albanien

alb*  finds word
Alb* doesn't find word

I'm using StopAnalyzer().

manfred

--
 Manfred Schfer
 Application Development
 _______________________________________________________________________

 Bouncy*Bytes Software GmbH
 Hofgut Bayerseich
 Darmstaedter Landstrasse 64
 D-63329 Egelsbach
 Germany
 Tel.: ++49 - (0) 61 03 - 70 65 6-0
 Fax : ++49 - (0) 61 03 - 70 65 6-15
 info@bouncy.com
 http://www.bouncy.com

 synformation.com(R)  Web-Content-Management-System
 Synergize your information.
________________________________________________________________________





--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-414-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 23 17:37:16 2001
Return-Path: <lucene-user-return-414-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 17881 invoked from network); 23 Nov 2001 17:37:16 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 23 Nov 2001 17:37:16 -0000
Received: (qmail 1712 invoked by uid 97); 23 Nov 2001 17:37:19 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 1677 invoked by uid 97); 23 Nov 2001 17:37:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1666 invoked from network); 23 Nov 2001 17:37:18 -0000
Message-ID: <3BFE972B.958BB0B@bouncy.com>
Date: Fri, 23 Nov 2001 18:36:27 +0000
From: Manfred =?iso-8859-1?Q?Sch=E4fer?= <mschaefer@bouncy.com>
Organization: Bouncy Bytes Software GmbH
X-Mailer: Mozilla 4.78 [en] (WinNT; U)
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: Prefix query case sensitiv
References: <3BFE95BB.34CF6B03@bouncy.com>
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit
X-Return-Path: mschaefer@bouncy.com
X-MDaemon-Deliver-To: lucene-user@jakarta.apache.org
Reply-To: mschaefer@bouncy.com
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Sorry,

i'm very sorry for writing mail first, looking archive then. Please forgive me.

manfred

Manfred Schfer wrote:

> Hi,
>
> prefix query seems to be working only with lowercase words.
>
> Example:
>
> indexed word = Albanien
>
> alb*  finds word
> Alb* doesn't find word
>
> I'm using StopAnalyzer().
>
> manfred
>
> --
>  Manfred Schfer
>  Application Development
>  _______________________________________________________________________
>
>  Bouncy*Bytes Software GmbH
>  Hofgut Bayerseich
>  Darmstaedter Landstrasse 64
>  D-63329 Egelsbach
>  Germany
>  Tel.: ++49 - (0) 61 03 - 70 65 6-0
>  Fax : ++49 - (0) 61 03 - 70 65 6-15
>  info@bouncy.com
>  http://www.bouncy.com
>
>  synformation.com(R)  Web-Content-Management-System
>  Synergize your information.
> ________________________________________________________________________
>
> --
> To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>

--
 Manfred Schfer
 Application Development
 _______________________________________________________________________

 Bouncy*Bytes Software GmbH
 Hofgut Bayerseich
 Darmstaedter Landstrasse 64
 D-63329 Egelsbach
 Germany
 Tel.: ++49 - (0) 61 03 - 70 65 6-0
 Fax : ++49 - (0) 61 03 - 70 65 6-15
 info@bouncy.com
 http://www.bouncy.com

 synformation.com(R)  Web-Content-Management-System
 Synergize your information.
________________________________________________________________________




--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-415-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 23 18:16:17 2001
Return-Path: <lucene-user-return-415-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 32077 invoked from network); 23 Nov 2001 18:16:17 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 23 Nov 2001 18:16:17 -0000
Received: (qmail 11835 invoked by uid 97); 23 Nov 2001 18:16:20 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 11819 invoked by uid 97); 23 Nov 2001 18:16:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11796 invoked from network); 23 Nov 2001 18:16:19 -0000
Message-ID: <903A7281CDB7D4118A5000500450BB0801EFE0@samoa.sitewaerts>
From: Christoph Breidert <breidert@sitewaerts.de>
To: "'lucene-user@jakarta.apache.org'" <lucene-user@jakarta.apache.org>
Subject: lucene in applet
Date: Fri, 23 Nov 2001 19:17:34 +0100
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi folks,

I=B4m working on a site-grabber to wich I would like to add offline =
search
funktionality. I experimented with lucene, and it covers all my needs. =
I=B4m
planning to realize the search functionality with an applet.

Problem: I cannot access the index created with lucene from my applet. =
The
only way to access resources on a remote host (wich could be the =
file-system
as well) is with a stream.=20

//Something like this
URL source =3D new URL(getCodeBase(), "path_to_index");
BufferedReader in =3D new BufferedReader(new
InputStreamReader(source.openStream()));
...

>From what I tested lucene I found that the only possibilities to access =
an
existing index is directly with a 'org.apache.lucene.store.Directory' =
or a
'java.io.File' or a 'java.lang.String' containing the path to the =
index.

With this interface it seems not to be possible to acces an index from =
an
applet.

Has anyone encountered a similar problem, and maybe found a solution =
for it?

It seems to me that maybe lucene should add this possibility to access =
an
index?

I would appreciate comments on this.


Thank you,=20

Christoph Breidert=20
Software - Development=20

<<<<<<<<<<<<<<<<<<<<<<<<<<<
sitewaerts GmbH
Hebelstra=DFe 15
D-76133 Karlsruhe

Tel: +49 (721) 920 918 0
Fax: +49 (721) 920 918 29
http://www.sitewaerts.de
>>>>>>>>>>>>>>>>>>>>>>>>>>>



--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-416-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Sat Nov 24 00:23:31 2001
Return-Path: <lucene-user-return-416-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 48669 invoked from network); 24 Nov 2001 00:23:30 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 24 Nov 2001 00:23:30 -0000
Received: (qmail 7430 invoked by uid 97); 24 Nov 2001 00:23:36 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 7391 invoked by uid 97); 24 Nov 2001 00:23:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7380 invoked from network); 24 Nov 2001 00:23:33 -0000
Message-ID: <004901c1747e$6cf85580$0b01a8c0@168.1.8.Domainrelevanz>
Reply-To: "Kelvin Tan" <kelvin@relevanz.com>
From: "Kelvin Tan" <kelvin@relevanz.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <42257.202.140.147.60.1006504751.squirrel@mail.interactive1.com> <008f01c1740c$6f5d4e60$0b01a8c0@168.1.8.Domainrelevanz> <002201c1743d$122f4780$aa59c00a@cnew>
Subject: Re: PDF parser for Lucene
Date: Sat, 24 Nov 2001 08:24:47 +0800
Organization: Relevanz Pte Ltd
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.00.2615.200
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2615.200
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

That's pretty interesting because I've done something similar, but I
(vainly) try to build some intelligence into it.

First I run the text through a regex which filters out most of the words
which contain nonsense characters (^A-Za-z0-9_@).

Then I run it through a couple of tests, which try to guess if this is an
English word, like testing for 3 consonants in a row, and if there are 2
numbers which are not next to each other (can you think of any?!?!). Based
on these, I rank the documents. Finally, if the word is less than 5
characters, I run it through a wordlist.

The results are <emphasis>acceptable</emphasis>. The difficulty is that when
faced with large documents (>5MB), you end up with alot of nonsense terms,
actually exceeding Lucene's inbuilt limit of 10000 terms (to limit memory
usage). The result is that these documents are not indexed completely.

I'd be interested to see how you filter your documents...:)

----- Original Message -----
From: Cecil, Paula New <cnew@fuse.net>
To: Lucene Users List <lucene-user@jakarta.apache.org>; Kelvin Tan
<kelvin@relevanz.com>
Sent: Saturday, November 24, 2001 12:36 AM
Subject: Re: PDF parser for Lucene


> Inspired by the Unix "strings" command, I have written a subclass of
> FilterReader; which I have called BinaryReader.  The idea is simply to
index
> any proprietary file format by filtering out all non-printable characters.
> The assumption is that text is text.  It will end up with more than the
> "visible" text, but not less.  After I have tested and made some examples
I
> will post it here.
>
>
>
> ----- Original Message -----
> From: Kelvin Tan <kelvin@relevanz.com>
> To: Lucene Users List <lucene-user@jakarta.apache.org>
> Sent: Friday, November 23, 2001 2:48 AM
> Subject: Re: PDF parser for Lucene
>
>
> > I'm not too familiar with websearch's PDF parsing.
> >
> > I use a nice API Etymon Pj http://www.etymon.com/pj/
> >
> > It doesn't come with the ability to extract text, but it can be coded.
> I'll
> > leave you to do it because it's kinda fun, but I could provide it if
> anyone
> > wants it.
> >
> > I've also implemented it so that the searches can be performed on a
> > page-by-page basis. That's pretty cool, i think.
> >
> > ----- Original Message -----
> > From: <sampreet@interactive1.com>
> > To: <lucene-user@jakarta.apache.org>
> > Cc: <bkopic@interactive1.hr>
> > Sent: Friday, November 23, 2001 4:39 PM
> > Subject: RE: PDF parser for Lucene
> >
> >
> > > Hello,
> > >
> > > We have been using PDFHandler - a pdf parser provided by websearch, to
> > > search in pdf files. We are trying to get the contents using
> > > pdfHandler.getContents() to arrive at a context-sensitive summary.
> > However,
> > > it gives some yen signs and other special symbols in the title,
summary
> > and
> > > contents. If anyone is using the websearch component to parse pdf
files
> > and
> > > have encountered this problem, kindly give your suggestions.
> > >
> > > Note - Most of the pdf files are using WinAnsiEncoding, and setting
the
> > > encoding as Win-12xx doesn't help.
> > >
> > > Thanks in advance,
> > >
> > > Sampreet
> > > Programmer
> > >
> > >
> > > You could try this one:
> > > http://www.i2a.com/websearch/
> > >
> > > ...and then tell me how it works for you.
> > > =:o)
> > >
> > >
> > > Anyway, it is simple and Open Source.
> > >
> > >
> > > Have fun,
> > > Paulo Gaspar
> > >
> > >
> > > --
> > > To unsubscribe, e-mail:
> > <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> > > For additional commands, e-mail:
> > <mailto:lucene-user-help@jakarta.apache.org>
> > >
> > >
> >
> >
> > --
> > To unsubscribe, e-mail:
> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> > For additional commands, e-mail:
> <mailto:lucene-user-help@jakarta.apache.org>
> >
>
>
>
> --
> To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>
>
>


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-417-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Sat Nov 24 03:46:53 2001
Return-Path: <lucene-user-return-417-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 96585 invoked from network); 24 Nov 2001 03:46:53 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 24 Nov 2001 03:46:53 -0000
Received: (qmail 4038 invoked by uid 97); 24 Nov 2001 03:47:01 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 4002 invoked by uid 97); 24 Nov 2001 03:47:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3991 invoked from network); 24 Nov 2001 03:46:59 -0000
Message-ID: <012001c1749a$d55b4a80$0b01a8c0@168.1.8.Domainrelevanz>
Reply-To: "Kelvin Tan" <kelvin@relevanz.com>
From: "Kelvin Tan" <kelvin@relevanz.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <42257.202.140.147.60.1006504751.squirrel@mail.interactive1.com> <008f01c1740c$6f5d4e60$0b01a8c0@168.1.8.Domainrelevanz>
Subject: Re: PDF parser for Lucene
Date: Sat, 24 Nov 2001 11:48:08 +0800
Organization: Relevanz Pte Ltd
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.00.2615.200
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2615.200
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Here's part of my email to Otis...with some additions at the bottom

I was rather intrigued by Websearch's abilities and wanted to compare it
with Pj's, so I ran both on a couple more PDFs and of a greater variety than
I had prior to this. The results were pretty disappointing.

Generally any PDF file that can be processed by Websearch can be done by Pj.
Text is extracted and except for special characters (which are replaced by a
\{code}). Whilst I had previously enjoyed relative success with Pj for
extracting text from PDFs, there were many PDF files in which it just fell
flat on its face.

Probing further, this is what I found. If the PDF is encrypted, generally
the text can't be extracted (pj has a method where you call
getEncryptedDictionary() which apparently returns an encrypted dictionary if
it is encrypted). If an encoding method other than ascii85 or flate is used,
pj can't handle it (I've seen a LZWdecode used. I suppose this is Zip). And
then there are other instances of which I haven't a clue...:)

As a rule of thumb, if the PDF is all text (unpractical of course, and
defeating the entire purpose of PDF files), pj can handle it without a
glitch.

The method of going through the PDF file and extracting all text from it
through some kind of Reader (brought up by Paula New Cecil) probably
wouldn't be effective either. Most PDFs are FlateDecoded, which means
compressed using the Flate algorithm. You can actually read it in using
java.util.zip.InflateInputStream and decompress it then though.

<newly-added>
I was bored and decided to try out the files that pj failed to handle, using
xpdf v0.92 instead( specifically pdftotext, under windows).
http://www.foolabs.com/xpdf

Same results as with pj. Encrypted files are not extracted (Error: Copying
of text from this document is not allowed.)
Other files fail with some error or other.

Does anyone have a solution for this?? :)
</newly-added>

Kelvin

----- Original Message -----
From: Kelvin Tan <kelvin@relevanz.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Sent: Friday, November 23, 2001 6:48 PM
Subject: Re: PDF parser for Lucene


> I'm not too familiar with websearch's PDF parsing.
>
> I use a nice API Etymon Pj http://www.etymon.com/pj/
>
> It doesn't come with the ability to extract text, but it can be coded.
I'll
> leave you to do it because it's kinda fun, but I could provide it if
anyone
> wants it.
>
> I've also implemented it so that the searches can be performed on a
> page-by-page basis. That's pretty cool, i think.
>
> ----- Original Message -----
> From: <sampreet@interactive1.com>
> To: <lucene-user@jakarta.apache.org>
> Cc: <bkopic@interactive1.hr>
> Sent: Friday, November 23, 2001 4:39 PM
> Subject: RE: PDF parser for Lucene
>
>
> > Hello,
> >
> > We have been using PDFHandler - a pdf parser provided by websearch, to
> > search in pdf files. We are trying to get the contents using
> > pdfHandler.getContents() to arrive at a context-sensitive summary.
> However,
> > it gives some yen signs and other special symbols in the title, summary
> and
> > contents. If anyone is using the websearch component to parse pdf files
> and
> > have encountered this problem, kindly give your suggestions.
> >
> > Note - Most of the pdf files are using WinAnsiEncoding, and setting the
> > encoding as Win-12xx doesn't help.
> >
> > Thanks in advance,
> >
> > Sampreet
> > Programmer
> >
> >
> > You could try this one:
> > http://www.i2a.com/websearch/
> >
> > ...and then tell me how it works for you.
> > =:o)
> >
> >
> > Anyway, it is simple and Open Source.
> >
> >
> > Have fun,
> > Paulo Gaspar
> >
> >
> > --
> > To unsubscribe, e-mail:
> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> > For additional commands, e-mail:
> <mailto:lucene-user-help@jakarta.apache.org>
> >
> >
>
>
> --
> To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>
>
>


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-418-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Sat Nov 24 10:33:24 2001
Return-Path: <lucene-user-return-418-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 95885 invoked from network); 24 Nov 2001 10:33:24 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 24 Nov 2001 10:33:24 -0000
Received: (qmail 11805 invoked by uid 97); 24 Nov 2001 10:33:35 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 11765 invoked by uid 97); 24 Nov 2001 10:33:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11754 invoked from network); 24 Nov 2001 10:33:32 -0000
From: rahul.sawhney@philips.com
Subject: query parser and specific type of query
To: lucene-user@jakarta.apache.org
X-Mailer: Lotus Notes Release 5.0.5  September 22, 2000
Message-ID: <OF008BD9A9.434D9E3D-ON65256B0E.0039221E@diamond.philips.com>
Date: Sat, 24 Nov 2001 15:54:22 +0530
X-MIMETrack: Serialize by Router on ehv001soh/H/SERVER/PHILIPS(Release 5.0.5 |September
 22, 2000) at 24/11/2001 11:33:52
MIME-Version: 1.0
Content-type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

I would like to know how to do the following using Lucene:
I index some file containing a string "king of spades" using stop analyzer.
The analyzer filters out "of" in the above string since it is not useful for searching
and indexes king and spades.
Its fine till this point.

Now i would like to search for the same string "king of spades".
My questions are,
1. If i want to generate a PhraseQuery from the QueryParser using StopAnalyzer, what should be done?
2. If i want to generate a FuzzyQuery from the QueryParser using StopAnalyzer, what should be done?

thanks for any help,

regards,
==Rahul==
-------------------------------------------
rahul.sawhney@philips.com
Ph: 5579000 Extn: 1029
-------------------------------------------



--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-419-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Sat Nov 24 19:35:43 2001
Return-Path: <lucene-user-return-419-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 7281 invoked from network); 24 Nov 2001 19:35:42 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 24 Nov 2001 19:35:42 -0000
Received: (qmail 22380 invoked by uid 97); 24 Nov 2001 19:35:46 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 22299 invoked by uid 97); 24 Nov 2001 19:35:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22288 invoked from network); 24 Nov 2001 19:35:44 -0000
Message-ID: <003601c17538$407c7080$aa59c00a@cnew>
From: "Cecil, Paula New" <cnew@fuse.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <42257.202.140.147.60.1006504751.squirrel@mail.interactive1.com> <008f01c1740c$6f5d4e60$0b01a8c0@168.1.8.Domainrelevanz> <012001c1749a$d55b4a80$0b01a8c0@168.1.8.Domainrelevanz>
Subject: Re: PDF parser for Lucene
Date: Sat, 24 Nov 2001 14:34:59 -0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.00.2615.200
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2615.200
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Relative to PDF's, Kevin is correct.  My reader class completely failed.  I
brought up the PDF in Textpad to take a look...  nothing there in "readable"
form.

My tests with typical office documents seemed to work ok as did some other
selections of non-text files.  Turbo-tax failed - I'm sure they encrypt,
which makes perfect sense.  A search also failed on PowerPoint's "word art"
text.



----- Original Message -----
From: Kelvin Tan <kelvin@relevanz.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Sent: Friday, November 23, 2001 7:48 PM
Subject: Re: PDF parser for Lucene


> Here's part of my email to Otis...with some additions at the bottom
>
> I was rather intrigued by Websearch's abilities and wanted to compare it
> with Pj's, so I ran both on a couple more PDFs and of a greater variety
than
> I had prior to this. The results were pretty disappointing.
>
> Generally any PDF file that can be processed by Websearch can be done by
Pj.
> Text is extracted and except for special characters (which are replaced by
a
> \{code}). Whilst I had previously enjoyed relative success with Pj for
> extracting text from PDFs, there were many PDF files in which it just fell
> flat on its face.
>
> Probing further, this is what I found. If the PDF is encrypted, generally
> the text can't be extracted (pj has a method where you call
> getEncryptedDictionary() which apparently returns an encrypted dictionary
if
> it is encrypted). If an encoding method other than ascii85 or flate is
used,
> pj can't handle it (I've seen a LZWdecode used. I suppose this is Zip).
And
> then there are other instances of which I haven't a clue...:)
>
> As a rule of thumb, if the PDF is all text (unpractical of course, and
> defeating the entire purpose of PDF files), pj can handle it without a
> glitch.
>
> The method of going through the PDF file and extracting all text from it
> through some kind of Reader (brought up by Paula New Cecil) probably
> wouldn't be effective either. Most PDFs are FlateDecoded, which means
> compressed using the Flate algorithm. You can actually read it in using
> java.util.zip.InflateInputStream and decompress it then though.
>
> <newly-added>
> I was bored and decided to try out the files that pj failed to handle,
using
> xpdf v0.92 instead( specifically pdftotext, under windows).
> http://www.foolabs.com/xpdf
>
> Same results as with pj. Encrypted files are not extracted (Error: Copying
> of text from this document is not allowed.)
> Other files fail with some error or other.
>
> Does anyone have a solution for this?? :)
> </newly-added>
>
> Kelvin
>
> ----- Original Message -----
> From: Kelvin Tan <kelvin@relevanz.com>
> To: Lucene Users List <lucene-user@jakarta.apache.org>
> Sent: Friday, November 23, 2001 6:48 PM
> Subject: Re: PDF parser for Lucene
>
>
> > I'm not too familiar with websearch's PDF parsing.
> >
> > I use a nice API Etymon Pj http://www.etymon.com/pj/
> >
> > It doesn't come with the ability to extract text, but it can be coded.
> I'll
> > leave you to do it because it's kinda fun, but I could provide it if
> anyone
> > wants it.
> >
> > I've also implemented it so that the searches can be performed on a
> > page-by-page basis. That's pretty cool, i think.
> >
> > ----- Original Message -----
> > From: <sampreet@interactive1.com>
> > To: <lucene-user@jakarta.apache.org>
> > Cc: <bkopic@interactive1.hr>
> > Sent: Friday, November 23, 2001 4:39 PM
> > Subject: RE: PDF parser for Lucene
> >
> >
> > > Hello,
> > >
> > > We have been using PDFHandler - a pdf parser provided by websearch, to
> > > search in pdf files. We are trying to get the contents using
> > > pdfHandler.getContents() to arrive at a context-sensitive summary.
> > However,
> > > it gives some yen signs and other special symbols in the title,
summary
> > and
> > > contents. If anyone is using the websearch component to parse pdf
files
> > and
> > > have encountered this problem, kindly give your suggestions.
> > >
> > > Note - Most of the pdf files are using WinAnsiEncoding, and setting
the
> > > encoding as Win-12xx doesn't help.
> > >
> > > Thanks in advance,
> > >
> > > Sampreet
> > > Programmer
> > >
> > >
> > > You could try this one:
> > > http://www.i2a.com/websearch/
> > >
> > > ...and then tell me how it works for you.
> > > =:o)
> > >
> > >
> > > Anyway, it is simple and Open Source.
> > >
> > >
> > > Have fun,
> > > Paulo Gaspar
> > >
> > >
> > > --
> > > To unsubscribe, e-mail:
> > <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> > > For additional commands, e-mail:
> > <mailto:lucene-user-help@jakarta.apache.org>
> > >
> > >
> >
> >
> > --
> > To unsubscribe, e-mail:
> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> > For additional commands, e-mail:
> <mailto:lucene-user-help@jakarta.apache.org>
> >
> >
>
>
> --
> To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>
>
>



--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-420-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Sat Nov 24 19:47:19 2001
Return-Path: <lucene-user-return-420-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 8904 invoked from network); 24 Nov 2001 19:47:18 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 24 Nov 2001 19:47:18 -0000
Received: (qmail 23594 invoked by uid 97); 24 Nov 2001 19:47:22 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 23577 invoked by uid 97); 24 Nov 2001 19:47:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23566 invoked from network); 24 Nov 2001 19:47:20 -0000
Message-ID: <003d01c17539$e11c52c0$aa59c00a@cnew>
From: "Cecil, Paula New" <cnew@fuse.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <42257.202.140.147.60.1006504751.squirrel@mail.interactive1.com> <008f01c1740c$6f5d4e60$0b01a8c0@168.1.8.Domainrelevanz> <002201c1743d$122f4780$aa59c00a@cnew> <004901c1747e$6cf85580$0b01a8c0@168.1.8.Domainrelevanz>
Subject: Re: PDF parser for Lucene
Date: Sat, 24 Nov 2001 14:46:39 -0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.00.2615.200
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2615.200
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

It had occurred to me also that a useful enhancement might be to filter out
nonsense tokens.

Certainly you are way ahead of me on this.  You're welcome to put your logic
in the class (or send it to me and I will take a stab).  My "BinaryReader"
also squeezes out sequences of whitespace, but will replace a binary
character with a whitespace under certain conditions.

I found a lot of single letters in the MS Office files.  Which I think the
analyzer will get rid of (???  I'm still pretty new to Lucene).

At any rate here is my BinaryReader.  Improvements welcomed!
/* usage example
      FileReader fr = new FileReader(args[0]);
      BufferedReader br = new BufferedReader(fr);
      BinaryReader binr = new BinaryReader(br);
      org.apache.lucene.document.Document doc =
        new org.apache.lucene.document.Document();
      doc.add(Field.UnIndexed("filename", args[0]));
      doc.add(Field.Text("body",binr));
      writer.addDocument(doc);
*/

import java.util.*;
import java.io.*;

public class BinaryReader
  extends java.io.FilterReader
{
  // private vars
  private char prevchar = '\r';
  private char thischar;

  public BinaryReader(Reader in) {
    super(in);
  }

  public int read()
    throws IOException
  {

    int c = in.read();
    if ( c != -1 ) {
      if ( bintest((char)c) ) {
        return thischar;
      }
    }
    return c;
  }

  private boolean bintest(char c) {
    if ( (c >= '!') && (c <= 'z') ) {
      thischar = c;
      prevchar = c;
      return true;
    } else if ( (c == '\n') ||
                (c == '\t') ||
                (c == '\r') )
    {
      thischar = c;
      prevchar = ' ';
      return true;
    } else if ( prevchar != ' ' ) {
      thischar = ' ';
      prevchar = ' ';
      return true;
    }
    return false;
  }

  public int read(char[] cbuf)
    throws IOException
  {
    return read(cbuf, 0, cbuf.length);
  }

  public int read(char[] cbuf, int off, int len)
    throws IOException
  {
    char[] cb = new char[len];
    int cnt = in.read(cb);

    if ( cnt == -1 ) return cnt; // done
    int num = 0;
    int loc = off;
    for ( int i=0; i < cnt; i++ ) {
      if ( bintest(cb[i]) ) {
        cbuf[loc++] = thischar;
        num++;
      }
    }
    return num;
  }
}

----- Original Message -----
From: Kelvin Tan <kelvin@relevanz.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Sent: Friday, November 23, 2001 4:24 PM
Subject: Re: PDF parser for Lucene


> That's pretty interesting because I've done something similar, but I
> (vainly) try to build some intelligence into it.
>
> First I run the text through a regex which filters out most of the words
> which contain nonsense characters (^A-Za-z0-9_@).
>
> Then I run it through a couple of tests, which try to guess if this is an
> English word, like testing for 3 consonants in a row, and if there are 2
> numbers which are not next to each other (can you think of any?!?!). Based
> on these, I rank the documents. Finally, if the word is less than 5
> characters, I run it through a wordlist.
>
> The results are <emphasis>acceptable</emphasis>. The difficulty is that
when
> faced with large documents (>5MB), you end up with alot of nonsense terms,
> actually exceeding Lucene's inbuilt limit of 10000 terms (to limit memory
> usage). The result is that these documents are not indexed completely.
>
> I'd be interested to see how you filter your documents...:)
>
> ----- Original Message -----
> From: Cecil, Paula New <cnew@fuse.net>
> To: Lucene Users List <lucene-user@jakarta.apache.org>; Kelvin Tan
> <kelvin@relevanz.com>
> Sent: Saturday, November 24, 2001 12:36 AM
> Subject: Re: PDF parser for Lucene
>
>
> > Inspired by the Unix "strings" command, I have written a subclass of
> > FilterReader; which I have called BinaryReader.  The idea is simply to
> index
> > any proprietary file format by filtering out all non-printable
characters.
> > The assumption is that text is text.  It will end up with more than the
> > "visible" text, but not less.  After I have tested and made some
examples
> I
> > will post it here.
> >
> >
> >
> > ----- Original Message -----
> > From: Kelvin Tan <kelvin@relevanz.com>
> > To: Lucene Users List <lucene-user@jakarta.apache.org>
> > Sent: Friday, November 23, 2001 2:48 AM
> > Subject: Re: PDF parser for Lucene
> >
> >
> > > I'm not too familiar with websearch's PDF parsing.
> > >
> > > I use a nice API Etymon Pj http://www.etymon.com/pj/
> > >
> > > It doesn't come with the ability to extract text, but it can be coded.
> > I'll
> > > leave you to do it because it's kinda fun, but I could provide it if
> > anyone
> > > wants it.
> > >
> > > I've also implemented it so that the searches can be performed on a
> > > page-by-page basis. That's pretty cool, i think.
> > >
> > > ----- Original Message -----
> > > From: <sampreet@interactive1.com>
> > > To: <lucene-user@jakarta.apache.org>
> > > Cc: <bkopic@interactive1.hr>
> > > Sent: Friday, November 23, 2001 4:39 PM
> > > Subject: RE: PDF parser for Lucene
> > >
> > >
> > > > Hello,
> > > >
> > > > We have been using PDFHandler - a pdf parser provided by websearch,
to
> > > > search in pdf files. We are trying to get the contents using
> > > > pdfHandler.getContents() to arrive at a context-sensitive summary.
> > > However,
> > > > it gives some yen signs and other special symbols in the title,
> summary
> > > and
> > > > contents. If anyone is using the websearch component to parse pdf
> files
> > > and
> > > > have encountered this problem, kindly give your suggestions.
> > > >
> > > > Note - Most of the pdf files are using WinAnsiEncoding, and setting
> the
> > > > encoding as Win-12xx doesn't help.
> > > >
> > > > Thanks in advance,
> > > >
> > > > Sampreet
> > > > Programmer
> > > >
> > > >
> > > > You could try this one:
> > > > http://www.i2a.com/websearch/
> > > >
> > > > ...and then tell me how it works for you.
> > > > =:o)
> > > >
> > > >
> > > > Anyway, it is simple and Open Source.
> > > >
> > > >
> > > > Have fun,
> > > > Paulo Gaspar
> > > >
> > > >
> > > > --
> > > > To unsubscribe, e-mail:
> > > <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> > > > For additional commands, e-mail:
> > > <mailto:lucene-user-help@jakarta.apache.org>
> > > >
> > > >
> > >
> > >
> > > --
> > > To unsubscribe, e-mail:
> > <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> > > For additional commands, e-mail:
> > <mailto:lucene-user-help@jakarta.apache.org>
> > >
> >
> >
> >
> > --
> > To unsubscribe, e-mail:
> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> > For additional commands, e-mail:
> <mailto:lucene-user-help@jakarta.apache.org>
> >
> >
>
>
> --
> To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>
>
>



--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-421-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Sun Nov 25 10:52:24 2001
Return-Path: <lucene-user-return-421-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 95386 invoked from network); 25 Nov 2001 10:52:24 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 25 Nov 2001 10:52:24 -0000
Received: (qmail 15342 invoked by uid 97); 25 Nov 2001 10:52:37 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 15296 invoked by uid 97); 25 Nov 2001 10:52:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 15285 invoked from network); 25 Nov 2001 10:52:35 -0000
Mime-Version: 1.0
X-Sender: ykingma@pop.xs4all.nl (Unverified)
Message-Id: <a05010400b822f9ae0153@[194.109.165.52]>
In-Reply-To: <C12608E688A3D411963F000102A7A60B0DD80A@srvitera.iteratec.de>
References: <C12608E688A3D411963F000102A7A60B0DD80A@srvitera.iteratec.de>
Date: Thu, 22 Nov 2001 20:04:11 +0100
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
From: Ype Kingma <ykingma@xs4all.nl>
Subject: Re: Determine the line number of a match
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

J=FCrgen,

>Hi there,
>
>I just started playing around with lucene and I was wondering if there
>is a simple method to determine the line number of a match within a =3D
>file.
>The documentation did not give me any hints on that...

You can use organize your index so that it stores a line as
a field of a Document. Then you only need to add a line number field
to each Document when you create the database.
In case you need to store multiple files you can also store the
file name in another field of the Document.

>Cheers,

Kampai,
Ype

P.S. On unix the grep program can give you the line number of the
match of a regular expression in a file.



--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-422-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Sun Nov 25 19:27:14 2001
Return-Path: <lucene-user-return-422-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 509 invoked from network); 25 Nov 2001 19:27:14 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 25 Nov 2001 19:27:14 -0000
Received: (qmail 6722 invoked by uid 97); 25 Nov 2001 19:27:17 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 6706 invoked by uid 97); 25 Nov 2001 19:27:16 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6695 invoked from network); 25 Nov 2001 19:27:16 -0000
Subject: Re: lucene in applet
In-Reply-To: <903A7281CDB7D4118A5000500450BB0801EFE0@samoa.sitewaerts>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Date: Sun, 25 Nov 2001 14:26:36 -0500 (EST)
X-Mailer: ELM [version 2.4ME+ PL94 (25)]
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset=US-ASCII
Message-Id: <20011125192636.E1CFF3C1B1@darksleep.com>
From: puffmail@darksleep.com (Steven J. Owens)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Christopher,

> I?m working on a site-grabber to wich I would like to add offline search
> funktionality. I experimented with lucene, and it covers all my needs. I?m
> planning to realize the search functionality with an applet.
> 
> Problem: I cannot access the index created with lucene from my applet. The
> only way to access resources on a remote host (wich could be the file-system
> as well) is with a stream. 

     This sounds about right.  It's a question of the applet sandbox,
not of lucene itself.

     I've done a little applet work in the past; my general advice is
that a "site-grabber with offline search functionality" is not
compatible with the constraints an applet must run under.
Specifically applets have no access to the local file system, and
applets may only open network connections back to the server they were
downloaded from.

     I strongly suggest you ditch the applet aspect entirely, and
maybe look into sun's Java Web Start, which attempts to give you a
good combination of the features of an applet and an application.
 
> //Something like this
> URL source = new URL(getCodeBase(), "path_to_index");
> BufferedReader in = new BufferedReader(new
> InputStreamReader(source.openStream()));
> ...
> 
> >From what I tested lucene I found that the only possibilities to access an
> existing index is directly with a 'org.apache.lucene.store.Directory' or a
> 'java.io.File' or a 'java.lang.String' containing the path to the index.

     What you say in this sentence could be rewritten more correctly
as, "it is only possible to access an existing index stored on a disk
by using one of three classes that access the disk."  Do you see the
tautology there?

> It seems to me that maybe lucene should add this possibility to access an
> index?

     You do bring up one interesting possibility, which is that
perhaps Lucene should have some option to retrieve an index file from
a URL.  I'm not sure how wise this would be - if you're retrieving the
index file from a URL, why not just run the search at that URL? - but
it's something to consider.  You should think carefully about what
your goal is, and whether such an approach would help, and do a little
experimentation with the lucene code - after all, you have the source,
so you can create a new class to load an index from some remote
location.  If you have good results, maybe post the code here.

Steven J. Owens
puff@darksleep.com


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-423-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Sun Nov 25 20:13:20 2001
Return-Path: <lucene-user-return-423-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 9517 invoked from network); 25 Nov 2001 20:13:20 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 25 Nov 2001 20:13:20 -0000
Received: (qmail 14326 invoked by uid 97); 25 Nov 2001 20:13:21 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 14277 invoked by uid 97); 25 Nov 2001 20:13:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 14266 invoked from network); 25 Nov 2001 20:13:20 -0000
Message-ID: <03ca01c175ed$94d43a40$6501a8c0@PROVIDENCE>
From: "Jeff Trent" <jtrent@structsoft.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <42257.202.140.147.60.1006504751.squirrel@mail.interactive1.com> <008f01c1740c$6f5d4e60$0b01a8c0@168.1.8.Domainrelevanz> <002201c1743d$122f4780$aa59c00a@cnew> <004901c1747e$6cf85580$0b01a8c0@168.1.8.Domainrelevanz> <003d01c17539$e11c52c0$aa59c00a@cnew>
Subject: Re: PDF parser for Lucene
Date: Sun, 25 Nov 2001 15:12:59 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2462.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2462.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

A Strings-like interpretation will bound to fail on PDFs since often times
PDF files have positioning information between every darn letter of a word.
The developers of PDF were apparently striving for ultimate flexibility for
formatting and positioning but performance (and larger files sizes) are the
obvious down side.


----- Original Message -----
From: "Cecil, Paula New" <cnew@fuse.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Saturday, November 24, 2001 5:46 PM
Subject: Re: PDF parser for Lucene


> It had occurred to me also that a useful enhancement might be to filter
out
> nonsense tokens.
>
> Certainly you are way ahead of me on this.  You're welcome to put your
logic
> in the class (or send it to me and I will take a stab).  My "BinaryReader"
> also squeezes out sequences of whitespace, but will replace a binary
> character with a whitespace under certain conditions.
>
> I found a lot of single letters in the MS Office files.  Which I think the
> analyzer will get rid of (???  I'm still pretty new to Lucene).
>
> At any rate here is my BinaryReader.  Improvements welcomed!
> /* usage example
>       FileReader fr = new FileReader(args[0]);
>       BufferedReader br = new BufferedReader(fr);
>       BinaryReader binr = new BinaryReader(br);
>       org.apache.lucene.document.Document doc =
>         new org.apache.lucene.document.Document();
>       doc.add(Field.UnIndexed("filename", args[0]));
>       doc.add(Field.Text("body",binr));
>       writer.addDocument(doc);
> */
>
> import java.util.*;
> import java.io.*;
>
> public class BinaryReader
>   extends java.io.FilterReader
> {
>   // private vars
>   private char prevchar = '\r';
>   private char thischar;
>
>   public BinaryReader(Reader in) {
>     super(in);
>   }
>
>   public int read()
>     throws IOException
>   {
>
>     int c = in.read();
>     if ( c != -1 ) {
>       if ( bintest((char)c) ) {
>         return thischar;
>       }
>     }
>     return c;
>   }
>
>   private boolean bintest(char c) {
>     if ( (c >= '!') && (c <= 'z') ) {
>       thischar = c;
>       prevchar = c;
>       return true;
>     } else if ( (c == '\n') ||
>                 (c == '\t') ||
>                 (c == '\r') )
>     {
>       thischar = c;
>       prevchar = ' ';
>       return true;
>     } else if ( prevchar != ' ' ) {
>       thischar = ' ';
>       prevchar = ' ';
>       return true;
>     }
>     return false;
>   }
>
>   public int read(char[] cbuf)
>     throws IOException
>   {
>     return read(cbuf, 0, cbuf.length);
>   }
>
>   public int read(char[] cbuf, int off, int len)
>     throws IOException
>   {
>     char[] cb = new char[len];
>     int cnt = in.read(cb);
>
>     if ( cnt == -1 ) return cnt; // done
>     int num = 0;
>     int loc = off;
>     for ( int i=0; i < cnt; i++ ) {
>       if ( bintest(cb[i]) ) {
>         cbuf[loc++] = thischar;
>         num++;
>       }
>     }
>     return num;
>   }
> }
>
> ----- Original Message -----
> From: Kelvin Tan <kelvin@relevanz.com>
> To: Lucene Users List <lucene-user@jakarta.apache.org>
> Sent: Friday, November 23, 2001 4:24 PM
> Subject: Re: PDF parser for Lucene
>
>
> > That's pretty interesting because I've done something similar, but I
> > (vainly) try to build some intelligence into it.
> >
> > First I run the text through a regex which filters out most of the words
> > which contain nonsense characters (^A-Za-z0-9_@).
> >
> > Then I run it through a couple of tests, which try to guess if this is
an
> > English word, like testing for 3 consonants in a row, and if there are 2
> > numbers which are not next to each other (can you think of any?!?!).
Based
> > on these, I rank the documents. Finally, if the word is less than 5
> > characters, I run it through a wordlist.
> >
> > The results are <emphasis>acceptable</emphasis>. The difficulty is that
> when
> > faced with large documents (>5MB), you end up with alot of nonsense term
s,
> > actually exceeding Lucene's inbuilt limit of 10000 terms (to limit
memory
> > usage). The result is that these documents are not indexed completely.
> >
> > I'd be interested to see how you filter your documents...:)
> >
> > ----- Original Message -----
> > From: Cecil, Paula New <cnew@fuse.net>
> > To: Lucene Users List <lucene-user@jakarta.apache.org>; Kelvin Tan
> > <kelvin@relevanz.com>
> > Sent: Saturday, November 24, 2001 12:36 AM
> > Subject: Re: PDF parser for Lucene
> >
> >
> > > Inspired by the Unix "strings" command, I have written a subclass of
> > > FilterReader; which I have called BinaryReader.  The idea is simply to
> > index
> > > any proprietary file format by filtering out all non-printable
> characters.
> > > The assumption is that text is text.  It will end up with more than
the
> > > "visible" text, but not less.  After I have tested and made some
> examples
> > I
> > > will post it here.
> > >
> > >
> > >
> > > ----- Original Message -----
> > > From: Kelvin Tan <kelvin@relevanz.com>
> > > To: Lucene Users List <lucene-user@jakarta.apache.org>
> > > Sent: Friday, November 23, 2001 2:48 AM
> > > Subject: Re: PDF parser for Lucene
> > >
> > >
> > > > I'm not too familiar with websearch's PDF parsing.
> > > >
> > > > I use a nice API Etymon Pj http://www.etymon.com/pj/
> > > >
> > > > It doesn't come with the ability to extract text, but it can be
coded.
> > > I'll
> > > > leave you to do it because it's kinda fun, but I could provide it if
> > > anyone
> > > > wants it.
> > > >
> > > > I've also implemented it so that the searches can be performed on a
> > > > page-by-page basis. That's pretty cool, i think.
> > > >
> > > > ----- Original Message -----
> > > > From: <sampreet@interactive1.com>
> > > > To: <lucene-user@jakarta.apache.org>
> > > > Cc: <bkopic@interactive1.hr>
> > > > Sent: Friday, November 23, 2001 4:39 PM
> > > > Subject: RE: PDF parser for Lucene
> > > >
> > > >
> > > > > Hello,
> > > > >
> > > > > We have been using PDFHandler - a pdf parser provided by
websearch,
> to
> > > > > search in pdf files. We are trying to get the contents using
> > > > > pdfHandler.getContents() to arrive at a context-sensitive summary.
> > > > However,
> > > > > it gives some yen signs and other special symbols in the title,
> > summary
> > > > and
> > > > > contents. If anyone is using the websearch component to parse pdf
> > files
> > > > and
> > > > > have encountered this problem, kindly give your suggestions.
> > > > >
> > > > > Note - Most of the pdf files are using WinAnsiEncoding, and
setting
> > the
> > > > > encoding as Win-12xx doesn't help.
> > > > >
> > > > > Thanks in advance,
> > > > >
> > > > > Sampreet
> > > > > Programmer
> > > > >
> > > > >
> > > > > You could try this one:
> > > > > http://www.i2a.com/websearch/
> > > > >
> > > > > ...and then tell me how it works for you.
> > > > > =:o)
> > > > >
> > > > >
> > > > > Anyway, it is simple and Open Source.
> > > > >
> > > > >
> > > > > Have fun,
> > > > > Paulo Gaspar
> > > > >
> > > > >
> > > > > --
> > > > > To unsubscribe, e-mail:
> > > > <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> > > > > For additional commands, e-mail:
> > > > <mailto:lucene-user-help@jakarta.apache.org>
> > > > >
> > > > >
> > > >
> > > >
> > > > --
> > > > To unsubscribe, e-mail:
> > > <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> > > > For additional commands, e-mail:
> > > <mailto:lucene-user-help@jakarta.apache.org>
> > > >
> > >
> > >
> > >
> > > --
> > > To unsubscribe, e-mail:
> > <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> > > For additional commands, e-mail:
> > <mailto:lucene-user-help@jakarta.apache.org>
> > >
> > >
> >
> >
> > --
> > To unsubscribe, e-mail:
> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> > For additional commands, e-mail:
> <mailto:lucene-user-help@jakarta.apache.org>
> >
> >
>
>
>
> --
> To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>
>
>


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-424-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Nov 26 09:10:09 2001
Return-Path: <lucene-user-return-424-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 59114 invoked from network); 26 Nov 2001 09:10:08 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 26 Nov 2001 09:10:08 -0000
Received: (qmail 11664 invoked by uid 97); 26 Nov 2001 09:10:18 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 11618 invoked by uid 97); 26 Nov 2001 09:10:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11593 invoked from network); 26 Nov 2001 09:10:16 -0000
Date: Mon, 26 Nov 2001 10:08:41 +0100 (CET)
Message-Id: <200111260908.KAA36280@malibu.lanlab.de>
To: lucene-user@jakarta.apache.org
Subject: the list of terms contained in a document
From: Chantal Ackermann <chantal.ackermann@stud.uni-muenchen.de>
Cc: 
MIME-version: 1.0
Content-transfer-encoding: 8BIT
X-Mailer: PHP 4_0_5 over Sendmail Version 8_9_3 - Campus
Content-type: text/plain; charset=ISO-8859-1
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


dear all,

we have a linguistics project running here and we
want to use lucene for the 
information retrieval. rather then just searching
for specific terms we want 
to build frequency lists and detect coocurrences
of terms.

what we need is some kind of the following
functionality (I will give what I 
think could be a resulting API)

1. IndexSearcher.search(query) (already implemented)
2. Hits.getLength() (already implemented)
3. for (...) Hits.doc(i).getTerms() or
Hits.doc(i).getTerms(Field) (required)
(4. and for each returned doc its frequency, but
that is the same as above - 
or could it be retrieved together with the term list?)

This means, that if I get a Hits object back, I
want for all its documents to 
get the terms and their frequency. sure, I could
look the document up and 
parse it - again. but then if the first query
produces, say 20.000 hits, I 
would have to reparse these 20.000 documents while
this parsing has already 
been done for the index creation. instead I wanted
to ask if there is a 
possibility within the existing classes (or at
least with some use of them 
and some new ones) to retrieve this information:
to wich terms a single 
document is assigned to.

thanx a lot for any help or hint
sincerely,
Chantal

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-425-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Nov 26 12:08:06 2001
Return-Path: <lucene-user-return-425-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 53406 invoked from network); 26 Nov 2001 12:08:05 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 26 Nov 2001 12:08:05 -0000
Received: (qmail 1726 invoked by uid 97); 26 Nov 2001 12:08:03 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 1710 invoked by uid 97); 26 Nov 2001 12:08:02 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1698 invoked from network); 26 Nov 2001 12:08:02 -0000
Message-ID: <903A7281CDB7D4118A5000500450BB0801EFE7@samoa.sitewaerts>
From: Christoph Breidert <breidert@sitewaerts.de>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: AW: lucene in applet
Date: Mon, 26 Nov 2001 13:09:28 +0100
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi Steven,

thanks for your reply.

Here is my szenario:
1) I want to grab a the website "xy.com" to the local disc at C:\xy
2) While exporting I want to index the content to C:\xy\index
3) I put applet.class at C:\xy\index

If I open that applet from the (file) location C:\xy\index it can =
access any
file in that=20
directory with a method like this one. This method reads the content of
sFile.

private String read(String sFileName)
{
    StringBuffer sb =3D new StringBuffer();
    try
    {
      URL source =3D new URL(getCodeBase(), sFileName);
      BufferedReader in =3D new BufferedReader(new
InputStreamReader(source.openStream()));
      while(true)
      {
        String s =3D in.readLine();
        if(s=3D=3Dnull)
          break;
        sb.append(s);
      }
      in.close();
    }
    catch(Exception e)
    {
	//errorhandling
    }
    return sb.toString();
}

It seems to me that the security-constraints of the sandbox do not =
prevent
me from using an applet=20
to open any file in the directory C:\xy\index. With this framework I =
can
nicely create an applet to
search an exported site.

It would be nice if lucene had the functionality to open content from =
an
URL.=20

Like in this little method above, there should not be any problem =
reading
the index files from the=20
URL and perfom a search with the content of these files?

>if you're retrieving the
>index file from a URL, why not just run the search at that URL?

I cannot run a JVM at C:\xy\index. For this I want to use the browser. =
This
gives me the possibility to
entirely grab a site and burn it on a CD maybe, and the index will =
still
work.

Yours,
Christoph Breidert

breidert@sitewaerts.de

-----Urspr=FCngliche Nachricht-----
Von: puffmail@darksleep.com [mailto:puffmail@darksleep.com]
Gesendet: Sonntag, 25. November 2001 20:27
An: Lucene Users List
Betreff: Re: lucene in applet


Christopher,

> I?m working on a site-grabber to wich I would like to add offline =
search
> funktionality. I experimented with lucene, and it covers all my =
needs. I?m
> planning to realize the search functionality with an applet.
>=20
> Problem: I cannot access the index created with lucene from my =
applet. The
> only way to access resources on a remote host (wich could be the
file-system
> as well) is with a stream.=20

     This sounds about right.  It's a question of the applet sandbox,
not of lucene itself.

     I've done a little applet work in the past; my general advice is
that a "site-grabber with offline search functionality" is not
compatible with the constraints an applet must run under.
Specifically applets have no access to the local file system, and
applets may only open network connections back to the server they were
downloaded from.

     I strongly suggest you ditch the applet aspect entirely, and
maybe look into sun's Java Web Start, which attempts to give you a
good combination of the features of an applet and an application.
=20
> //Something like this
> URL source =3D new URL(getCodeBase(), "path_to_index");
> BufferedReader in =3D new BufferedReader(new
> InputStreamReader(source.openStream()));
> ...
>=20
> >From what I tested lucene I found that the only possibilities to =
access
an
> existing index is directly with a 'org.apache.lucene.store.Directory' =
or a
> 'java.io.File' or a 'java.lang.String' containing the path to the =
index.

     What you say in this sentence could be rewritten more correctly
as, "it is only possible to access an existing index stored on a disk
by using one of three classes that access the disk."  Do you see the
tautology there?

> It seems to me that maybe lucene should add this possibility to =
access an
> index?

     You do bring up one interesting possibility, which is that
perhaps Lucene should have some option to retrieve an index file from
a URL.  I'm not sure how wise this would be - if you're retrieving the
index file from a URL, why not just run the search at that URL? - but
it's something to consider.  You should think carefully about what
your goal is, and whether such an approach would help, and do a little
experimentation with the lucene code - after all, you have the source,
so you can create a new class to load an index from some remote
location.  If you have good results, maybe post the code here.

Steven J. Owens
puff@darksleep.com


--
To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>

<<<<<<<<<<<<<<<<<<<<<<<<<<<
sitewaerts GmbH
Hebelstra=DFe 15
D-76133 Karlsruhe

Tel: +49 (721) 920 918 0
Fax: +49 (721) 920 918 29
http://www.sitewaerts.de
>>>>>>>>>>>>>>>>>>>>>>>>>>>



--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-426-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Nov 26 15:56:35 2001
Return-Path: <lucene-user-return-426-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 7948 invoked from network); 26 Nov 2001 15:56:35 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 26 Nov 2001 15:56:35 -0000
Received: (qmail 1947 invoked by uid 97); 26 Nov 2001 15:56:36 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 1910 invoked by uid 97); 26 Nov 2001 15:56:35 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1899 invoked from network); 26 Nov 2001 15:56:34 -0000
Message-ID: <86F21E9558CE6F429B2D0AEB9820F1B82F2FA0@S1001EXM01.macromedia.com>
From: Paul Friedman <pfriedman@macromedia.com>
To: "'lucene-user@jakarta.apache.org'" <lucene-user@jakarta.apache.org>
Subject: What punctuation is "legal" in a query?
Date: Mon, 26 Nov 2001 10:56:25 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: multipart/mixed;
	boundary="----_=_NextPart_000_01C17692.EBDE40D0"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------_=_NextPart_000_01C17692.EBDE40D0
Content-Type: text/plain;
	charset="iso-8859-1"

I have posted several questions/examples regarding QueryParser throwing exceptions when the query string contains various punctuation characters.  I have been downloading the nightly builds hoping that my problems would be solved, unfortunately, only some of the problems I have reported have been addressed via fixes to the code or responses to my posting.  

I understand that some punctuation is reserved, '*' for prefix query and '[' ']' for range query.

1.  Is any other punctuation reserved?  Is this documented anywhere?

2.  Shouldn't any "non-reserved" punctuation be legal query syntax (i.e. it shouldn't cause a parse error)?

    Example: 

        A document contains a field whose value is a relative directory path: "cooldocs/myfavoritetopics"
        
        Parsing the following query causes a parse error: "relativepath:cooldocs/myfavoritetopics"

Some other punctuation seems to work fine (i.e. '.' and '_'), that's why I'm confused as to which punctuation should or shouldn't work.

I have attached a test case that causes the error.  I am using StandardAnalyzer and the Nov. 24 nightly build.

Sorry to be so persistent about this, but query syntax containing punctuation (especially '.', '_', '/') is extremely critical to the product I am working on.

Thanks.
Paul Friedman  


------_=_NextPart_000_01C17692.EBDE40D0
Content-Type: application/octet-stream;
	name="ParseTest.java"
Content-Disposition: attachment;
	filename="ParseTest.java"

import org.apache.lucene.queryParser.*; 
import org.apache.lucene.search.*; 
import org.apache.lucene.index.*; 
import org.apache.lucene.analysis.*; 
import org.apache.lucene.analysis.standard.*;
import org.apache.lucene.document.*;
import java.io.*;

public class ParseTest { 

    public static void main(String args[]) throws Exception {
        init();

    	Analyzer analyzer = new StandardAnalyzer(); 
    	IndexReader reader = IndexReader.open("index");
    	Searcher searcher = new IndexSearcher(reader);
    	query("children.name:John", analyzer);
    	query("text:one.two", analyzer);
    	query("one.two", analyzer);
    	query("Look for me.", analyzer);
    	query("children_name:John", analyzer);
    	query("text:one_two", analyzer);
    	query("text:one/two", analyzer);
    }

    public static void query(String qStr, Analyzer analyzer) {
        try {
            Query query = QueryParser.parse(qStr, "text", analyzer);
        }
        catch (Throwable th) {
            System.out.println("Query string: " + qStr);
            th.printStackTrace(System.out);
            System.out.println();
        }
    }

    private static void init() throws Exception {
        // create a new, empty index
        IndexWriter fsWriter = new IndexWriter(new File("index"), new StandardAnalyzer(), true);
        fsWriter.close();
    }
}



------_=_NextPart_000_01C17692.EBDE40D0
Content-Type: text/plain; charset=us-ascii

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>
------_=_NextPart_000_01C17692.EBDE40D0--

From lucene-user-return-427-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Nov 26 16:09:57 2001
Return-Path: <lucene-user-return-427-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 19902 invoked from network); 26 Nov 2001 16:09:57 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 26 Nov 2001 16:09:57 -0000
Received: (qmail 21650 invoked by uid 97); 26 Nov 2001 16:08:57 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 21518 invoked by uid 97); 26 Nov 2001 16:08:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 21465 invoked from network); 26 Nov 2001 16:08:55 -0000
Date: Mon, 26 Nov 2001 17:07:19 +0100 (CET)
Message-Id: <200111261607.RAA39320@malibu.lanlab.de>
To: lucene-user@jakarta.apache.org
Subject: the list of terms contained in a document
From: Chantal Ackermann <chantal.ackermann@stud.uni-muenchen.de>
Cc: 
MIME-version: 1.0
Content-transfer-encoding: 8BIT
X-Mailer: PHP 4_0_5 over Sendmail Version 8_9_3 - Campus
Content-type: text/plain; charset=ISO-8859-1
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


dear all,

we have a linguistics project running here and we
want to use lucene for the 
information retrieval. rather then just searching
for specific terms we want 
to build frequency lists and detect coocurrences
of terms.

what we need is some kind of the following
functionality (I will give what I 
think could be a resulting API)

1. IndexSearcher.search(query) (already implemented)
2. Hits.getLength() (already implemented)
3. for (...) Hits.doc(i).getTerms() or
Hits.doc(i).getTerms(Field) (required)
(4. and for each returned doc its frequency, but
that is the same as above - 
or could it be retrieved together with the term list?)

This means, that if I get a Hits object back, I
want for all its documents to 
get the terms and their frequency. sure, I could
look the document up and 
parse it - again. but then if the first query
produces, say 20.000 hits, I 
would have to reparse these 20.000 documents while
this parsing has already 
been done for the index creation. instead I wanted
to ask if there is a 
possibility within the existing classes (or at
least with some use of them 
and some new ones) to retrieve this information:
to wich terms a single 
document is assigned to.

thanx a lot for any help or hint
sincerely,
Chantal


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-428-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Nov 26 19:05:47 2001
Return-Path: <lucene-user-return-428-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 33929 invoked from network); 26 Nov 2001 19:05:47 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 26 Nov 2001 19:05:47 -0000
Received: (qmail 9675 invoked by uid 97); 26 Nov 2001 19:05:37 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 9615 invoked by uid 97); 26 Nov 2001 19:05:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 9574 invoked from network); 26 Nov 2001 19:05:36 -0000
Subject: Re: AW: lucene in applet
In-Reply-To: <903A7281CDB7D4118A5000500450BB0801EFE7@samoa.sitewaerts>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Date: Mon, 26 Nov 2001 14:05:09 -0500 (EST)
X-Mailer: ELM [version 2.4ME+ PL94 (25)]
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset=US-ASCII
Message-Id: <20011126190509.7161D3C1B2@darksleep.com>
From: puffmail@darksleep.com (Steven J. Owens)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Christopher,

> Here is my szenario:
> 1) I want to grab a the website "xy.com" to the local disc at C:\xy
> 2) While exporting I want to index the content to C:\xy\index
> 3) I put applet.class at C:\xy\index
> 
> If I open that applet from the (file) location C:\xy\index it can
> access any file in that directory with a method like this one. This
> method reads the content of sFile.
> 
> It seems to me that the security-constraints of the sandbox do not
> prevent me from using an applet to open any file in the directory
> C:\xy\index. With this framework I can nicely create an applet to
> search an exported site.
>
> >if you're retrieving the
> >index file from a URL, why not just run the search at that URL?
 
> I cannot run a JVM at C:\xy\index. For this I want to use the
> browser. This gives me the possibility to entirely grab a site and
> burn it on a CD maybe, and the index will still work.

     Have you tested that with an applet and a non-lucene file?  It
looks a little weird to me, but, I've never tried to run an applet
locally and access the local disk, so I don't know.

     Regardless, this part of the discussion is in the area of applet
stuff, not lucene stuff, so it's inappropriate for this mailing list.
 
> It would be nice if lucene had the functionality to open content
> from an URL.

     Based on 2) above, you're saving the index to the local
directory, so why not just load it from the local directory?

> Like in this little method above, there should not be any problem
> reading the index files from the URL and perfom a search with the
> content of these files?
 
     As I said last message, it shouldn't be difficult to modify your
lucene source to load from a URL.  Then you could post your changes
here, and Doug might decide to incorporate them into lucene in
general.  I'm still not really sure why you want to do it that way,
but give it a try.

Steven J. Owens
puff@darksleep.com

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-429-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Nov 26 20:36:56 2001
Return-Path: <lucene-user-return-429-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 81576 invoked from network); 26 Nov 2001 20:36:55 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 26 Nov 2001 20:36:55 -0000
Received: (qmail 8375 invoked by uid 97); 26 Nov 2001 20:36:58 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 8331 invoked by uid 97); 26 Nov 2001 20:36:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 8318 invoked from network); 26 Nov 2001 20:36:56 -0000
Message-ID: <001a01c176ba$55fb4610$1573a8c0@marc>
From: "Marc Kramis" <mkramis@student.ethz.ch>
To: <lucene-user@jakarta.apache.org>
Subject: SqlDirectory
Date: Mon, 26 Nov 2001 21:38:41 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-OriginalArrivalTime: 26 Nov 2001 20:36:56.0074 (UTC) FILETIME=[16BFAEA0:01C176BA]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

hi all

some time ago, there was a short discussion about a database store. I also
needed some persistence layer that was accessible via JDBC. It turned out,
that a BLOB implementation is strongly dependent on the RDBMS used and also
poorly performing.

I implemented a SqlDirectory, based on the idea of RAMDirectory and its
buffers as basic element.
goals:
1. should work with all JDBC compliant RDBMS (no adaption required, no
blobs!).
2. performance should be acceptable.
3. simple db schema.

status:
1. tested on Oracle 8i (free oracle JDBC driver type 4) and SQL Server 2000
(free microsoft JDBC beta driver type 4). works perfectly.
2. consists of 2 tables and 1 index. (one tablespace can have several
indexes of course)
3. promising performance.

todo:
1. test reliability, performance, concurrency (multiple reader/writer), test
with mySQL
2. code review
3. introduce caching (maybe CacheDirectory)

if someone has experience or just likes to test it, mail me. Anyway, could I
simply attach the SqlDirectory.java file to my mails?

marc



--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-430-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Nov 26 21:59:17 2001
Return-Path: <lucene-user-return-430-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 19376 invoked from network); 26 Nov 2001 21:59:17 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 26 Nov 2001 21:59:17 -0000
Received: (qmail 3603 invoked by uid 97); 26 Nov 2001 21:59:20 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 3587 invoked by uid 97); 26 Nov 2001 21:59:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3576 invoked from network); 26 Nov 2001 21:59:19 -0000
Message-ID: <E88CD2F0B652D31197680090279895550BDB6B71@ev002msxaege.ae.ge.com>
From: "New, Cecil (GEAE)" <cecil.new@ae.ge.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: Attribute Search
Date: Mon, 26 Nov 2001 17:04:07 -0500
X-Mailer: Internet Mail Service (5.5.2653.19)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

this is exactly what I was doing.  Store=false, index=true, and token=false.

This combination is *not* represented by one of the factory methods.  It
appeared to work ok, but searches *never* returned any hits.

That's why I suspect it is a bug.

-----Original Message-----
From: Ype Kingma [mailto:ykingma@xs4all.nl]
Sent: Wednesday, November 21, 2001 2:51 PM
To: Lucene Users List
Subject: Re: Attribute Search


Paula,

>I came across a tutorial which had some details on the static factory Field
>methods.  But none of the factory methods return a Field object with the
>following settings:
>Store => false
>Index => true
>Tokenize => false
>
>I'm beginning to think this is a bug - that this combination is handled
>correctly.

The Field() constructor is public, can't you use that instead of one
of the factory methods?

public Field(String name,
             String string,
             boolean store,
             boolean index,
             boolean token)

Regards,
Ype

--
To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-431-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Mon Nov 26 22:55:09 2001
Return-Path: <lucene-user-return-431-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 44157 invoked from network); 26 Nov 2001 22:55:09 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 26 Nov 2001 22:55:09 -0000
Received: (qmail 10402 invoked by uid 97); 26 Nov 2001 22:55:15 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 10374 invoked by uid 97); 26 Nov 2001 22:55:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 10345 invoked from network); 26 Nov 2001 22:55:10 -0000
Message-ID: <4BC270C6AB8AD411AD0B00B0D0493DF0EE7D27@mail.grandcentral.com>
From: Doug Cutting <DCutting@grandcentral.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Attribute Search
Date: Mon, 26 Nov 2001 14:42:39 -0800
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> From: New, Cecil (GEAE) [mailto:cecil.new@ae.ge.com]
> 
> this is exactly what I was doing.  Store=false, index=true, 
> and token=false.
> 
> It appeared to work ok, but searches *never* returned any hits.
> 
> That's why I suspect it is a bug.

If you think this is a bug, please submit a test case, as a simple class
whose 'main()' method illustrates the problem.

Doug

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-432-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Nov 27 09:15:39 2001
Return-Path: <lucene-user-return-432-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 85749 invoked from network); 27 Nov 2001 09:15:39 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 27 Nov 2001 09:15:39 -0000
Received: (qmail 20142 invoked by uid 97); 27 Nov 2001 09:15:51 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 20126 invoked by uid 97); 27 Nov 2001 09:15:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20115 invoked from network); 27 Nov 2001 09:15:50 -0000
Reply-To: <karl@gan.no>
From: =?iso-8859-1?Q?Karl_=D8ie?= <karl@gan.no>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: scandinavian characters.
Date: Tue, 27 Nov 2001 10:16:10 +0100
Message-ID: <MIEMIGIOHNPEKDBMNDPCKEEFCAAA.karl@gan.no>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4522.1200
In-Reply-To: <4BC270C6AB8AD411AD0B00B0D0493DF0EE7D27@mail.grandcentral.com>
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi, i got a problem with scandinavian characters (), when i insert text
with scand-chars it passes the analyzer correctly, but the QueryParser
chokes when i try to search for the same characters.

anyone know anything about how i can fix this?

karl ie/gan meida


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-433-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Nov 27 09:39:55 2001
Return-Path: <lucene-user-return-433-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 94534 invoked from network); 27 Nov 2001 09:39:55 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 27 Nov 2001 09:39:55 -0000
Received: (qmail 405 invoked by uid 97); 27 Nov 2001 09:40:06 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 389 invoked by uid 97); 27 Nov 2001 09:40:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 378 invoked from network); 27 Nov 2001 09:40:05 -0000
X-Authentication-Warning: bitbang.com: Host p107.bit-bang.com [192.168.0.107] claimed to be Zurich
Message-ID: <000f01c17727$f0f989c0$6b00a8c0@Zurich>
Reply-To: "David Bonilla" <david@bit-bang.com>
From: "David Bonilla" <david@bit-bang.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>, <karl@gan.no>
References: <MIEMIGIOHNPEKDBMNDPCKEEFCAAA.karl@gan.no>
Subject: Re: scandinavian characters.
Date: Tue, 27 Nov 2001 10:43:14 +0100
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_000C_01C17730.50E8BC90"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.00.2919.6700
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2919.6700
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_000C_01C17730.50E8BC90
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi Karl !!!

I=B4m spanish and I have a lot of problems programming with our not =
english characters. I use LUCENE with spanish accents and it works =
fine...

Have you tried to use the java.net.URLEncoder and java.net.URLDecoder =
with your fields to index ?

Best Regards from Spain !=20
__________________________
David Bonilla Fuertes
THE BIT BANG NETWORK
http://www.bit-bang.com
Profesor Waksman, 8, 6=BA B
28036 Madrid
SPAIN
Tel.: (+34) 914 577 747
M=F3vil: 656 62 83 92
Fax: (+34) 914 586 176
__________________________
=20
=20

------=_NextPart_000_000C_01C17730.50E8BC90--


From lucene-user-return-434-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Nov 27 10:10:40 2001
Return-Path: <lucene-user-return-434-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 8539 invoked from network); 27 Nov 2001 10:10:40 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 27 Nov 2001 10:10:40 -0000
Received: (qmail 18370 invoked by uid 97); 27 Nov 2001 10:10:51 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 18354 invoked by uid 97); 27 Nov 2001 10:10:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 18343 invoked from network); 27 Nov 2001 10:10:50 -0000
Reply-To: <karl@gan.no>
From: =?iso-8859-1?Q?Karl_=D8ie?= <karl@gan.no>
To: "David Bonilla" <david@bit-bang.com>,
	"Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: scandinavian characters.
Date: Tue, 27 Nov 2001 11:11:12 +0100
Message-ID: <MIEMIGIOHNPEKDBMNDPCOEEFCAAA.karl@gan.no>
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0004_01C17734.396BDEE0"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4522.1200
In-Reply-To: <000f01c17727$f0f989c0$6b00a8c0@Zurich>
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0004_01C17734.396BDEE0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit

no it's even stranger than that, i have decoded the querystring, the problem
is that it seems like something is changed on the way in. if i search for
"fjs" (fj&oslash;s) i get the swedish "fj" (fj&Auml;). Where &oslash; is
changed to &Auml; and 's' is removed.

is the querystring translated some where?

mvh karl ie
  -----Original Message-----
  From: David Bonilla [mailto:david@bit-bang.com]
  Sent: 27. november 2001 10:43
  To: Lucene Users List; karl@gan.no
  Subject: Re: scandinavian characters.


  Hi Karl !!!

  Im spanish and I have a lot of problems programming with our not english
characters. I use LUCENE with spanish accents and it works fine...

  Have you tried to use the java.net.URLEncoder and java.net.URLDecoder with
your fields to index ?

  Best Regards from Spain !
  __________________________
  David Bonilla Fuertes
  THE BIT BANG NETWORK
  http://www.bit-bang.com
  Profesor Waksman, 8, 6 B
  28036 Madrid
  SPAIN
  Tel.: (+34) 914 577 747
  Mvil: 656 62 83 92
  Fax: (+34) 914 586 176
  __________________________



------=_NextPart_000_0004_01C17734.396BDEE0--


From lucene-user-return-435-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Nov 27 10:29:55 2001
Return-Path: <lucene-user-return-435-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 15342 invoked from network); 27 Nov 2001 10:29:54 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 27 Nov 2001 10:29:54 -0000
Received: (qmail 28743 invoked by uid 97); 27 Nov 2001 10:30:06 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 28727 invoked by uid 97); 27 Nov 2001 10:30:06 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 28716 invoked from network); 27 Nov 2001 10:30:05 -0000
X-Authentication-Warning: bitbang.com: Host p107.bit-bang.com [192.168.0.107] claimed to be Zurich
Message-ID: <002401c1772e$eb781140$6b00a8c0@Zurich>
Reply-To: "David Bonilla" <david@bit-bang.com>
From: "David Bonilla" <david@bit-bang.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>, <karl@gan.no>
References: <MIEMIGIOHNPEKDBMNDPCOEEFCAAA.karl@gan.no>
Subject: Re: scandinavian characters.
Date: Tue, 27 Nov 2001 11:33:14 +0100
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0021_01C17737.4CF31430"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.00.2919.6700
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2919.6700
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0021_01C17737.4CF31430
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi again Karl !!!

Are you using the SympleAnalizer ? Some of my problems finished when I =
started to use the StopAnalyzer.

Try it my friend !!!
__________________________
David Bonilla Fuertes
THE BIT BANG NETWORK
http://www.bit-bang.com
Profesor Waksman, 8, 6=BA B
28036 Madrid
SPAIN
Tel.: (+34) 914 577 747
M=F3vil: 656 62 83 92
Fax: (+34) 914 586 176
__________________________
=20
=20

------=_NextPart_000_0021_01C17737.4CF31430--


From lucene-user-return-436-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Nov 27 10:37:16 2001
Return-Path: <lucene-user-return-436-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 18401 invoked from network); 27 Nov 2001 10:37:16 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 27 Nov 2001 10:37:16 -0000
Received: (qmail 2648 invoked by uid 97); 27 Nov 2001 10:37:28 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 2632 invoked by uid 97); 27 Nov 2001 10:37:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 2621 invoked from network); 27 Nov 2001 10:37:27 -0000
X-Authentication-Warning: bitbang.com: Host p107.bit-bang.com [192.168.0.107] claimed to be Zurich
Message-ID: <002b01c1772f$f51d7040$6b00a8c0@Zurich>
Reply-To: "David Bonilla" <david@bit-bang.com>
From: "David Bonilla" <david@bit-bang.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>, <karl@gan.no>
References: <MIEMIGIOHNPEKDBMNDPCOEEFCAAA.karl@gan.no> <002401c1772e$eb781140$6b00a8c0@Zurich>
Subject: Re: scandinavian characters.
Date: Tue, 27 Nov 2001 11:40:39 +0100
MIME-Version: 1.0
Content-Type: multipart/alternative;
	boundary="----=_NextPart_000_0028_01C17738.56A4CF40"
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.00.2919.6700
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2919.6700
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_0028_01C17738.56A4CF40
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Excuse me... I was confused... I don=B4t use the StopAnalyzer but the =
StandardAnalyzer !!!.

I beg your pardon !!!
__________________________
David Bonilla Fuertes
THE BIT BANG NETWORK
http://www.bit-bang.com
Profesor Waksman, 8, 6=BA B
28036 Madrid
SPAIN
Tel.: (+34) 914 577 747
M=F3vil: 656 62 83 92
Fax: (+34) 914 586 176
__________________________
=20
=20

------=_NextPart_000_0028_01C17738.56A4CF40--


From lucene-user-return-437-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Nov 27 11:34:08 2001
Return-Path: <lucene-user-return-437-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 45825 invoked from network); 27 Nov 2001 11:34:08 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 27 Nov 2001 11:34:08 -0000
Received: (qmail 8940 invoked by uid 97); 27 Nov 2001 11:34:06 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 8923 invoked by uid 97); 27 Nov 2001 11:34:05 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 8912 invoked from network); 27 Nov 2001 11:34:04 -0000
Reply-To: <karl@gan.no>
From: =?iso-8859-1?Q?Karl_=D8ie?= <karl@gan.no>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: scandinavian characters.
Date: Tue, 27 Nov 2001 12:34:22 +0100
Message-ID: <MIEMIGIOHNPEKDBMNDPCEEEGCAAA.karl@gan.no>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4522.1200
In-Reply-To: <002401c1772e$eb781140$6b00a8c0@Zurich>
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

i tried the SimpleAnalyzer and got the same result. but i forgot to provide
the stacktrace;

org.apache.lucene.queryParser.TokenMgrError: Lexical error at line 1, column
1.  Encountered: "\u00c3" (195), after : ""
	at
org.apache.lucene.queryParser.QueryParserTokenManager.getNextToken(Unknown
Source)
	at org.apache.lucene.queryParser.QueryParser.jj_ntk(Unknown Source)
	at org.apache.lucene.queryParser.QueryParser.Modifiers(Unknown Source)
	at org.apache.lucene.queryParser.QueryParser.Query(Unknown Source)
	at org.apache.lucene.queryParser.QueryParser.parse(Unknown Source)
	at org.apache.lucene.queryParser.QueryParser.parse(Unknown Source)




>-----Original Message-----
>From: David Bonilla [mailto:david@bit-bang.com]
>Sent: 27. november 2001 11:33
>To: Lucene Users List; karl@gan.no
>Subject: Re: scandinavian characters.
>
>
>Hi again Karl !!!
>
>Are you using the SympleAnalizer ? Some of my problems finished when I
started to use the >StopAnalyzer.
>
>Try it my friend !!!
>__________________________
>David Bonilla Fuertes
>THE BIT BANG NETWORK
>http://www.bit-bang.com
>Profesor Waksman, 8, 6 B
>28036 Madrid
>SPAIN
>Tel.: (+34) 914 577 747
>Mvil: 656 62 83 92
>Fax: (+34) 914 586 176
>__________________________




--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-438-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Nov 27 12:00:26 2001
Return-Path: <lucene-user-return-438-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 61999 invoked from network); 27 Nov 2001 12:00:26 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 27 Nov 2001 12:00:26 -0000
Received: (qmail 6164 invoked by uid 97); 27 Nov 2001 12:00:16 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 6136 invoked by uid 97); 27 Nov 2001 12:00:15 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6116 invoked from network); 27 Nov 2001 12:00:15 -0000
Reply-To: <karl@gan.no>
From: =?iso-8859-1?Q?Karl_=D8ie?= <karl@gan.no>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: scandinavian characters.
Date: Tue, 27 Nov 2001 13:00:36 +0100
Message-ID: <MIEMIGIOHNPEKDBMNDPCKEEGCAAA.karl@gan.no>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4522.1200
In-Reply-To: <MIEMIGIOHNPEKDBMNDPCOEEFCAAA.karl@gan.no>
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

there must be something seriously broken with the queryparse code.

if a query starts with // (&oslash;, &oaelig;, &aring;) then an exception
in the queryparser occurs.

org.apache.lucene.queryParser.TokenMgrError: Lexical error at line 1, column
1.  Encountered: "\u00c3" (195), after : ""
	at
org.apache.lucene.queryParser.QueryParserTokenManager.getNextToken(Unknown
Source)
	at org.apache.lucene.queryParser.QueryParser.jj_ntk(Unknown Source)
	at org.apache.lucene.queryParser.QueryParser.Modifiers(Unknown Source)
	at org.apache.lucene.queryParser.QueryParser.Query(Unknown Source)
	at org.apache.lucene.queryParser.QueryParser.parse(Unknown Source)
	at org.apache.lucene.queryParser.QueryParser.parse(Unknown Source)

but if the query contains // (&oslash;, &oaelig;, &aring;) then it is
translated wrongly into the swedish/german &auml; regardless of what
character it was.

if someone could point me to where to start I could try to find the problem
because I guess it is errorous unicode translation...


mvh karl



>no it's even stranger than that, i have decoded the querystring, the
problem
>is that it seems like something is changed on the way in. if i search for
>"fjs" (fj&oslash;s) i get the swedish "fj" (fj&Auml;). Where &oslash; is
>changed to &Auml; and 's' is removed.
>
>is the querystring translated some where?
>
>mvh karl ie
>  -----Original Message-----
>  From: David Bonilla [mailto:david@bit-bang.com]
>  Sent: 27. november 2001 10:43
>  To: Lucene Users List; karl@gan.no
>  Subject: Re: scandinavian characters.
>
>
>  Hi Karl !!!
>
>  Im spanish and I have a lot of problems programming with our not english
>characters. I use LUCENE with spanish accents and it works fine...
>
>  Have you tried to use the java.net.URLEncoder and java.net.URLDecoder
with
>your fields to index ?
>
>  Best Regards from Spain !
>  __________________________
>  David Bonilla Fuertes
>  THE BIT BANG NETWORK
>  http://www.bit-bang.com
>  Profesor Waksman, 8, 6 B
>  28036 Madrid
>  SPAIN
>  Tel.: (+34) 914 577 747
>  Mvil: 656 62 83 92
>  Fax: (+34) 914 586 176
>  __________________________




--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-439-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Nov 27 12:52:27 2001
Return-Path: <lucene-user-return-439-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 83332 invoked from network); 27 Nov 2001 12:52:27 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 27 Nov 2001 12:52:27 -0000
Received: (qmail 11394 invoked by uid 97); 27 Nov 2001 12:52:13 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 11273 invoked by uid 97); 27 Nov 2001 12:52:11 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11153 invoked from network); 27 Nov 2001 12:52:09 -0000
Message-ID: <51DDD38845C4D31182D900508BE185B7019286F0@dkcopmail01.framfab.dk>
From: Jonas Bechlund <jonas.bechlund@framfab.dk>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: scandinavian characters.
Date: Tue, 27 Nov 2001 13:51:50 +0100
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi Karl,

It is a little bit tricky - but when you get the idea it is not that =
bad...

I had the same problem with the danish characters. I made changes TOKEN
definition in the "Token Definitions" section of the file =
"QueryParser.jj"
and that actually solved the problem. One minor detail is that you have =
to
rebuild the jar file with ANT. (See build.txt for instructions)

I guess that solves your problem,
Regards,
/ Jonas

-----Original Message-----
From: Karl =D8ie [mailto:karl@gan.no]
Sent: 27 November 2001 13:01
To: Lucene Users List
Subject: RE: scandinavian characters.


there must be something seriously broken with the queryparse code.

if a query starts with =F8/=E6/=E5 (&oslash;, &oaelig;, &aring;) then =
an exception
in the queryparser occurs.

org.apache.lucene.queryParser.TokenMgrError: Lexical error at line 1, =
column
1.  Encountered: "\u00c3" (195), after : ""
	at
org.apache.lucene.queryParser.QueryParserTokenManager.getNextToken(Unkno=
wn
Source)
	at org.apache.lucene.queryParser.QueryParser.jj_ntk(Unknown Source)
	at org.apache.lucene.queryParser.QueryParser.Modifiers(Unknown
Source)
	at org.apache.lucene.queryParser.QueryParser.Query(Unknown Source)
	at org.apache.lucene.queryParser.QueryParser.parse(Unknown Source)
	at org.apache.lucene.queryParser.QueryParser.parse(Unknown Source)

but if the query contains =F8/=E6/=E5 (&oslash;, &oaelig;, &aring;) =
then it is
translated wrongly into the swedish/german &auml; regardless of what
character it was.

if someone could point me to where to start I could try to find the =
problem
because I guess it is errorous unicode translation...


mvh karl



>no it's even stranger than that, i have decoded the querystring, the
problem
>is that it seems like something is changed on the way in. if i search =
for
>"fj=F8s" (fj&oslash;s) i get the swedish "fj=E4" (fj&Auml;). Where =
&oslash; is
>changed to &Auml; and 's' is removed.
>
>is the querystring translated some where?
>
>mvh karl =F8ie
>  -----Original Message-----
>  From: David Bonilla [mailto:david@bit-bang.com]
>  Sent: 27. november 2001 10:43
>  To: Lucene Users List; karl@gan.no
>  Subject: Re: scandinavian characters.
>
>
>  Hi Karl !!!
>
>  I=B4m spanish and I have a lot of problems programming with our not =
english
>characters. I use LUCENE with spanish accents and it works fine...
>
>  Have you tried to use the java.net.URLEncoder and =
java.net.URLDecoder
with
>your fields to index ?
>
>  Best Regards from Spain !
>  __________________________
>  David Bonilla Fuertes
>  THE BIT BANG NETWORK
>  http://www.bit-bang.com
>  Profesor Waksman, 8, 6=BA B
>  28036 Madrid
>  SPAIN
>  Tel.: (+34) 914 577 747
>  M=F3vil: 656 62 83 92
>  Fax: (+34) 914 586 176
>  __________________________




--
To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-440-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Nov 27 14:20:41 2001
Return-Path: <lucene-user-return-440-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 34777 invoked from network); 27 Nov 2001 14:20:40 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 27 Nov 2001 14:20:40 -0000
Received: (qmail 2404 invoked by uid 97); 27 Nov 2001 14:20:39 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 2367 invoked by uid 97); 27 Nov 2001 14:20:38 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 2355 invoked from network); 27 Nov 2001 14:20:37 -0000
Reply-To: <karl@gan.no>
From: =?iso-8859-1?Q?Karl_=D8ie?= <karl@gan.no>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: scandinavian characters.
Date: Tue, 27 Nov 2001 15:20:58 +0100
Message-ID: <MIEMIGIOHNPEKDBMNDPCCEEHCAAA.karl@gan.no>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4522.1200
In-Reply-To: <51DDD38845C4D31182D900508BE185B7019286F0@dkcopmail01.framfab.dk>
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

that is a good step on the way, I added;

| <#_ALPHANUM_CHAR: [ "a"-"z", "A"-"Z", "0"-"9", "\u0080"-"\uFFFE" ] >

into the "QueryParser.jj" and now it doesn't create any exceptions on ,
but it's still translated into &auml; ?!?

the strange thing is that the cvs version actually already has this into
it's code.. perhaps I should try a full rebuild from the cvs version...

could you send me your "QueryParser.jj" so i could have a look at it?

btw: thanks for the tips!

mvh karl ie




-----Original Message-----
From: Jonas Bechlund [mailto:jonas.bechlund@framfab.dk]
Sent: 27. november 2001 13:52
To: 'Lucene Users List'
Subject: RE: scandinavian characters.


Hi Karl,

It is a little bit tricky - but when you get the idea it is not that bad...

I had the same problem with the danish characters. I made changes TOKEN
definition in the "Token Definitions" section of the file "QueryParser.jj"
and that actually solved the problem. One minor detail is that you have to
rebuild the jar file with ANT. (See build.txt for instructions)

I guess that solves your problem,
Regards,
/ Jonas

-----Original Message-----
From: Karl ie [mailto:karl@gan.no]
Sent: 27 November 2001 13:01
To: Lucene Users List
Subject: RE: scandinavian characters.


there must be something seriously broken with the queryparse code.

if a query starts with // (&oslash;, &oaelig;, &aring;) then an exception
in the queryparser occurs.

org.apache.lucene.queryParser.TokenMgrError: Lexical error at line 1, column
1.  Encountered: "\u00c3" (195), after : ""
	at
org.apache.lucene.queryParser.QueryParserTokenManager.getNextToken(Unknown
Source)
	at org.apache.lucene.queryParser.QueryParser.jj_ntk(Unknown Source)
	at org.apache.lucene.queryParser.QueryParser.Modifiers(Unknown
Source)
	at org.apache.lucene.queryParser.QueryParser.Query(Unknown Source)
	at org.apache.lucene.queryParser.QueryParser.parse(Unknown Source)
	at org.apache.lucene.queryParser.QueryParser.parse(Unknown Source)

but if the query contains // (&oslash;, &oaelig;, &aring;) then it is
translated wrongly into the swedish/german &auml; regardless of what
character it was.

if someone could point me to where to start I could try to find the problem
because I guess it is errorous unicode translation...


mvh karl



>no it's even stranger than that, i have decoded the querystring, the
problem
>is that it seems like something is changed on the way in. if i search for
>"fjs" (fj&oslash;s) i get the swedish "fj" (fj&Auml;). Where &oslash; is
>changed to &Auml; and 's' is removed.
>
>is the querystring translated some where?
>
>mvh karl ie
>  -----Original Message-----
>  From: David Bonilla [mailto:david@bit-bang.com]
>  Sent: 27. november 2001 10:43
>  To: Lucene Users List; karl@gan.no
>  Subject: Re: scandinavian characters.
>
>
>  Hi Karl !!!
>
>  Im spanish and I have a lot of problems programming with our not english
>characters. I use LUCENE with spanish accents and it works fine...
>
>  Have you tried to use the java.net.URLEncoder and java.net.URLDecoder
with
>your fields to index ?
>
>  Best Regards from Spain !
>  __________________________
>  David Bonilla Fuertes
>  THE BIT BANG NETWORK
>  http://www.bit-bang.com
>  Profesor Waksman, 8, 6 B
>  28036 Madrid
>  SPAIN
>  Tel.: (+34) 914 577 747
>  Mvil: 656 62 83 92
>  Fax: (+34) 914 586 176
>  __________________________




--
To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>

--
To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-441-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Nov 27 14:52:03 2001
Return-Path: <lucene-user-return-441-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 58741 invoked from network); 27 Nov 2001 14:52:03 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 27 Nov 2001 14:52:03 -0000
Received: (qmail 15981 invoked by uid 97); 27 Nov 2001 14:52:03 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 15944 invoked by uid 97); 27 Nov 2001 14:52:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 15926 invoked from network); 27 Nov 2001 14:52:00 -0000
Reply-To: <karl@gan.no>
From: =?iso-8859-1?Q?Karl_=D8ie?= <karl@gan.no>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
	<jonas.bechlund@framfab.dk>
Subject: RE: scandinavian characters.
Date: Tue, 27 Nov 2001 15:52:19 +0100
Message-ID: <MIEMIGIOHNPEKDBMNDPCMEEHCAAA.karl@gan.no>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4522.1200
In-Reply-To: <51DDD38845C4D31182D900508BE185B7019286F0@dkcopmail01.framfab.dk>
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

after i had replaced "QueryParser.jj" with the newest version from cvs the
queryparser accepts my query, and i can now perform // searches from
commandline, then i guess there is something wrong with my search servlets
unicode handling :-)


thank you very much!


karl ie/gan media



-----Original Message-----
From: Jonas Bechlund [mailto:jonas.bechlund@framfab.dk]
Sent: 27. november 2001 13:52
To: 'Lucene Users List'
Subject: RE: scandinavian characters.


Hi Karl,

It is a little bit tricky - but when you get the idea it is not that bad...

I had the same problem with the danish characters. I made changes TOKEN
definition in the "Token Definitions" section of the file "QueryParser.jj"
and that actually solved the problem. One minor detail is that you have to
rebuild the jar file with ANT. (See build.txt for instructions)

I guess that solves your problem,
Regards,
/ Jonas

-----Original Message-----
From: Karl ie [mailto:karl@gan.no]
Sent: 27 November 2001 13:01
To: Lucene Users List
Subject: RE: scandinavian characters.


there must be something seriously broken with the queryparse code.

if a query starts with // (&oslash;, &oaelig;, &aring;) then an exception
in the queryparser occurs.

org.apache.lucene.queryParser.TokenMgrError: Lexical error at line 1, column
1.  Encountered: "\u00c3" (195), after : ""
	at
org.apache.lucene.queryParser.QueryParserTokenManager.getNextToken(Unknown
Source)
	at org.apache.lucene.queryParser.QueryParser.jj_ntk(Unknown Source)
	at org.apache.lucene.queryParser.QueryParser.Modifiers(Unknown
Source)
	at org.apache.lucene.queryParser.QueryParser.Query(Unknown Source)
	at org.apache.lucene.queryParser.QueryParser.parse(Unknown Source)
	at org.apache.lucene.queryParser.QueryParser.parse(Unknown Source)

but if the query contains // (&oslash;, &oaelig;, &aring;) then it is
translated wrongly into the swedish/german &auml; regardless of what
character it was.

if someone could point me to where to start I could try to find the problem
because I guess it is errorous unicode translation...


mvh karl



>no it's even stranger than that, i have decoded the querystring, the
problem
>is that it seems like something is changed on the way in. if i search for
>"fjs" (fj&oslash;s) i get the swedish "fj" (fj&Auml;). Where &oslash; is
>changed to &Auml; and 's' is removed.
>
>is the querystring translated some where?
>
>mvh karl ie
>  -----Original Message-----
>  From: David Bonilla [mailto:david@bit-bang.com]
>  Sent: 27. november 2001 10:43
>  To: Lucene Users List; karl@gan.no
>  Subject: Re: scandinavian characters.
>
>
>  Hi Karl !!!
>
>  Im spanish and I have a lot of problems programming with our not english
>characters. I use LUCENE with spanish accents and it works fine...
>
>  Have you tried to use the java.net.URLEncoder and java.net.URLDecoder
with
>your fields to index ?
>
>  Best Regards from Spain !
>  __________________________
>  David Bonilla Fuertes
>  THE BIT BANG NETWORK
>  http://www.bit-bang.com
>  Profesor Waksman, 8, 6 B
>  28036 Madrid
>  SPAIN
>  Tel.: (+34) 914 577 747
>  Mvil: 656 62 83 92
>  Fax: (+34) 914 586 176
>  __________________________




--
To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>

--
To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-442-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Nov 27 15:34:37 2001
Return-Path: <lucene-user-return-442-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 82176 invoked from network); 27 Nov 2001 15:34:37 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 27 Nov 2001 15:34:37 -0000
Received: (qmail 22162 invoked by uid 97); 27 Nov 2001 15:34:37 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 22146 invoked by uid 97); 27 Nov 2001 15:34:37 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22135 invoked from network); 27 Nov 2001 15:34:36 -0000
Reply-To: <karl@gan.no>
From: =?iso-8859-1?Q?Karl_=D8ie?= <karl@gan.no>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: scandinavian characters.
Date: Tue, 27 Nov 2001 16:34:58 +0100
Message-ID: <MIEMIGIOHNPEKDBMNDPCIEEICAAA.karl@gan.no>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4522.1200
In-Reply-To: <MIEMIGIOHNPEKDBMNDPCMEEHCAAA.karl@gan.no>
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

found a fix to the problem;

the "QueryParser.jj" in rc2 does not accept unicode, version 1.6 in cvs
does, so i replaced the file with the newest one from cvs and also had to
include the FastCharStream.java class to compile.

then i just had to force-convert the querystring that came from the browser
to utf-8 and it worked (guess the browser sent the string as ascii!!! i'm so
happy and thanks to you both jonas and david!!



String query = this.request.getParameter( "query" );
if( query!=null ) {
	query = new String( query.getBytes(), "UTF-8" );
	}



mvh karl ie/gan media





-----Original Message-----
From: Jonas Bechlund [mailto:jonas.bechlund@framfab.dk]
Sent: 27. november 2001 13:52
To: 'Lucene Users List'
Subject: RE: scandinavian characters.


Hi Karl,

It is a little bit tricky - but when you get the idea it is not that bad...

I had the same problem with the danish characters. I made changes TOKEN
definition in the "Token Definitions" section of the file "QueryParser.jj"
and that actually solved the problem. One minor detail is that you have to
rebuild the jar file with ANT. (See build.txt for instructions)

I guess that solves your problem,
Regards,
/ Jonas

-----Original Message-----
From: Karl ie [mailto:karl@gan.no]
Sent: 27 November 2001 13:01
To: Lucene Users List
Subject: RE: scandinavian characters.


there must be something seriously broken with the queryparse code.

if a query starts with // (&oslash;, &oaelig;, &aring;) then an exception
in the queryparser occurs.

org.apache.lucene.queryParser.TokenMgrError: Lexical error at line 1, column
1.  Encountered: "\u00c3" (195), after : ""
	at
org.apache.lucene.queryParser.QueryParserTokenManager.getNextToken(Unknown
Source)
	at org.apache.lucene.queryParser.QueryParser.jj_ntk(Unknown Source)
	at org.apache.lucene.queryParser.QueryParser.Modifiers(Unknown
Source)
	at org.apache.lucene.queryParser.QueryParser.Query(Unknown Source)
	at org.apache.lucene.queryParser.QueryParser.parse(Unknown Source)
	at org.apache.lucene.queryParser.QueryParser.parse(Unknown Source)

but if the query contains // (&oslash;, &oaelig;, &aring;) then it is
translated wrongly into the swedish/german &auml; regardless of what
character it was.

if someone could point me to where to start I could try to find the problem
because I guess it is errorous unicode translation...


mvh karl



>no it's even stranger than that, i have decoded the querystring, the
problem
>is that it seems like something is changed on the way in. if i search for
>"fjs" (fj&oslash;s) i get the swedish "fj" (fj&Auml;). Where &oslash; is
>changed to &Auml; and 's' is removed.
>
>is the querystring translated some where?
>
>mvh karl ie
>  -----Original Message-----
>  From: David Bonilla [mailto:david@bit-bang.com]
>  Sent: 27. november 2001 10:43
>  To: Lucene Users List; karl@gan.no
>  Subject: Re: scandinavian characters.
>
>
>  Hi Karl !!!
>
>  Im spanish and I have a lot of problems programming with our not english
>characters. I use LUCENE with spanish accents and it works fine...
>
>  Have you tried to use the java.net.URLEncoder and java.net.URLDecoder
with
>your fields to index ?
>
>  Best Regards from Spain !
>  __________________________
>  David Bonilla Fuertes
>  THE BIT BANG NETWORK
>  http://www.bit-bang.com
>  Profesor Waksman, 8, 6 B
>  28036 Madrid
>  SPAIN
>  Tel.: (+34) 914 577 747
>  Mvil: 656 62 83 92
>  Fax: (+34) 914 586 176
>  __________________________




--
To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>

--
To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>


--
To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-443-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Nov 27 15:41:29 2001
Return-Path: <lucene-user-return-443-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 85482 invoked from network); 27 Nov 2001 15:41:28 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 27 Nov 2001 15:41:28 -0000
Received: (qmail 26289 invoked by uid 97); 27 Nov 2001 15:41:28 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 26244 invoked by uid 97); 27 Nov 2001 15:41:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 15900 invoked from network); 26 Nov 2001 16:04:21 -0000
Date: Mon, 26 Nov 2001 08:04:18 -0800
From: Brian Goetz <brian@quiotix.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: What punctuation is "legal" in a query?
Message-ID: <20011126080418.C32308@lx.quiotix.com>
References: <86F21E9558CE6F429B2D0AEB9820F1B82F2FA0@S1001EXM01.macromedia.com>
Mime-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
User-Agent: Mutt/1.2.5i
In-Reply-To: <86F21E9558CE6F429B2D0AEB9820F1B82F2FA0@S1001EXM01.macromedia.com>; from pfriedman@macromedia.com on Mon, Nov 26, 2001 at 10:56:25AM -0500
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> Sorry to be so persistent about this, but query syntax containing punctuation (especially '.', '_', '/') is extremely critical to the product I am working on.

You are of course correct that the syntax should be documented, and
I'm sure in time, it will.  We've added individual elements (some at
your request), and I agree that it should be more tolerant (I'm more
used to writing parsers for compilers than for user-level tools.

Bear in mind that the query parser is a convenience, which gives you
an 80% solution for 20% of the work.  If you've got specific
requirements, maybe you should use the query classes directly?


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-444-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Nov 27 16:20:06 2001
Return-Path: <lucene-user-return-444-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 13020 invoked from network); 27 Nov 2001 16:20:06 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 27 Nov 2001 16:20:06 -0000
Received: (qmail 17453 invoked by uid 97); 27 Nov 2001 16:19:55 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 17380 invoked by uid 97); 27 Nov 2001 16:19:55 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17257 invoked from network); 27 Nov 2001 16:19:54 -0000
Message-ID: <DB52A7625347D211A1D70060B06AB1E2035DC83A@exchgcle.dev.netgenics.com>
From: "Snyder, David" <dsnyder@netgenics.com>
To: "'lucene-user@jakarta.apache.org'" <lucene-user@jakarta.apache.org>
Subject: Index compatability between R1 and R1.2
Date: Tue, 27 Nov 2001 11:21:09 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I was wondering if there was a known index compatability isssue between
release 1 and release 1.2?  Upgrading seems to have broken any searches
which specify fields (i.e. +author:snyder ).  Searches without specific
fields specified seem to work fine.

Do we need to rebuild all of our indexes with the new version of the
libraries?

David Snyder
Se=F1or Software Engineer

NetGenics, Inc.
1717 E. 9th St., #1700
Cleveland, OH 44114
(216) 861-4007


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-445-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Nov 27 16:58:10 2001
Return-Path: <lucene-user-return-445-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 41586 invoked from network); 27 Nov 2001 16:58:10 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 27 Nov 2001 16:58:10 -0000
Received: (qmail 24581 invoked by uid 97); 27 Nov 2001 16:56:37 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 24534 invoked by uid 97); 27 Nov 2001 16:56:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 24489 invoked from network); 27 Nov 2001 16:56:35 -0000
Message-ID: <D07A9EC6218CD211B6AB0008C7246A6703104706@dedueexc30.de.kworld.kpmg.com>
From: "Stranzenbach, Ralf" <rstranzenbach@kpmg.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: AW: SqlDirectory
Date: Tue, 27 Nov 2001 17:54:28 +0100
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,
i'm interested in your work and would like to volunteer to check this
extension.

Mit freundlichen Gr=FC=DFen
Ralf Edmund Stranzenbach

kpmg Consulting AG
Am Bonneshof 35
D-40474 D=FCsseldorf
Tel.: 		+49-211-475-6038
Handy:		+49-174-30 75 211
Fax.:		+49-211-475-6500
Email:		rstranzenbach@kpmg.com



-----Urspr=FCngliche Nachricht-----
Von: Marc Kramis [mailto:mkramis@student.ethz.ch]
Gesendet: Montag, 26. November 2001 21:39
An: lucene-user@jakarta.apache.org
Betreff: SqlDirectory


hi all

some time ago, there was a short discussion about a database store. I also
needed some persistence layer that was accessible via JDBC. It turned out,
that a BLOB implementation is strongly dependent on the RDBMS used and also
poorly performing.

I implemented a SqlDirectory, based on the idea of RAMDirectory and its
buffers as basic element.
goals:
1. should work with all JDBC compliant RDBMS (no adaption required, no
blobs!).
2. performance should be acceptable.
3. simple db schema.

status:
1. tested on Oracle 8i (free oracle JDBC driver type 4) and SQL Server 2000
(free microsoft JDBC beta driver type 4). works perfectly.
2. consists of 2 tables and 1 index. (one tablespace can have several
indexes of course)
3. promising performance.

todo:
1. test reliability, performance, concurrency (multiple reader/writer), test
with mySQL
2. code review
3. introduce caching (maybe CacheDirectory)

if someone has experience or just likes to test it, mail me. Anyway, could I
simply attach the SqlDirectory.java file to my mails?

marc



--
To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>


--=20
                  E-Mail Disclaimer

Der Inhalt dieser E-Mail ist ausschliesslich fuer den bezeichneten
Adressaten bestimmt. Wenn Sie nicht der vorgesehene Adressat dieser=20
E-Mail oder dessen Vertreter sein sollten, so beachten Sie bitte, dass
jede Form der Kenntnisnahme, Veroeffentlichung, Vervielfaeltigung oder
Weitergabe des Inhalts dieser E-Mail unzulaessig ist. Wir bitten Sie,
sich in diesem Fall mit dem Absender der E-Mail in Verbindung zu
setzen. Aussagen gegenueber dem Adressaten unterliegen den Regelungen
des zugrundeliegenden Angebotes bzw. Auftrags, insbesondere den=20
Allgemeinen Auftragsbedingungen und der individuellen Haftungs-
vereinbarung. Der Inhalt der E-Mail ist nur rechtsverbindlich, wenn er
unsererseits durch einen Brief entsprechend bestaetigt wird. Die
Versendung von E-Mails an uns hat keine fristwahrende Wirkung. Wir=20
moechten Sie ausserdem darauf hinweisen, dass die Kommunikation per
E-Mail ueber das Internet unsicher ist, da fuer unberechtigte Dritte
grundsaetzlich die Moeglichkeit der Kenntnisnahme und Manipulation
besteht. Wir werden daher keine vertraulichen Daten unverschluesselt
per E-Mail ueber das Internet versenden.

The information contained in this email is intended solely for the
addressee. Access to this email by anyone else is unauthorized. If you
are not the intended recipient, any form of disclosure, reproduction,
distribution or any action taken or refrained from in reliance on it,
is prohibited and may be unlawful. Please notify the sender
immediately. All statements of opinion or advice directed via this
email to our clients are subject to the terms and conditions expressed
in the governing KPMG client engagement letter. The content of this
email is not legally binding unless confirmed by letter. The sending
of emails to us will not constitute compliance with any time limits or
deadlines. We also like to inform you that communication via email
over the internet is insecure because third parties may have the
possibility to access and manipulate emails. For this reason we will
not send any confidential information via email over the internet,
unless encrypted.

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-446-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Nov 27 20:10:42 2001
Return-Path: <lucene-user-return-446-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 59768 invoked from network); 27 Nov 2001 20:10:42 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 27 Nov 2001 20:10:42 -0000
Received: (qmail 17925 invoked by uid 97); 27 Nov 2001 20:10:19 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 17849 invoked by uid 97); 27 Nov 2001 20:10:18 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17814 invoked from network); 27 Nov 2001 20:10:17 -0000
Message-ID: <86F21E9558CE6F429B2D0AEB9820F1B82F2FA7@S1001EXM01.macromedia.com>
From: Paul Friedman <pfriedman@macromedia.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: What punctuation is "legal" in a query?
Date: Tue, 27 Nov 2001 15:10:15 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Thanks for the suggestion.  I was not aware that QueryParser was just a convenience class, I thought it was the recommended way of generating a Query from a user defined query string.  Since I have never used the query classes directly, I have a couple of questions:

1. Do I just parse the query string myself (possibly using my own query syntax) then generate the appropriate query classes and add them to a BooleanQuery?

2. If I added the documents to the index using the StandardAnalyzer, how do I make sure that the terms contained in the query object that I created are "analyzed" properly, when I use QueryParser I just pass in the same StandardAnalyzer and it takes care of it for me?

Thanks.
Paul Friedman


-----Original Message-----
From: Brian Goetz [mailto:brian@quiotix.com]
Sent: Monday, November 26, 2001 11:04 AM
To: Lucene Users List
Subject: Re: What punctuation is "legal" in a query?


> Sorry to be so persistent about this, but query syntax containing punctuation (especially '.', '_', '/') is extremely critical to the product I am working on.

You are of course correct that the syntax should be documented, and
I'm sure in time, it will.  We've added individual elements (some at
your request), and I agree that it should be more tolerant (I'm more
used to writing parsers for compilers than for user-level tools.

Bear in mind that the query parser is a convenience, which gives you
an 80% solution for 20% of the work.  If you've got specific
requirements, maybe you should use the query classes directly?


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-447-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Nov 27 20:49:31 2001
Return-Path: <lucene-user-return-447-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 86441 invoked from network); 27 Nov 2001 20:49:31 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 27 Nov 2001 20:49:31 -0000
Received: (qmail 6445 invoked by uid 97); 27 Nov 2001 20:49:33 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 6407 invoked by uid 97); 27 Nov 2001 20:49:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6395 invoked from network); 27 Nov 2001 20:49:31 -0000
Mime-Version: 1.0
X-Sender: wintondavies@mail.earthlink.net
Message-Id: <v04205508b829acb08742@[172.18.106.137]>
Date: Tue, 27 Nov 2001 12:49:02 -0800
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
From: Winton Davies <wdavies@overture.com>
Subject: Lucene, Java and GC
Content-Type: text/plain; charset="us-ascii" ; format="flowed"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

  I'm getting pestered by developers and management regarding the 
estimated performance of Lucene. I've gotten the index running 
reasonably fast (on a corpus of 8 million docs).

  In particular, some developers had been bitten by global GC on some 
pure Java webservers, especially when they loaded in a small number 
of objects. Note this wasn't Lucene...

  However, they were all very worried when I said I had a Gig of stuff 
in memory (the RamDirectory)....

  Has anyone had any experience with running high-volume searches 
using Lucene.In particular has anyone had any experience (or lack 
thereof) of GC problems ? (platform and JVM versions would be 
interesting)

  Was anything specific done in the design to avoid GC issues (I don't 
know if there is in general). I know the RAMdir is a long-lived 
object, and so should be immune to Global GC's but apparently Java 
still has issues in the area of Scavenges vs Global GC.

  I'm going to be running experiments, and will let you know my finding.

  Cheers,
   Winton

Winton Davies
Lead Engineer, Overture (NSDQ: OVER)
1820 Gateway Drive, Suite 360
San Mateo, CA 94404
work: (650) 403-2259
cell: (650) 867-1598
http://www.overture.com/

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-448-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Nov 27 21:08:43 2001
Return-Path: <lucene-user-return-448-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 97737 invoked from network); 27 Nov 2001 21:08:43 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 27 Nov 2001 21:08:43 -0000
Received: (qmail 21548 invoked by uid 97); 27 Nov 2001 21:08:47 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 21537 invoked by uid 97); 27 Nov 2001 21:08:46 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 24664 invoked from network); 27 Nov 2001 20:16:06 -0000
From: "Kiran Kumar K.G" <kiran.k@net-kraft.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject:  io exception on recreating an index
Date: Wed, 28 Nov 2001 01:49:21 +0530
Message-ID: <NFBBKPLCJKPEGKDAHDCAAEDFCAAA.kiran.k@net-kraft.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4807.1700
Importance: Normal
In-Reply-To: 
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I'm currently having a problem overwriting an old index. Every night, the
contents of a database I'm using get updated, so the lucene indexes are also
recreated every night. The technique I'm currently using is just to start a
new index on top of the old one (IndexWriter writer = new
IndexWriter(filePath, new StandardAnalyzer(), true) ) but sproatically I get
an IO exception: couldn't delete _2oil.fdt or something to that effect.

I'm pretty sure nothing is using the index (but then again I am querying it
using a COM+ wrapper, so who really knows what's going on behind the
scenes)...anyone have any ideas how to avoid this? Worst case senario I
would at least like the old index to still be usable (the one from the night
before). Is there a way to transactionally update an index or something to
that effect?


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-449-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Nov 27 21:12:26 2001
Return-Path: <lucene-user-return-449-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 1185 invoked from network); 27 Nov 2001 21:12:26 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 27 Nov 2001 21:12:26 -0000
Received: (qmail 26655 invoked by uid 97); 27 Nov 2001 21:12:25 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 26603 invoked by uid 97); 27 Nov 2001 21:12:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26573 invoked from network); 27 Nov 2001 21:12:24 -0000
From: "Jonathan Franzone" <jonathan@franzone.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: io exception on recreating an index
Date: Tue, 27 Nov 2001 15:11:23 -0600
Message-ID: <LOBBIMECHCLBHDLBABIMAEOOEPAA.jonathan@franzone.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
Importance: Normal
In-Reply-To: <NFBBKPLCJKPEGKDAHDCAAEDFCAAA.kiran.k@net-kraft.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

*This message was transferred with a trial version of CommuniGate(tm) Pro*

You could create the new index in another directory and then copy it over
the the existing one.

-----Original Message-----
From: Kiran Kumar K.G [mailto:kiran.k@net-kraft.com]
Sent: Tuesday, November 27, 2001 2:19 PM
To: Lucene Users List
Subject: io exception on recreating an index


*This message was transferred with a trial version of CommuniGate(tm) Pro*
I'm currently having a problem overwriting an old index. Every night, the
contents of a database I'm using get updated, so the lucene indexes are also
recreated every night. The technique I'm currently using is just to start a
new index on top of the old one (IndexWriter writer = new
IndexWriter(filePath, new StandardAnalyzer(), true) ) but sproatically I get
an IO exception: couldn't delete _2oil.fdt or something to that effect.

I'm pretty sure nothing is using the index (but then again I am querying it
using a COM+ wrapper, so who really knows what's going on behind the
scenes)...anyone have any ideas how to avoid this? Worst case senario I
would at least like the old index to still be usable (the one from the night
before). Is there a way to transactionally update an index or something to
that effect?


--
To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>



--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-450-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Nov 27 21:47:47 2001
Return-Path: <lucene-user-return-450-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 24242 invoked from network); 27 Nov 2001 21:47:47 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 27 Nov 2001 21:47:47 -0000
Received: (qmail 27352 invoked by uid 97); 27 Nov 2001 21:47:51 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 27336 invoked by uid 97); 27 Nov 2001 21:47:50 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 27325 invoked from network); 27 Nov 2001 21:47:50 -0000
Mime-Version: 1.0
X-Sender: avi_drissman@mail.baseview.com
Message-Id: <a05101002b829b8a62794@[10.1.4.99]>
Date: Tue, 27 Nov 2001 16:47:26 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
From: Avi Drissman <avi_drissman@baseview.com>
Subject: IndexReader and IndexWriter on the same index
Content-Type: text/plain; charset="us-ascii" ; format="flowed"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

In the FAQ in Searching question 41, it says about index 
modification: "The problems are only when you add documents or 
optimize an index, and then search with an IndexReader that was 
constructed before those changes to the index were made."

I'm in a situation where before I add any document I need to remove 
any old versions of it from the index. I'd like to keep both an 
IndexReader and IndexWriter around for efficiency's sake, but I'm 
concerned about them interacting properly. Does the delete(Term) 
member function count as a "search" in the above statement? Can I 
delete with an IndexReader, add with an IndexWriter, delete with that 
IndexReader, add with that IndexWriter, etc. without concern, or must 
I recreate one (or both) of them each time?

Thanks.

Avi
-- 
Avi Drissman
avi_drissman@baseview.com
Bit bashing since 1977

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-451-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Nov 27 21:56:46 2001
Return-Path: <lucene-user-return-451-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 30616 invoked from network); 27 Nov 2001 21:56:46 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 27 Nov 2001 21:56:46 -0000
Received: (qmail 5739 invoked by uid 97); 27 Nov 2001 21:56:50 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 5717 invoked by uid 97); 27 Nov 2001 21:56:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 5706 invoked from network); 27 Nov 2001 21:56:49 -0000
From: "The elephantwalker" <elephantwalker@home.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: Lucene, Java and GC
Date: Tue, 27 Nov 2001 13:59:11 -0800
Message-ID: <LPBBKNFBAIHCKAFBADGKIEEKDFAA.elephantwalker@home.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-Mimeole: Produced By Microsoft MimeOLE V5.50.4133.2400
Importance: Normal
In-Reply-To: <v04205508b829acb08742@[172.18.106.137]>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Winton,

Jives uses Lucene. Jives is the forum application used on www.javasoft.com,
and I expect that the forum searches there are quite knarly.

regards,

the elephantwalker
www.elephantwalker.com

-----Original Message-----
From: Winton Davies [mailto:wdavies@overture.com]
Sent: Tuesday, November 27, 2001 12:49 PM
To: Lucene Users List
Subject: Lucene, Java and GC


Hi,

  I'm getting pestered by developers and management regarding the
estimated performance of Lucene. I've gotten the index running
reasonably fast (on a corpus of 8 million docs).

  In particular, some developers had been bitten by global GC on some
pure Java webservers, especially when they loaded in a small number
of objects. Note this wasn't Lucene...

  However, they were all very worried when I said I had a Gig of stuff
in memory (the RamDirectory)....

  Has anyone had any experience with running high-volume searches
using Lucene.In particular has anyone had any experience (or lack
thereof) of GC problems ? (platform and JVM versions would be
interesting)

  Was anything specific done in the design to avoid GC issues (I don't
know if there is in general). I know the RAMdir is a long-lived
object, and so should be immune to Global GC's but apparently Java
still has issues in the area of Scavenges vs Global GC.

  I'm going to be running experiments, and will let you know my finding.

  Cheers,
   Winton

Winton Davies
Lead Engineer, Overture (NSDQ: OVER)
1820 Gateway Drive, Suite 360
San Mateo, CA 94404
work: (650) 403-2259
cell: (650) 867-1598
http://www.overture.com/

--
To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-452-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Nov 27 22:08:28 2001
Return-Path: <lucene-user-return-452-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 37469 invoked from network); 27 Nov 2001 22:08:28 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 27 Nov 2001 22:08:28 -0000
Received: (qmail 21774 invoked by uid 97); 27 Nov 2001 22:08:11 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 21731 invoked by uid 97); 27 Nov 2001 22:08:10 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 21699 invoked from network); 27 Nov 2001 22:08:10 -0000
Message-ID: <000d01c17790$40017d80$1573a8c0@marc>
From: "Marc Kramis" <mkramis@student.ethz.ch>
To: <lucene-user@jakarta.apache.org>
Subject: synchronization problem / bug?
Date: Tue, 27 Nov 2001 23:09:57 +0100
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-OriginalArrivalTime: 27 Nov 2001 22:08:07.0959 (UTC) FILETIME=[FEA8D270:01C1778F]
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

hi

while testing the SqlDirectory, I found some really strange thing: scenario
is concurrent writer and searcher:
1. a IndexWriter is started and creates a write.lock until the close method
is called. this cleanly prevents other writers to access the index at the
same time and is ok.
2. go on indexing ...

but now, concurrently, the following process goes on:
1. a Searcher is created with searcher = new IndexSearcher().
2.  this process creates a commit.lock as expected and reads some files.
3. the commit.lock is released. (immediately)
4. now, the querying is done and the hits.doc(i) is read. during this, no
commit.lock is set, but again, some files are accessed (the
InputStream.readInternal method is called).
5. the searcher.close() method is called which closes all open InputStreams.
(no commit.lock released or created)

like that, from time to time, a exception occures because the file has been
changed by the IndexWriter process running the same time.

Any ideas about this? this should also occur with FSDirectory or
RAMDirectory, but more rarely, because these are faster in reading
results...

cheers
marc



--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-453-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Nov 27 22:23:57 2001
Return-Path: <lucene-user-return-453-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 44604 invoked from network); 27 Nov 2001 22:23:56 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 27 Nov 2001 22:23:56 -0000
Received: (qmail 499 invoked by uid 97); 27 Nov 2001 22:24:01 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 483 invoked by uid 97); 27 Nov 2001 22:24:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 454 invoked from network); 27 Nov 2001 22:24:00 -0000
Message-ID: <4BC270C6AB8AD411AD0B00B0D0493DF0EE7D32@mail.grandcentral.com>
From: Doug Cutting <DCutting@grandcentral.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: synchronization problem / bug?
Date: Tue, 27 Nov 2001 14:11:17 -0800
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Lucene assumes that if an open file is deleted then it will continue to be
readable at least until it is closed.  So if your SQL Directory is
permitting open files to be deleted then you will encounter problems.  All
open files should be somehow locked against deletion.  If a file deletion
fails Lucene will try again later.

RAMDirectory and FSDirectory implement this correctly.

Doug

> -----Original Message-----
> From: Marc Kramis [mailto:mkramis@student.ethz.ch]
> Sent: Tuesday, November 27, 2001 2:10 PM
> To: lucene-user@jakarta.apache.org
> Subject: synchronization problem / bug?
> 
> 
> hi
> 
> while testing the SqlDirectory, I found some really strange 
> thing: scenario
> is concurrent writer and searcher:
> 1. a IndexWriter is started and creates a write.lock until 
> the close method
> is called. this cleanly prevents other writers to access the 
> index at the
> same time and is ok.
> 2. go on indexing ...
> 
> but now, concurrently, the following process goes on:
> 1. a Searcher is created with searcher = new IndexSearcher().
> 2.  this process creates a commit.lock as expected and reads 
> some files.
> 3. the commit.lock is released. (immediately)
> 4. now, the querying is done and the hits.doc(i) is read. 
> during this, no
> commit.lock is set, but again, some files are accessed (the
> InputStream.readInternal method is called).
> 5. the searcher.close() method is called which closes all 
> open InputStreams.
> (no commit.lock released or created)
> 
> like that, from time to time, a exception occures because the 
> file has been
> changed by the IndexWriter process running the same time.
> 
> Any ideas about this? this should also occur with FSDirectory or
> RAMDirectory, but more rarely, because these are faster in reading
> results...
> 
> cheers
> marc
> 
> 
> 
> --
> To unsubscribe, e-mail:   
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-454-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Nov 27 22:27:14 2001
Return-Path: <lucene-user-return-454-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 46021 invoked from network); 27 Nov 2001 22:27:14 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 27 Nov 2001 22:27:14 -0000
Received: (qmail 1297 invoked by uid 97); 27 Nov 2001 22:27:19 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 1281 invoked by uid 97); 27 Nov 2001 22:27:19 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1270 invoked from network); 27 Nov 2001 22:27:18 -0000
Message-ID: <4BC270C6AB8AD411AD0B00B0D0493DF0EE7D33@mail.grandcentral.com>
From: Doug Cutting <DCutting@grandcentral.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: IndexReader and IndexWriter on the same index
Date: Tue, 27 Nov 2001 14:14:36 -0800
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

If you are performing additions and deletions then you should serially
create an IndexReader to do deletions, close it, then create an IndexWriter
to do additions, close it, and so on.  Note that typically one will use a
different IndexReader for deletions than is used for searching, so that
searches may continue while adding documents.

Doug

> -----Original Message-----
> From: Avi Drissman [mailto:avi_drissman@baseview.com]
> Sent: Tuesday, November 27, 2001 1:47 PM
> To: Lucene Users List
> Subject: IndexReader and IndexWriter on the same index
> 
> 
> In the FAQ in Searching question 41, it says about index 
> modification: "The problems are only when you add documents or 
> optimize an index, and then search with an IndexReader that was 
> constructed before those changes to the index were made."
> 
> I'm in a situation where before I add any document I need to remove 
> any old versions of it from the index. I'd like to keep both an 
> IndexReader and IndexWriter around for efficiency's sake, but I'm 
> concerned about them interacting properly. Does the delete(Term) 
> member function count as a "search" in the above statement? Can I 
> delete with an IndexReader, add with an IndexWriter, delete with that 
> IndexReader, add with that IndexWriter, etc. without concern, or must 
> I recreate one (or both) of them each time?
> 
> Thanks.
> 
> Avi
> -- 
> Avi Drissman
> avi_drissman@baseview.com
> Bit bashing since 1977
> 
> --
> To unsubscribe, e-mail:   
> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail: 
> <mailto:lucene-user-help@jakarta.apache.org>
> 

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-455-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Nov 27 22:57:26 2001
Return-Path: <lucene-user-return-455-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 59124 invoked from network); 27 Nov 2001 22:57:25 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 27 Nov 2001 22:57:25 -0000
Received: (qmail 350 invoked by uid 97); 27 Nov 2001 22:57:30 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 293 invoked by uid 97); 27 Nov 2001 22:57:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 277 invoked from network); 27 Nov 2001 22:57:26 -0000
Mime-Version: 1.0
X-Sender: avi_drissman@mail.baseview.com
Message-Id: <a05101003b829ca775485@[10.1.4.99]>
In-Reply-To: <4BC270C6AB8AD411AD0B00B0D0493DF0EE7D33@mail.grandcentral.com>
References: <4BC270C6AB8AD411AD0B00B0D0493DF0EE7D33@mail.grandcentral.com>
Date: Tue, 27 Nov 2001 17:57:11 -0500
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
From: Avi Drissman <avi_drissman@baseview.com>
Subject: RE: IndexReader and IndexWriter on the same index
Content-Type: text/plain; charset="us-ascii" ; format="flowed"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

At 2:14 PM -0800 11/27/01, you wrote:

>If you are performing additions and deletions then you should serially
>create an IndexReader to do deletions, close it, then create an IndexWriter
>to do additions, close it, and so on.

But if I need to do a deletion before every addition, then there's 
the overhead of all those reader and writer creations. There's no way 
around it?

Avi

-- 
Avi Drissman
avi_drissman@baseview.com
Bit bashing since 1977

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-456-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Tue Nov 27 23:10:47 2001
Return-Path: <lucene-user-return-456-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 66959 invoked from network); 27 Nov 2001 23:10:47 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 27 Nov 2001 23:10:47 -0000
Received: (qmail 23189 invoked by uid 97); 27 Nov 2001 23:10:41 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 23165 invoked by uid 97); 27 Nov 2001 23:10:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23126 invoked from network); 27 Nov 2001 23:10:40 -0000
Message-ID: <4BC270C6AB8AD411AD0B00B0D0493DF0EE7D34@mail.grandcentral.com>
From: Doug Cutting <DCutting@grandcentral.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: IndexReader and IndexWriter on the same index
Date: Tue, 27 Nov 2001 14:58:00 -0800
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> From: Avi Drissman [mailto:avi_drissman@baseview.com]
> 
> But if I need to do a deletion before every addition, then there's 
> the overhead of all those reader and writer creations. There's no way 
> around it?

Batch your deletions, then batch your additions.  If you need these changes
to appear atomically to searchers, do not re-open the IndexReader that
you're using for searching until you have closed the IndexWriter.

Doug

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-457-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Nov 28 07:40:14 2001
Return-Path: <lucene-user-return-457-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 60753 invoked from network); 28 Nov 2001 07:40:14 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 28 Nov 2001 07:40:14 -0000
Received: (qmail 25967 invoked by uid 97); 28 Nov 2001 07:40:25 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 25924 invoked by uid 97); 28 Nov 2001 07:40:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25913 invoked from network); 28 Nov 2001 07:40:23 -0000
Message-ID: <1A336BFB8DCA0840B29CC55F23EBB4A588EF63@knk7.ww010.siemens.net>
From: "Strittmatter Stephan (external)"
	 <Stephan.Strittmatter.ext@kst.siemens.de>
To: "'Elie Naulleau'" <semiosys@wanadoo.fr>,
   "'Lucene Users List'"
	 <lucene-user@jakarta.apache.org>
Subject: RE: Automatically determin Language of document
Date: Wed, 28 Nov 2001 08:40:04 +0100
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi Elie,

> You could try Doug Beeferman's variable-length character n-gram approach
> to identify a language among 13 european ones.
> http://www.dougb.com/ident.html

> If you just have 4 or 5 languages to deal with, you can build your
> own with the most frequent word lists for each language. I have some
> trivial C++ code that does it and can send it to you it you need.
> Identified language is choosen on a frequency criterion.
> 

I have at the moment only two languages (en, de) but this could increase.
But I think not more than yours 4 to 5.
It would be great if you could send me your example code.
Probably I try to port it to Java.

Thanks in advance,

Stephan Strittmatter

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-458-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Nov 28 09:20:59 2001
Return-Path: <lucene-user-return-458-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 15962 invoked from network); 28 Nov 2001 09:20:58 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 28 Nov 2001 09:20:58 -0000
Received: (qmail 289 invoked by uid 97); 28 Nov 2001 09:21:08 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 273 invoked by uid 97); 28 Nov 2001 09:21:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 262 invoked from network); 28 Nov 2001 09:21:07 -0000
Reply-To: <semiosys@wanadoo.fr>
From: "Elie Naulleau" <semiosys@wanadoo.fr>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: Automatically determin Language of document
Date: Wed, 28 Nov 2001 10:20:51 +0100
Message-ID: <LPENLECLNHFGPOFDHFKMOEPFCAAA.semiosys@wanadoo.fr>
MIME-Version: 1.0
Content-Type: multipart/mixed;
	boundary="----=_NextPart_000_001B_01C177F6.5B1C5C50"
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2919.6700
Importance: Normal
In-Reply-To: <1A336BFB8DCA0840B29CC55F23EBB4A588EF63@knk7.ww010.siemens.net>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

------=_NextPart_000_001B_01C177F6.5B1C5C50
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 8bit

Hi Stephan,

You'll find the example code attached to this message. The archive
contain also a model.dat file for french and english.
Remember that this is a simplisitic approach for language guessing.
It will works to distinguish between on french, english, spanish, etc
but is likely to fail between finnish, suedish, norvegian, ...etc
Porting to Java should be straightforward.

Elie

-----Message d'origine-----
De : Strittmatter Stephan (external)
[mailto:Stephan.Strittmatter.ext@kst.siemens.de]
Envoy : mercredi 28 novembre 2001 08:40
 : 'Elie Naulleau'; 'Lucene Users List'
Objet : RE: Automatically determin Language of document


Hi Elie,

> You could try Doug Beeferman's variable-length character n-gram approach
> to identify a language among 13 european ones.
> http://www.dougb.com/ident.html

> If you just have 4 or 5 languages to deal with, you can build your
> own with the most frequent word lists for each language. I have some
> trivial C++ code that does it and can send it to you it you need.
> Identified language is choosen on a frequency criterion.
>

I have at the moment only two languages (en, de) but this could increase.
But I think not more than yours 4 to 5.
It would be great if you could send me your example code.
Probably I try to port it to Java.

Thanks in advance,

Stephan Strittmatter

--
To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>

------=_NextPart_000_001B_01C177F6.5B1C5C50
Content-Type: application/x-compressed;
	name="simplerecolang.tgz"
Content-Transfer-Encoding: base64
Content-Disposition: attachment;
	filename="simplerecolang.tgz"

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
yH5vh7ou1+W6/GHK/wCQfPfDACgAAA==


------=_NextPart_000_001B_01C177F6.5B1C5C50
Content-Type: text/plain; charset=us-ascii

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>
------=_NextPart_000_001B_01C177F6.5B1C5C50--


From lucene-user-return-459-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Nov 28 11:04:00 2001
Return-Path: <lucene-user-return-459-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 67282 invoked from network); 28 Nov 2001 11:03:59 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 28 Nov 2001 11:03:59 -0000
Received: (qmail 16381 invoked by uid 97); 28 Nov 2001 11:04:12 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 16365 invoked by uid 97); 28 Nov 2001 11:04:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16337 invoked from network); 28 Nov 2001 11:04:11 -0000
Sender: nick@mail.swissonline.ch
Message-ID: <3C04C4A7.34DE3FE0@techop.ch>
Date: Wed, 28 Nov 2001 12:04:07 +0100
From: Nick Smith <nick@techop.ch>
X-Mailer: Mozilla 4.75 [en] (X11; U; SunOS 5.8 sun4u)
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: IndexReader and IndexWriter on the same index
References: <4BC270C6AB8AD411AD0B00B0D0493DF0EE7D34@mail.grandcentral.com>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Doug Cutting wrote:
> 
> > From: Avi Drissman [mailto:avi_drissman@baseview.com]
> >
> > But if I need to do a deletion before every addition, then there's
> > the overhead of all those reader and writer creations. There's no way
> > around it?
> 
> Batch your deletions, then batch your additions.  If you need these changes
> to appear atomically to searchers, do not re-open the IndexReader that
> you're using for searching until you have closed the IndexWriter.
> 
> Doug
> 
I am faced with a similar problem to Avi and I have a question :

I have multiple threads peforming inserts, and searches on an index.
The IndexReader/IndexSearcher instances are refreshed when a search
thread detects that the modification time of the index changes (before
IndexSearcher.search() is called).
Refresh includes :
o	synchcronise on all readers and writers.
o	peform any queued deletes using IndexReader.delete().
o	call IndexReader.close() to flush deletes to the index.
o	open new IndexReader/IndexSearcher.

Do I also need to re-create the IndexWriter instance?

Many Thanks for any answers!

Nick Smith

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-460-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Nov 28 11:04:41 2001
Return-Path: <lucene-user-return-460-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 69612 invoked from network); 28 Nov 2001 11:04:40 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 28 Nov 2001 11:04:40 -0000
Received: (qmail 16714 invoked by uid 97); 28 Nov 2001 11:04:53 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 16698 invoked by uid 97); 28 Nov 2001 11:04:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 16687 invoked from network); 28 Nov 2001 11:04:52 -0000
Importance: Normal
Subject: New Member
To: lucene-user@jakarta.apache.org
X-Mailer: Lotus Notes Release 5.0.5  September 22, 2000
Message-ID: <OFA711E425.148C0FAD-ON42256B12.003CBE83@za.ibm.com>
From: "Ferdinand Damon" <FERDIDA@za.ibm.com>
Date: Wed, 28 Nov 2001 13:04:02 +0200
X-MIMETrack: Serialize by Router on d11ml004/11/M/IBM(Release 5.0.8 |June 18, 2001) at
 28/11/2001 13:04:35
MIME-Version: 1.0
Content-type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

I am trying to learn firstly how to post messages

thanks!

Ferdinand Damon


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-461-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Nov 28 11:21:33 2001
Return-Path: <lucene-user-return-461-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 86854 invoked from network); 28 Nov 2001 11:21:33 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 28 Nov 2001 11:21:33 -0000
Received: (qmail 29189 invoked by uid 97); 28 Nov 2001 11:21:46 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 29167 invoked by uid 97); 28 Nov 2001 11:21:45 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 29156 invoked from network); 28 Nov 2001 11:21:45 -0000
Importance: Normal
Subject: Re: New Member
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Lotus Notes Release 5.0.5  September 22, 2000
Message-ID: <OF68C3CC64.D376D00D-ON42256B12.003D9547@za.ibm.com>
From: "Ferdinand Damon" <FERDIDA@za.ibm.com>
Date: Wed, 28 Nov 2001 13:20:51 +0200
X-MIMETrack: Serialize by Router on d11ml004/11/M/IBM(Release 5.0.8 |June 18, 2001) at
 28/11/2001 13:21:29
MIME-Version: 1.0
Content-type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

At my work we are currently writing a Java Application for a Travel Agency.

We must create a DB2 Database with all their "Private fares" they purchase.
These private
fares are : Price of ticket, type of travel, company supplying fare and a
lot more.

We want to search on any of the fields or a combination of the fields in
the database.  These must
then be merged with results returned from an overseas database (GDS) and
sorted

Is it possible that lucune can search for price ranges as well ?

Is Lucene the right technology for this ?

Thanks for any information

Ferdinand Damon


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-462-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Nov 28 12:51:29 2001
Return-Path: <lucene-user-return-462-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 42060 invoked from network); 28 Nov 2001 12:51:29 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 28 Nov 2001 12:51:29 -0000
Received: (qmail 26927 invoked by uid 97); 28 Nov 2001 12:51:27 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 26917 invoked by uid 97); 28 Nov 2001 12:51:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 738 invoked from network); 28 Nov 2001 12:21:59 -0000
Content-Type: text/plain;
  charset="iso-8859-1"
From: Chantal Ackermann <chantal.ackermann@biomax.de>
Reply-To: chantal.ackermann@biomax.de
To: lucene-user@jakarta.apache.org
Subject: OutOfMemoryError
Date: Wed, 28 Nov 2001 13:22:51 +0100
X-Mailer: KMail [version 1.2]
MIME-Version: 1.0
Message-Id: <01112813225107.00645@guffert>
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

hi to all,

please help! I think I mixed my brain up already with this stuff...

I'm trying to index about 29 textfiles where the biggest one is ~700Mb and 
the smallest ~300Mb. I achieved once to run the whole index, with a merge 
factor = 10 and maxMergeDocs=10000. This took more than 35 hours I think 
(don't know exactly) and it didn't use much RAM (though it could have). 
unfortunately I had a call to optimize at the end and while optimization an 
IOException (File to big) occured (while merging).

As I run the program on a multi-processor machine I now changed the code to 
index each file in a single thread and write to one single IndexWriter. the 
merge factor is still at 10. maxMergeDocs is at 1.000.000. I set the maximum 
heap size to 1MB.

I tried to use RAMDirectory (as mentioned in the mailing list) and just use 
IndexWriter.addDocument(). At the moment it seems not to make any difference. 
after a while _all_ the threads exit one after another (not all at once!) 
with an OutOfMemoryError. the priority of all of them is at the minimum.

even if the multithreading doesn't increase performance I would be glad if I 
could just once get it running again.

I would be even happier if someone could give me a hint what would be the 
best way to index this amount of data. (the average size of an entry that 
gets parsed for a Document is about 1Kb.)

thanx for any help!
chantal

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-463-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Nov 28 13:04:56 2001
Return-Path: <lucene-user-return-463-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 49809 invoked from network); 28 Nov 2001 13:04:55 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 28 Nov 2001 13:04:55 -0000
Received: (qmail 3418 invoked by uid 97); 28 Nov 2001 13:04:54 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 3378 invoked by uid 97); 28 Nov 2001 13:04:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3367 invoked from network); 28 Nov 2001 13:04:53 -0000
Reply-To: <karl@gan.no>
From: "Karl Oie" <karl@gan.no>
To: "Philipp Chudinov" <morpheus@basko.ru>,
	<lucene-user@jakarta.apache.org>
Subject: RE: scandinavian characters. //from Lucene users maillist
Date: Wed, 28 Nov 2001 14:05:14 +0100
Message-ID: <MIEMIGIOHNPEKDBMNDPCKEEJCAAA.karl@gan.no>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: 8bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2910.0)
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4522.1200
In-Reply-To: <00f101c17801$763eeba0$0100a8c0@medusa>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

they can be found here:
http://cvs.apache.org/viewcvs/jakarta-lucene/src/java/org/apache/lucene/quer
yParser/ , and both files sould be put in your
jakarta-lucene../src/java/org/apache/lucene/queryParser/ directory. then you
will have to recompile , i used "ant clean jar" and then you get a new jar
file in bin/

mvh karl oie



-----Original Message-----
From: Philipp Chudinov [mailto:morpheus@basko.ru]
Sent: 28. november 2001 12:40
To: karl@gan.no
Subject: Re: scandinavian characters. //from Lucene users maillist


Hi, Karl!
I've faced with the same problem (trying to search russian documents). Now
Iam trying to repeat your steps. I've included new version of
QueryParser.jj, but could'nt you describe, how to "include the
FastCharStream.java class to compile." - where it is and where I should
include this? Thanks.

Philipp



----- Original Message -----
From: "Karl ie" <karl@gan.no>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Tuesday, November 27, 2001 8:34 PM
Subject: RE: scandinavian characters.


> found a fix to the problem;
>
> the "QueryParser.jj" in rc2 does not accept unicode, version 1.6 in cvs
> does, so i replaced the file with the newest one from cvs and also had to
> include the FastCharStream.java class to compile.
>
> then i just had to force-convert the querystring that came from the
browser
> to utf-8 and it worked (guess the browser sent the string as ascii!!! i'm
so
> happy and thanks to you both jonas and david!!
>
>
>
> String query = this.request.getParameter( "query" );
> if( query!=null ) {
> query = new String( query.getBytes(), "UTF-8" );
> }
>
>
>
> mvh karl ie/gan media
>
>
>
>
>
> -----Original Message-----
> From: Jonas Bechlund [mailto:jonas.bechlund@framfab.dk]
> Sent: 27. november 2001 13:52
> To: 'Lucene Users List'
> Subject: RE: scandinavian characters.
>
>
> Hi Karl,
>
> It is a little bit tricky - but when you get the idea it is not that
bad...
>
> I had the same problem with the danish characters. I made changes TOKEN
> definition in the "Token Definitions" section of the file "QueryParser.jj"
> and that actually solved the problem. One minor detail is that you have to
> rebuild the jar file with ANT. (See build.txt for instructions)
>
> I guess that solves your problem,
> Regards,
> / Jonas
>
> -----Original Message-----
> From: Karl ie [mailto:karl@gan.no]
> Sent: 27 November 2001 13:01
> To: Lucene Users List
> Subject: RE: scandinavian characters.
>
>
> there must be something seriously broken with the queryparse code.
>
> if a query starts with // (&oslash;, &oaelig;, &aring;) then an
exception
> in the queryparser occurs.
>
> org.apache.lucene.queryParser.TokenMgrError: Lexical error at line 1,
column
> 1.  Encountered: "\u00c3" (195), after : ""
> at
> org.apache.lucene.queryParser.QueryParserTokenManager.getNextToken(Unknown
> Source)
> at org.apache.lucene.queryParser.QueryParser.jj_ntk(Unknown Source)
> at org.apache.lucene.queryParser.QueryParser.Modifiers(Unknown
> Source)
> at org.apache.lucene.queryParser.QueryParser.Query(Unknown Source)
> at org.apache.lucene.queryParser.QueryParser.parse(Unknown Source)
> at org.apache.lucene.queryParser.QueryParser.parse(Unknown Source)
>
> but if the query contains // (&oslash;, &oaelig;, &aring;) then it is
> translated wrongly into the swedish/german &auml; regardless of what
> character it was.
>
> if someone could point me to where to start I could try to find the
problem
> because I guess it is errorous unicode translation...
>
>
> mvh karl
>
>
>
> >no it's even stranger than that, i have decoded the querystring, the
> problem
> >is that it seems like something is changed on the way in. if i search for
> >"fjs" (fj&oslash;s) i get the swedish "fj" (fj&Auml;). Where &oslash;
is
> >changed to &Auml; and 's' is removed.
> >
> >is the querystring translated some where?
> >
> >mvh karl ie
> >  -----Original Message-----
> >  From: David Bonilla [mailto:david@bit-bang.com]
> >  Sent: 27. november 2001 10:43
> >  To: Lucene Users List; karl@gan.no
> >  Subject: Re: scandinavian characters.
> >
> >
> >  Hi Karl !!!
> >
> >  Im spanish and I have a lot of problems programming with our not
english
> >characters. I use LUCENE with spanish accents and it works fine...
> >
> >  Have you tried to use the java.net.URLEncoder and java.net.URLDecoder
> with
> >your fields to index ?
> >
> >  Best Regards from Spain !
> >  __________________________
> >  David Bonilla Fuertes
> >  THE BIT BANG NETWORK
> >  http://www.bit-bang.com
> >  Profesor Waksman, 8, 6 B
> >  28036 Madrid
> >  SPAIN
> >  Tel.: (+34) 914 577 747
> >  Mvil: 656 62 83 92
> >  Fax: (+34) 914 586 176
> >  __________________________
>
>
>
>
> --
> To unsubscribe, e-mail:
> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
> <mailto:lucene-user-help@jakarta.apache.org>
>
> --
> To unsubscribe, e-mail:
> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
> <mailto:lucene-user-help@jakarta.apache.org>
>
>
> --
> To unsubscribe, e-mail:
> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
> <mailto:lucene-user-help@jakarta.apache.org>
>
>
> --
> To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>
>


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-464-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Nov 28 13:28:22 2001
Return-Path: <lucene-user-return-464-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 64912 invoked from network); 28 Nov 2001 13:28:21 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 28 Nov 2001 13:28:21 -0000
Received: (qmail 13149 invoked by uid 97); 28 Nov 2001 13:28:21 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 13130 invoked by uid 97); 28 Nov 2001 13:28:20 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 13107 invoked from network); 28 Nov 2001 13:28:19 -0000
Sender: tril@pluto.blackwell.co.uk
Message-ID: <3C04E670.DE995457@blackwell.co.uk>
Date: Wed, 28 Nov 2001 13:28:16 +0000
From: Ian Lea <ian.lea@blackwell.co.uk>
X-Mailer: Mozilla 4.73 [en] (X11; U; SunOS 5.6 sun4u)
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: OutOfMemoryError
References: <01112813225107.00645@guffert>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I've loaded a large (but not as large as yours) index with mergeFactor
set to 1000.  Was substantially faster than with default setting. 
Making it higher didn't seem to make things much faster but did cause
it to use more memory. In addition I loaded the data in chunks in
separate processes and optimized the index after each chunk, again
in a separate process.  All done straight to disk, no messing about
with RAMDirectories.

Didn't play with maxMergeDocs and am not sure what you mean by
"maximum heap size" but 1MB doesn't sound very large.



--
Ian.
ian.lea@blackwell.co.uk


Chantal Ackermann wrote:
> 
> hi to all,
> 
> please help! I think I mixed my brain up already with this stuff...
> 
> I'm trying to index about 29 textfiles where the biggest one is ~700Mb and
> the smallest ~300Mb. I achieved once to run the whole index, with a merge
> factor = 10 and maxMergeDocs=10000. This took more than 35 hours I think
> (don't know exactly) and it didn't use much RAM (though it could have).
> unfortunately I had a call to optimize at the end and while optimization an
> IOException (File to big) occured (while merging).
> 
> As I run the program on a multi-processor machine I now changed the code to
> index each file in a single thread and write to one single IndexWriter. the
> merge factor is still at 10. maxMergeDocs is at 1.000.000. I set the maximum
> heap size to 1MB.
> 
> I tried to use RAMDirectory (as mentioned in the mailing list) and just use
> IndexWriter.addDocument(). At the moment it seems not to make any difference.
> after a while _all_ the threads exit one after another (not all at once!)
> with an OutOfMemoryError. the priority of all of them is at the minimum.
> 
> even if the multithreading doesn't increase performance I would be glad if I
> could just once get it running again.
> 
> I would be even happier if someone could give me a hint what would be the
> best way to index this amount of data. (the average size of an entry that
> gets parsed for a Document is about 1Kb.)
> 
> thanx for any help!
> chantal

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-465-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Nov 28 15:32:33 2001
Return-Path: <lucene-user-return-465-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 51987 invoked from network); 28 Nov 2001 15:32:33 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 28 Nov 2001 15:32:33 -0000
Received: (qmail 1494 invoked by uid 97); 28 Nov 2001 15:32:33 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 1478 invoked by uid 97); 28 Nov 2001 15:32:32 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1467 invoked from network); 28 Nov 2001 15:32:32 -0000
Message-ID: <20011128153232.93619.qmail@web11807.mail.yahoo.com>
Date: Wed, 28 Nov 2001 07:32:32 -0800 (PST)
From: srinivasa v <inrisrini2k@yahoo.com>
Subject: Order of Package Compilation
To: lucene-user@jakarta.apache.org
MIME-Version: 1.0
Content-Type: multipart/alternative; boundary="0-1626247263-1006961552=:92614"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

--0-1626247263-1006961552=:92614
Content-Type: text/plain; charset=us-ascii


Hi all,

I got the lucene source files, When I started to compile all
packages again in some order, it is giving some error saying 
some classnot found....the order in which I compiled is given below.

com\lucene\store\*.java
com\lucene\util\*.java
com\lucene\document\*.java
com\lucene\analysis\standard\*.java
com\lucene\analysis\*.java
com\lucene\index\*.java
com\lucene\search\*.java
com\lucene\queryParser\*.java

I hope the order may be wrong, if yes in what order i have to compile ?
Plese help me.

Thanks in Advance
Srini



---------------------------------
Do You Yahoo!?
Yahoo! GeoCities - quick and easy web site hosting, just $8.95/month.
--0-1626247263-1006961552=:92614--

From lucene-user-return-466-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Nov 28 15:58:30 2001
Return-Path: <lucene-user-return-466-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 71049 invoked from network); 28 Nov 2001 15:58:29 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 28 Nov 2001 15:58:29 -0000
Received: (qmail 26549 invoked by uid 97); 28 Nov 2001 15:58:28 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 26533 invoked by uid 97); 28 Nov 2001 15:58:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 26522 invoked from network); 28 Nov 2001 15:58:27 -0000
Message-ID: <20011128155828.87594.qmail@web12705.mail.yahoo.com>
Date: Wed, 28 Nov 2001 07:58:28 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Order of Package Compilation
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <20011128153232.93619.qmail@web11807.mail.yahoo.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Why not just use Ant to build Lucene?

Otis

--- srinivasa v <inrisrini2k@yahoo.com> wrote:
> 
> Hi all,
> 
> I got the lucene source files, When I started to compile all
> packages again in some order, it is giving some error saying 
> some classnot found....the order in which I compiled is given below.
> 
> com\lucene\store\*.java
> com\lucene\util\*.java
> com\lucene\document\*.java
> com\lucene\analysis\standard\*.java
> com\lucene\analysis\*.java
> com\lucene\index\*.java
> com\lucene\search\*.java
> com\lucene\queryParser\*.java
> 
> I hope the order may be wrong, if yes in what order i have to compile
> ?
> Plese help me.
> 
> Thanks in Advance
> Srini
> 
> 
> 
> ---------------------------------
> Do You Yahoo!?
> Yahoo! GeoCities - quick and easy web site hosting, just $8.95/month.


__________________________________________________
Do You Yahoo!?
Yahoo! GeoCities - quick and easy web site hosting, just $8.95/month.
http://geocities.yahoo.com/ps/info1

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-467-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Nov 28 19:14:51 2001
Return-Path: <lucene-user-return-467-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 88521 invoked from network); 28 Nov 2001 19:14:51 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 28 Nov 2001 19:14:51 -0000
Received: (qmail 23494 invoked by uid 97); 28 Nov 2001 19:14:53 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 23465 invoked by uid 97); 28 Nov 2001 19:14:52 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23451 invoked from network); 28 Nov 2001 19:14:51 -0000
Mime-Version: 1.0
X-Sender: wintondavies@mail.earthlink.net
Message-Id: <v04205500b82ae7f07759@[172.18.106.137]>
In-Reply-To: <01112813225107.00645@guffert>
References: <01112813225107.00645@guffert>
Date: Wed, 28 Nov 2001 11:14:24 -0800
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
From: Winton Davies <wdavies@overture.com>
Subject: Re: OutOfMemoryError
Content-Type: text/plain; charset="us-ascii" ; format="flowed"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Were you using -mx and -ms (setting heap size ?)

  Cheers,
   Winton

>hi to all,
>
>please help! I think I mixed my brain up already with this stuff...
>
>I'm trying to index about 29 textfiles where the biggest one is ~700Mb and
>the smallest ~300Mb. I achieved once to run the whole index, with a merge
>factor = 10 and maxMergeDocs=10000. This took more than 35 hours I think
>(don't know exactly) and it didn't use much RAM (though it could have).
>unfortunately I had a call to optimize at the end and while optimization an
>IOException (File to big) occured (while merging).
>
>As I run the program on a multi-processor machine I now changed the code to
>index each file in a single thread and write to one single IndexWriter. the
>merge factor is still at 10. maxMergeDocs is at 1.000.000. I set the maximum
>heap size to 1MB.
>
>I tried to use RAMDirectory (as mentioned in the mailing list) and just use
>IndexWriter.addDocument(). At the moment it seems not to make any difference.
>after a while _all_ the threads exit one after another (not all at once!)
>with an OutOfMemoryError. the priority of all of them is at the minimum.
>
>even if the multithreading doesn't increase performance I would be glad if I
>could just once get it running again.
>
>I would be even happier if someone could give me a hint what would be the
>best way to index this amount of data. (the average size of an entry that
>gets parsed for a Document is about 1Kb.)
>
>thanx for any help!
>chantal
>
>--
>To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
>For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


Winton Davies
Lead Engineer, Overture (NSDQ: OVER)
1820 Gateway Drive, Suite 360
San Mateo, CA 94404
work: (650) 403-2259
cell: (650) 867-1598
http://www.overture.com/

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-468-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Nov 28 19:15:46 2001
Return-Path: <lucene-user-return-468-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 88752 invoked from network); 28 Nov 2001 19:15:46 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 28 Nov 2001 19:15:46 -0000
Received: (qmail 23975 invoked by uid 97); 28 Nov 2001 19:15:49 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 23959 invoked by uid 97); 28 Nov 2001 19:15:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23948 invoked from network); 28 Nov 2001 19:15:48 -0000
Mime-Version: 1.0
X-Sender: wintondavies@mail.earthlink.net
Message-Id: <v04205501b82ae822831a@[172.18.106.130]>
In-Reply-To: <3C04E670.DE995457@blackwell.co.uk>
References: <01112813225107.00645@guffert>
 <3C04E670.DE995457@blackwell.co.uk>
Date: Wed, 28 Nov 2001 11:15:24 -0800
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
From: Winton Davies <wdavies@overture.com>
Subject: Re: OutOfMemoryError
Content-Type: text/plain; charset="us-ascii" ; format="flowed"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Watch out for merge sizes > 100 -- you'll run out of file descriptors 
-- ? Also does mergeFactor have any effect in RAMdirectory ?

  Winton

>I've loaded a large (but not as large as yours) index with mergeFactor
>set to 1000.  Was substantially faster than with default setting.
>Making it higher didn't seem to make things much faster but did cause
>it to use more memory. In addition I loaded the data in chunks in
>separate processes and optimized the index after each chunk, again
>in a separate process.  All done straight to disk, no messing about
>with RAMDirectories.
>
>Didn't play with maxMergeDocs and am not sure what you mean by
>"maximum heap size" but 1MB doesn't sound very large.
>
>
>
>--
>Ian.
>ian.lea@blackwell.co.uk
>
>
>Chantal Ackermann wrote:
>>
>> hi to all,
>>
>> please help! I think I mixed my brain up already with this stuff...
>>
>> I'm trying to index about 29 textfiles where the biggest one is ~700Mb and
>> the smallest ~300Mb. I achieved once to run the whole index, with a merge
>> factor = 10 and maxMergeDocs=10000. This took more than 35 hours I think
>> (don't know exactly) and it didn't use much RAM (though it could have).
>> unfortunately I had a call to optimize at the end and while optimization an
>> IOException (File to big) occured (while merging).
>>
>> As I run the program on a multi-processor machine I now changed the code to
>> index each file in a single thread and write to one single IndexWriter. the
>> merge factor is still at 10. maxMergeDocs is at 1.000.000. I set the maximum
>> heap size to 1MB.
>>
>> I tried to use RAMDirectory (as mentioned in the mailing list) and just use
>> IndexWriter.addDocument(). At the moment it seems not to make any 
>>difference.
>> after a while _all_ the threads exit one after another (not all at once!)
>> with an OutOfMemoryError. the priority of all of them is at the minimum.
>>
>> even if the multithreading doesn't increase performance I would be glad if I
>> could just once get it running again.
>>
>> I would be even happier if someone could give me a hint what would be the
>> best way to index this amount of data. (the average size of an entry that
>> gets parsed for a Document is about 1Kb.)
>>
>> thanx for any help!
>> chantal
>
>--
>To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
>For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


Winton Davies
Lead Engineer, Overture (NSDQ: OVER)
1820 Gateway Drive, Suite 360
San Mateo, CA 94404
work: (650) 403-2259
cell: (650) 867-1598
http://www.overture.com/

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-469-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Nov 28 21:04:26 2001
Return-Path: <lucene-user-return-469-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 40759 invoked from network); 28 Nov 2001 21:04:25 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 28 Nov 2001 21:04:25 -0000
Received: (qmail 29267 invoked by uid 97); 28 Nov 2001 21:04:28 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 29229 invoked by uid 97); 28 Nov 2001 21:04:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 29218 invoked from network); 28 Nov 2001 21:04:27 -0000
Subject: Re: io exception on recreating an index
In-Reply-To: <NFBBKPLCJKPEGKDAHDCAAEDFCAAA.kiran.k@net-kraft.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Date: Wed, 28 Nov 2001 16:03:48 -0500 (EST)
Cc: kiran.k@net-kraft.com
X-Mailer: ELM [version 2.4ME+ PL94 (25)]
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset=US-ASCII
Message-Id: <20011128210348.B1B203C1B2@darksleep.com>
From: puffmail@darksleep.com (Steven J. Owens)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Kiran Kumar K.G <kiran.k@net-kraft.com> wrote:

> I'm currently having a problem overwriting an old index. Every
> night, the contents of a database I'm using get updated, so the
> lucene indexes are also recreated every night. The technique I'm
> currently using is just to start a new index on top of the old one
> (IndexWriter writer = new IndexWriter(filePath, new
> StandardAnalyzer(), true) ) but sproatically I get an IO exception:
> couldn't delete _2oil.fdt or something to that effect.

     I ran into this as well; I didn't get it on Solaris, just when I
tried running it on a win2k laptop (didn't feel like being stuck at my
desk all the time :-).  

> I'm pretty sure nothing is using the index (but then again I am querying it
> using a COM+ wrapper, so who really knows what's going on behind the
> scenes)...

     I remember being reasonably sure that there was nothing holding
onto a file, but having the same experience.  I had some vague
suspicions about some very garbage-collection-like process going on,
where my application had released the file handles, but maybe the OS
hadn't reclaimed them yet.  But I know zip about windows programming,
and I don't even know if windows has anything remotely like garbage
collection...  Hm, I know a few people who know windows, maybe I'll
sound them out and see if they have any clues, just on general
principles.  It'd be nice to at least know why this is happening.

> anyone have any ideas how to avoid this? Worst case senario I
> would at least like the old index to still be usable (the one from the night
> before). Is there a way to transactionally update an index or something to
> that effect?


     What I ended up doing to resolve this was to build the index in a
separate directory, then move that over to the new directory.  Then I
realized that was kind of ugly, so I built a scheme where I:

     keep it all in subdirectories,

     and build the updated index in new subdirecty directory with a
     unique name,

     then write the name of the most-up-to-date directory in a config file,

     then poke the system to cause it to reread the config file and
     reload the index.

     Then I realized that if I'm going to this much trouble, I should
probably just go the whole mile and reindex instead of building a new
index - note that I wouldn't have bothered, except for our application
we have multiple users both searching documents and editing them.  It
really does make more sense for us to reindex each document right
after a user saves.

Steven J. Owens
puff@darksleep.com

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-470-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Nov 28 21:51:09 2001
Return-Path: <lucene-user-return-470-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 59317 invoked from network); 28 Nov 2001 21:51:09 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 28 Nov 2001 21:51:09 -0000
Received: (qmail 6571 invoked by uid 97); 28 Nov 2001 21:51:14 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 6555 invoked by uid 97); 28 Nov 2001 21:51:13 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6539 invoked from network); 28 Nov 2001 21:51:12 -0000
Mime-Version: 1.0
X-Sender: wintondavies@mail.earthlink.net
Message-Id: <v04205508b82b0c1c284b@[172.18.106.130]>
In-Reply-To: <v04205500b82ae7f07759@[172.18.106.137]>
References: <01112813225107.00645@guffert>
 <v04205500b82ae7f07759@[172.18.106.137]>
Date: Wed, 28 Nov 2001 13:50:34 -0800
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
From: Winton Davies <wdavies@overture.com>
Subject: javac -O ?
Content-Type: text/plain; charset="us-ascii" ; format="flowed"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

  Is the nightly build compiled Optimized ? if not, has anyone ever 
tried compiling Optimized, and using that ? Does it help improve 
performance ? It would seem to me that given the compute intensive 
nature of querying, that even slightly improved compilations would 
speed things up ?

  Cheers,
   Winton

Winton Davies
Lead Engineer, Overture (NSDQ: OVER)
1820 Gateway Drive, Suite 360
San Mateo, CA 94404
work: (650) 403-2259
cell: (650) 867-1598
http://www.overture.com/

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-471-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Nov 28 22:07:06 2001
Return-Path: <lucene-user-return-471-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 71278 invoked from network); 28 Nov 2001 22:07:06 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 28 Nov 2001 22:07:06 -0000
Received: (qmail 13630 invoked by uid 97); 28 Nov 2001 22:07:10 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 13612 invoked by uid 97); 28 Nov 2001 22:07:09 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 13601 invoked from network); 28 Nov 2001 22:07:09 -0000
From: "Matt Tucker" <matt@jivesoftware.com>
To: "'Lucene Users List'" <lucene-user@jakarta.apache.org>
Subject: RE: javac -O ?
Date: Wed, 28 Nov 2001 17:06:53 -0500
Message-ID: <002001c17859$0034b040$f301a8c0@zeus>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook, Build 10.0.3311
Importance: Normal
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
In-Reply-To: <v04205508b82b0c1c284b@[172.18.106.130]>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Winton,

I'm not sure that javac -O actually does anything. From the 1.3 tool
documentation: 

"Note: the -O option does nothing in the current implementation of javac
and oldjavac."

In fact, the JDK 1.4 tool documentation doesn't even mention the -O
option (even though "javac -help" still lists the option).

In regards to your earlier email about JVM optimization -- you may want
to check out the Jrockit JVM if you have a chance. I haven't used it
yet, but the features sound interesting for server-side Java
performance. http://www.jrockit.com

Regards,
Matt

> -----Original Message-----
> From: Winton Davies [mailto:wdavies@overture.com] 
> Sent: Wednesday, November 28, 2001 4:51 PM
> To: Lucene Users List
> Subject: javac -O ?
> 
> 
> Hi,
> 
>   Is the nightly build compiled Optimized ? if not, has anyone ever 
> tried compiling Optimized, and using that ? Does it help improve 
> performance ? It would seem to me that given the compute intensive 
> nature of querying, that even slightly improved compilations would 
> speed things up ?
> 
>   Cheers,
>    Winton
> 
> Winton Davies
> Lead Engineer, Overture (NSDQ: OVER)
> 1820 Gateway Drive, Suite 360
> San Mateo, CA 94404
> work: (650) 403-2259
> cell: (650) 867-1598
> http://www.overture.com/
> 
> --
> To unsubscribe, e-mail:   
> <mailto:lucene-user-> unsubscribe@jakarta.apache.org>
> For 
> additional commands, 
> e-mail: <mailto:lucene-user-help@jakarta.apache.org>
> 


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-472-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Nov 28 22:32:56 2001
Return-Path: <lucene-user-return-472-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 82766 invoked from network); 28 Nov 2001 22:32:56 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 28 Nov 2001 22:32:56 -0000
Received: (qmail 21783 invoked by uid 97); 28 Nov 2001 22:33:01 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 21739 invoked by uid 97); 28 Nov 2001 22:33:00 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 21721 invoked from network); 28 Nov 2001 22:33:00 -0000
Mime-Version: 1.0
X-Sender: wintondavies@mail.earthlink.net
Message-Id: <v0420550ab82b1611813c@[172.18.106.130]>
In-Reply-To: <002001c17859$0034b040$f301a8c0@zeus>
References: <002001c17859$0034b040$f301a8c0@zeus>
Date: Wed, 28 Nov 2001 14:32:14 -0800
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
From: Winton Davies <wdavies@overture.com>
Subject: RE: javac -O ?
Content-Type: text/plain; charset="us-ascii" ; format="flowed"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi Matt,

  Thanks!! :-)
 
  Pointers for Rockit look interesting. I'm having some degree of 
success with JVM 1.3.1_.10 from Sun -- I think there is a trick to 
get the tenuring stuff to work right, just a matter of finding the 
right balance of Eden/Old/Survivor space...

  Cheers,
    Winton

Winton Davies
Lead Engineer, Overture (NSDQ: OVER)
1820 Gateway Drive, Suite 360
San Mateo, CA 94404
work: (650) 403-2259
cell: (650) 867-1598
http://www.overture.com/

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-473-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Wed Nov 28 22:35:07 2001
Return-Path: <lucene-user-return-473-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 83422 invoked from network); 28 Nov 2001 22:35:07 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 28 Nov 2001 22:35:07 -0000
Received: (qmail 23651 invoked by uid 97); 28 Nov 2001 22:35:12 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 23635 invoked by uid 97); 28 Nov 2001 22:35:12 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 23624 invoked from network); 28 Nov 2001 22:35:11 -0000
Message-ID: <019b01c1785c$c08aa2c0$0100a8c0@medusa>
From: "Philipp Chudinov" <morpheus@basko.ru>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <20011128210348.B1B203C1B2@darksleep.com>
Subject: should non-English docs be indexed as UTF-8 encoded?
Date: Thu, 29 Nov 2001 03:33:36 +0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="koi8-r"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.50.4133.2400
X-MimeOLE: Produced By Microsoft MimeOLE V5.50.4133.2400
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi!
I have some xml documents (encoded as windows-1251(russian)). Should they be
converted to UTF-8 encoded documents to be indexed? Or I can index them in
windows-1251 and just encode query (search) string to UTF-8?


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-474-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Nov 29 02:28:42 2001
Return-Path: <lucene-user-return-474-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 77992 invoked from network); 29 Nov 2001 02:28:42 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 29 Nov 2001 02:28:42 -0000
Received: (qmail 9144 invoked by uid 97); 29 Nov 2001 02:28:48 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 9107 invoked by uid 97); 29 Nov 2001 02:28:47 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 9096 invoked from network); 29 Nov 2001 02:28:46 -0000
Message-ID: <008e01c17896$a290a320$aa59c00a@cnew>
From: "Cecil, Paula New" <cnew@fuse.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <4BC270C6AB8AD411AD0B00B0D0493DF0EE7D27@mail.grandcentral.com>
Subject: Attribute Search Bug
Date: Wed, 28 Nov 2001 21:28:10 -0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.00.2615.200
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2615.200
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

This program illustrates what may be a bug.  It creates an index, a document
with two fields.  The second field is the problem.  I use the Field
constructor to make a field that is not stored, is indexed, not tokenized
(there is no factory method for this combination).

The program then queries on the second field and no hits are returned.

import java.io.File;
import java.io.IOException;
import java.io.OutputStream;
import java.util.*;

import org.apache.lucene.analysis.SimpleAnalyzer;
import org.apache.lucene.index.IndexWriter;
import org.apache.lucene.document.*;
import org.apache.lucene.search.*;
import org.apache.lucene.queryParser.QueryParser;

public class Bug1 {
  public static void main(String[] args) throws Exception {
    String indexPath = "./bugdex";
    String fieldName = "catno";
    String fieldValue= "AB12-42 2X";
    IndexWriter writer;

    // An index is created by opening an IndexWriter with the
    // create argument set to true.
    writer = new IndexWriter(indexPath, null, true);
    writer.close();

    // now index a document
    try {
      writer = new IndexWriter(indexPath, new SimpleAnalyzer(), false);

      Document doc = new Document();
      // add id as unindexed - can't search, but it is stored
      doc.add(Field.UnIndexed("id", "12345"));
      doc.add(new Field(fieldName,fieldValue,false,true,false));
      writer.addDocument(doc);
      writer.close();

    } catch (Exception e) {
        e.printStackTrace();
    }

    // now make a query and search for document
    Searcher searcher = new IndexSearcher(indexPath);
    Query query = QueryParser.parse(fieldValue, fieldName,
                              new SimpleAnalyzer());
    Hits hits = searcher.search(query);
    for (int i=0; i<hits.length(); i++) {
      System.out.println(
        "id "+hits.doc(i).get("id") + "; Score: " + hits.score(i));
    }
    System.out.println("\nNumber of hits: "+ hits.length());
  }
}



----- Original Message -----
From: Doug Cutting <DCutting@grandcentral.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Sent: Monday, November 26, 2001 2:42 PM
Subject: RE: Attribute Search


> > From: New, Cecil (GEAE) [mailto:cecil.new@ae.ge.com]
> >
> > this is exactly what I was doing.  Store=false, index=true,
> > and token=false.
> >
> > It appeared to work ok, but searches *never* returned any hits.
> >
> > That's why I suspect it is a bug.
>
> If you think this is a bug, please submit a test case, as a simple class
> whose 'main()' method illustrates the problem.
>
> Doug
>
> --
> To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>
>



--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-475-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Nov 29 05:09:48 2001
Return-Path: <lucene-user-return-475-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 32046 invoked from network); 29 Nov 2001 05:09:48 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 29 Nov 2001 05:09:48 -0000
Received: (qmail 13057 invoked by uid 97); 29 Nov 2001 05:09:58 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 13009 invoked by uid 97); 29 Nov 2001 05:09:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 12988 invoked from network); 29 Nov 2001 05:09:56 -0000
Mime-Version: 1.0
X-Sender: wintondavies@mail.earthlink.net
Message-Id: <v0420550bb82b72131c1d@[172.18.106.130]>
In-Reply-To: <v0420550ab82b1611813c@[172.18.106.130]>
References: <002001c17859$0034b040$f301a8c0@zeus>
 <v0420550ab82b1611813c@[172.18.106.130]>
Date: Wed, 28 Nov 2001 21:09:18 -0800
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
From: Winton Davies <wdavies@overture.com>
Subject: Parallelising a query...
Content-Type: text/plain; charset="us-ascii" ; format="flowed"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,
 
   Let say I want to retrieve all relevant listings for a query (just 
suppose)...

   I have 4 million documents... I could:
 
   Split these into 4 x 1 million document indexes  and then send a 
query to 4 Lucene processes ? At the end I would have to sort the 
results by relevance.

   Question for Doug or any other Search Engine guru -- would this 
reduce the time to find these results by 75% ?
 
   I know it is probably a hard question to answer (i.e. all the 
documents that match, might just be in one process...) but I'm more 
getting at the average length of the inverted indexes that have to be 
joined being reduced by 75%, hence the join should take only 25% of 
the time...

  Any thoughts on this idiocy ? Reason why I ask ? Well, lets say I 
can't fit a 4 million document RamDir index into 1GB heap space, but 
I could if I split it up :) ?

   Cheers,
    Winton
 

 
 
 

Winton Davies
Lead Engineer, Overture (NSDQ: OVER)
1820 Gateway Drive, Suite 360
San Mateo, CA 94404
work: (650) 403-2259
cell: (650) 867-1598
http://www.overture.com/

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-476-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Nov 29 11:49:45 2001
Return-Path: <lucene-user-return-476-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 16155 invoked from network); 29 Nov 2001 11:49:45 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 29 Nov 2001 11:49:45 -0000
Received: (qmail 19124 invoked by uid 97); 29 Nov 2001 11:49:34 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 19108 invoked by uid 97); 29 Nov 2001 11:49:33 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 1945 invoked from network); 29 Nov 2001 09:19:53 -0000
Content-Type: text/plain;
  charset="iso-8859-1"
From: Chantal Ackermann <chantal.ackermann@biomax.de>
Reply-To: chantal.ackermann@biomax.de
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: OutOfMemoryError
Date: Thu, 29 Nov 2001 10:20:50 +0100
X-Mailer: KMail [version 1.2]
References: <01112813225107.00645@guffert> <v04205500b82ae7f07759@[172.18.106.137]>
In-Reply-To: <v04205500b82ae7f07759@[172.18.106.137]>
MIME-Version: 1.0
Message-Id: <01112910205000.00718@guffert>
Content-Transfer-Encoding: 8bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

hi Ian, hi Winton, hi all,

sorry I meant heap size of 100Mb. I'm  starting java with -Xmx100m. I'm not 
setting -Xms.

For what I know now, I had a bug in my own code. still I don't understand 
where these OutOfMemoryErrors came from. I will try to index again in one 
thread without RAMDirectory just to check if the program is sane.

the problem that the files get to big while merging remains. I wonder why 
there is not the possibility to tell lucene not to create files that are 
bigger than the system limit. how am i supposed to know after how many 
documents this limit is reached? lucene creates the documents - i just know 
the average size of a piece of text that is the input for a document. or am I 
missing something?!

chantal

Am Mittwoch, 28. November 2001 20:14 schrieben Sie:
> Were you using -mx and -ms (setting heap size ?)
>
>   Cheers,
>    Winton
>
> >As I run the program on a multi-processor machine I now changed the code
> > to index each file in a single thread and write to one single
> > IndexWriter. the merge factor is still at 10. maxMergeDocs is at
> > 1.000.000. I set the maximum heap size to 1MB.
> >

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-477-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Nov 29 12:00:59 2001
Return-Path: <lucene-user-return-477-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 23768 invoked from network); 29 Nov 2001 12:00:59 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 29 Nov 2001 12:00:59 -0000
Received: (qmail 13653 invoked by uid 97); 29 Nov 2001 12:00:57 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 13631 invoked by uid 97); 29 Nov 2001 12:00:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 13608 invoked from network); 29 Nov 2001 12:00:51 -0000
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Re: io exception on recreating an index
References: <20011128210348.B1B203C1B2@darksleep.com>
From: Geir Ove Grnmo <grove@ontopia.net>
Content-Type: text/plain; charset=iso8859-1
Content-Transfer-Encoding: 8bit
In-Reply-To: <20011128210348.B1B203C1B2@darksleep.com>
Date: 29 Nov 2001 12:00:57 +0100
Message-ID: <GROVE-86lmgpzvrq.fsf@sandbox.ontopia.net>
Lines: 19
User-Agent: Gnus/5.0803 (Gnus v5.8.3) Emacs/20.7
MIME-Version: 1.0
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

* Steven J. Owens
| Kiran Kumar K.G <kiran.k@net-kraft.com> wrote:
| 
| > I'm currently having a problem overwriting an old index. Every
| > night, the contents of a database I'm using get updated, so the
| > lucene indexes are also recreated every night. The technique I'm
| > currently using is just to start a new index on top of the old one
| > (IndexWriter writer = new IndexWriter(filePath, new
| > StandardAnalyzer(), true) ) but sproatically I get an IO exception:
| > couldn't delete _2oil.fdt or something to that effect.
| 
|      I ran into this as well; I didn't get it on Solaris, just when I
| tried running it on a win2k laptop (didn't feel like being stuck at my
| desk all the time :-).  

Just for the record: I've also had this problem, but only on Windows
2000. It works just fine on Linux.

Geir O.

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-478-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Nov 29 12:10:23 2001
Return-Path: <lucene-user-return-478-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 28582 invoked from network); 29 Nov 2001 12:10:23 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 29 Nov 2001 12:10:23 -0000
Received: (qmail 2978 invoked by uid 97); 29 Nov 2001 12:10:22 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 2962 invoked by uid 97); 29 Nov 2001 12:10:22 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 2951 invoked from network); 29 Nov 2001 12:10:21 -0000
Sender: tril@pluto.blackwell.co.uk
Message-ID: <3C0625CF.65E9AE6A@blackwell.co.uk>
Date: Thu, 29 Nov 2001 12:10:55 +0000
From: Ian Lea <ian.lea@blackwell.co.uk>
X-Mailer: Mozilla 4.74 [en] (X11; U; Linux 2.2.16 i686)
X-Accept-Language: en
MIME-Version: 1.0
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Re: OutOfMemoryError
References: <01112813225107.00645@guffert> <v04205500b82ae7f07759@[172.18.106.137]> <01112910205000.00718@guffert>
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Doug sent the message below to the list on 3-Nov in response to
a query about file size limits.  There may have been more
related stuff on the thread as well.


--
Ian.


++++++++++++++++
>   *** Anyway, is there anyway to control how big the indexes 
> grow ? ****

The easiset thing is to set IndexWriter.maxMergeDocs. Since you hit 2GB at
8M docs, set this to 7M.  That will keep Lucene from trying to merge an
index that won't fit in your filesystem.  (It will actually effectively
round this down to the next lower power of Index.mergeFactor.  So with the
default mergeFactor=10, maxMergeDocs=7M will generate a series of 1M
document indexes, since merging 10 of these would exceed the max.)

Slightly more complex: you could further minimize the number of segments,
if, when you've added seven million documents, optimize the index and start
a new index.  Then use MultiSearcher to search.

Even more complex and optimal: write a version of FSDirectory that, when a
file exceeds 2GB, creates a subdirectory and represents the file as a series
of files.  (I've done this before, and found that, on at least the version
of Solaris that I was using, the files had to be a few 100k less than 2GB
for programs like 'cp' and 'ftp' to operate correctly on them.)

Doug
--------------------



Chantal Ackermann wrote:
> 
> hi Ian, hi Winton, hi all,
> 
> sorry I meant heap size of 100Mb. I'm  starting java with -Xmx100m. I'm not
> setting -Xms.
> 
> For what I know now, I had a bug in my own code. still I don't understand
> where these OutOfMemoryErrors came from. I will try to index again in one
> thread without RAMDirectory just to check if the program is sane.
> 
> the problem that the files get to big while merging remains. I wonder why
> there is not the possibility to tell lucene not to create files that are
> bigger than the system limit. how am i supposed to know after how many
> documents this limit is reached? lucene creates the documents - i just know
> the average size of a piece of text that is the input for a document. or am I
> missing something?!
> 
> chantal

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-479-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Nov 29 15:41:07 2001
Return-Path: <lucene-user-return-479-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 91888 invoked from network); 29 Nov 2001 15:41:07 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 29 Nov 2001 15:41:07 -0000
Received: (qmail 6760 invoked by uid 97); 29 Nov 2001 15:41:08 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 6744 invoked by uid 97); 29 Nov 2001 15:41:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 6719 invoked from network); 29 Nov 2001 15:41:06 -0000
From: "Antonio Vazquez" <antonio_listas@yahoo.es>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Indexing other documents type than html and txt
Date: Thu, 29 Nov 2001 16:40:45 +0100
Message-ID: <FJEFIJLDFAOIGNEONJFLKEKIDNAA.antonio_listas@yahoo.es>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


Hi all,
I have a doubt. I know that lucene can index html and text documents, but
can it index other type of documents like pdf,docs, and xls documents? if it
can, how can I implement it? Perhaps can implement it like html and txt
indexing?

regards

Antonio


_________________________________________________________
Do You Yahoo!?
Get your free @yahoo.com address at http://mail.yahoo.com


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-480-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Nov 29 15:48:27 2001
Return-Path: <lucene-user-return-480-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 95225 invoked from network); 29 Nov 2001 15:48:27 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 29 Nov 2001 15:48:27 -0000
Received: (qmail 14221 invoked by uid 97); 29 Nov 2001 15:48:24 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 14202 invoked by uid 97); 29 Nov 2001 15:48:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 14188 invoked from network); 29 Nov 2001 15:48:22 -0000
Message-ID: <20011129154823.94176.qmail@web12702.mail.yahoo.com>
Date: Thu, 29 Nov 2001 07:48:23 -0800 (PST)
From: Otis Gospodnetic <otis_gospodnetic@yahoo.com>
Subject: Re: Indexing other documents type than html and txt
To: Lucene Users List <lucene-user@jakarta.apache.org>
In-Reply-To: <FJEFIJLDFAOIGNEONJFLKEKIDNAA.antonio_listas@yahoo.es>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

You'd have to write parsers for each of those document types to convert
it to text and then index it.
Sure, you can feed it something like XML, but then you may consider
something like xmldb.org instead.

Otis

--- Antonio Vazquez <antonio_listas@yahoo.es> wrote:
> 
> Hi all,
> I have a doubt. I know that lucene can index html and text documents,
> but
> can it index other type of documents like pdf,docs, and xls
> documents? if it
> can, how can I implement it? Perhaps can implement it like html and
> txt
> indexing?
> 
> regards
> 
> Antonio
> 
> 
> _________________________________________________________
> Do You Yahoo!?
> Get your free @yahoo.com address at http://mail.yahoo.com
> 
> 
> --
> To unsubscribe, e-mail:  
> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
> <mailto:lucene-user-help@jakarta.apache.org>
> 


__________________________________________________
Do You Yahoo!?
Yahoo! GeoCities - quick and easy web site hosting, just $8.95/month.
http://geocities.yahoo.com/ps/info1

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-481-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Nov 29 16:13:53 2001
Return-Path: <lucene-user-return-481-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 17329 invoked from network); 29 Nov 2001 16:13:52 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 29 Nov 2001 16:13:52 -0000
Received: (qmail 9066 invoked by uid 97); 29 Nov 2001 16:13:53 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 9050 invoked by uid 97); 29 Nov 2001 16:13:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 9039 invoked from network); 29 Nov 2001 16:13:52 -0000
Message-ID: <BD961D4D4634D511BB990050DA1CE12C6175F6@winexch02.rippe.com>
From: "Weaver, Scott" <Sweaver@rippe.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Subject: Using Lucene to index a DataBase
Date: Thu, 29 Nov 2001 11:17:21 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: text/plain;
	charset="windows-1252"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I've used Verity in Cold Fusion to index Databases.  Is this possible with
Lucene?  From recent posts, it looks like I would have to write a custom
parser to convert each row into a text document.  Am I correct in thinking
this?

Scott

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-482-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Nov 29 16:26:58 2001
Return-Path: <lucene-user-return-482-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 30210 invoked from network); 29 Nov 2001 16:26:56 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 29 Nov 2001 16:26:56 -0000
Received: (qmail 24111 invoked by uid 97); 29 Nov 2001 16:26:57 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 24095 invoked by uid 97); 29 Nov 2001 16:26:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 24061 invoked from network); 29 Nov 2001 16:26:53 -0000
Message-ID: <008601c178f2$98ba75e0$6401a8c0@PROVIDENCE>
From: "Jeff Trent" <jtrent@structsoft.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <BD961D4D4634D511BB990050DA1CE12C6175F6@winexch02.rippe.com>
Subject: Re: Using Lucene to index a DataBase
Date: Thu, 29 Nov 2001 11:26:27 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="Windows-1252"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2462.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2462.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Not really.  A document in Lucene is a logical entity comprising named
fields.  So a row in the db would probably be represented as a Lucene
document.  Each [searchable] column on the table would be represented as a
field of the document.  However, you may find it necessary to build psuedo
fields in Lucene that span multiple columns in the database if you want to
do complex queries across multiple fields since in Lucene you typically need
to preface your search keywords with the field they are located in (eg.
Field1:SearchKey).


----- Original Message -----
From: "Weaver, Scott" <Sweaver@rippe.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Thursday, November 29, 2001 11:17 AM
Subject: Using Lucene to index a DataBase


> I've used Verity in Cold Fusion to index Databases.  Is this possible with
> Lucene?  From recent posts, it looks like I would have to write a custom
> parser to convert each row into a text document.  Am I correct in thinking
> this?
>
> Scott
>
> --
> To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>
>
>


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-483-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Nov 29 16:39:54 2001
Return-Path: <lucene-user-return-483-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 50403 invoked from network); 29 Nov 2001 16:39:54 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 29 Nov 2001 16:39:54 -0000
Received: (qmail 16051 invoked by uid 97); 29 Nov 2001 16:39:45 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 15993 invoked by uid 97); 29 Nov 2001 16:39:44 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 415 invoked from network); 29 Nov 2001 14:26:33 -0000
From: "Antonio Vazquez" <avazquez@cystelcom.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: Indexing other documents type than html and txt
Date: Thu, 29 Nov 2001 15:26:08 +0100
Message-ID: <FJEFIJLDFAOIGNEONJFLEEKIDNAA.avazquez@cystelcom.com>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
Importance: Normal
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi all,
I have a doubt. I know that lucene can index html and text documents, but
can it index other type of documents like pdf,docs, and xls documents? if it
can, how can I implement it? Perhaps can implement it like html and txt
indexing?

regards

Antonio


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-484-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Nov 29 16:46:40 2001
Return-Path: <lucene-user-return-484-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 60195 invoked from network); 29 Nov 2001 16:46:39 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 29 Nov 2001 16:46:39 -0000
Received: (qmail 25461 invoked by uid 97); 29 Nov 2001 16:46:38 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 25419 invoked by uid 97); 29 Nov 2001 16:46:36 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25393 invoked from network); 29 Nov 2001 16:46:34 -0000
Subject: Re: OutOfMemoryError
In-Reply-To: <01112910205000.00718@guffert>
To: Lucene Users List <lucene-user@jakarta.apache.org>,
	chantal.ackermann@biomax.de
Date: Thu, 29 Nov 2001 11:46:03 -0500 (EST)
X-Mailer: ELM [version 2.4ME+ PL94 (25)]
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset=US-ASCII
Message-Id: <20011129164603.A8BA33C1B3@darksleep.com>
From: puffmail@darksleep.com (Steven J. Owens)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Chantal,
> For what I know now, I had a bug in my own code. still I don't understand 
> where these OutOfMemoryErrors came from. I will try to index again in one 
> thread without RAMDirectory just to check if the program is sane.

     Java often has misleading error messages.  For example, on
solaris machines the default ulimit used to be 24 - that's 24 open
file handles!  Yeesh. This will cause an OutOfMemoryError.  So don't
assume it's actually a memory problem, particularly if a memory
problem doesn't particularly make sense.  Just a thought.

Steven J. Owens
puff@darksleep.com

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-485-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Nov 29 17:03:59 2001
Return-Path: <lucene-user-return-485-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 71142 invoked from network); 29 Nov 2001 17:03:59 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 29 Nov 2001 17:03:59 -0000
Received: (qmail 9541 invoked by uid 97); 29 Nov 2001 17:03:58 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 9520 invoked by uid 97); 29 Nov 2001 17:03:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 9439 invoked from network); 29 Nov 2001 17:03:55 -0000
From: carlson@bookandhammer.com
Errors-To: <carlson@bookandhammer.com>
Date: Thu, 29 Nov 2001 09:03:52 -0800
Subject: Re: Indexing other documents type than html and txt (XML)
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v475)
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <20011129154823.94176.qmail@web12702.mail.yahoo.com>
Message-Id: <10D0D8AB-E4EB-11D5-B170-0050E4C0B243@bookandhammer.com>
X-Mailer: Apple Mail (2.475)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I have started to create a set of generic lucene document types that can 
be easily manipulated depending on the fields.
I know other have generated Documents out of PDF.
Is there some place we can add contributed classes to the lucene web 
page?

Here my current version of the XMLDocument based on . It's a bit slow.
It uses a path (taken from Document example) and based on a field name / 
xpath pair (key / value) from either an array or property file generates
an appropriate lucene document with the specified fields.

I have not tested all permutations of Document (I have used the File, 
Properties) and it works.

Note:
It uses the xalan example ApplyXpath class to get the xml xpath.

I hope this helps.

--Peter

--------------------------------------------------

package xxx.lucene.xml;

import org.apache.lucene.document.Document;
import org.apache.lucene.document.Field;
import org.apache.lucene.document.DateField;

import org.apache..../ApplyXpath;
import java.util.Properties;
import java.io.File;
import java.util.Enumeration;
import java.io.FileInputStream;

/**
* A utility for making lucene document from an XML source and a set of 
xpaths
* based on Document example from Lucene
*
*/
public class XMLDocument
{
	private XMLDocument() { }

         /**
          * @param file Document that to be converted to a lucene document
          * @param propertyList properties where the key is the field 
name and the value is the
          * XML xpath.
          * @throws FileNotFoundException
          * @throws Exception
          * @return lucene document
          */
	public static Document Document (File file, Properties propertyList)
	throws java.io.FileNotFoundException , Exception
	{
		Document doc = new Document();
		
		// add path
		doc.add(Field.Text("path", file.getPath()));
		
		//add date modified
		doc.add(Field.Keyword("modified", 
DateField.timeToString(file.lastModified())));
		
		//add field list in property list
		 Enumeration e = propertyList.propertyNames();
		 while (e.hasMoreElements())
		 {
		 	String key = (String) e.nextElement();
		 	String xpath = propertyList.getProperty(key);
		 	String[] valueArray = ApplyXpath(file.getPath(),xpath);
		 	StringBuffer value = new StringBuffer("");
		 	for (int i=0; i < valueArray.length; i++)
		 	{
		 		value.append(valueArray[i]);
		 	}
		 	//System.out.println("add key "+key+" wtih value = "+value);
                         filter(key,value);
		 	doc.add(Field.Text(key,value.toString()));
		 }
		
		 return doc;
	}

         /**
          * @return lucene document
          * @param fieldNames field names for the lucene document
          * @param file Document that to be converted to a lucene document
          * @param xpaths XML xpaths for the information you want to get
          * @throws Exception
          */
         public static Document Document(File file, java.lang.String[] 
fieldNames, java.lang.String[] xpaths)
         {
             if (fieldNames.length != xpaths.length)
             {
                 throw new IllegalArgumentException ("String arrays are 
not equal size");
             }

             Properties propertyList = new Properties();

             // generate properties from the arrays
             for (int i=0;i<fieldNames.length;i++) {
                 propertyList.setProperty(fieldNames[i],xpaths[i]);
             }

             Document doc = Document (file, propertyList);
             return doc;
         }

         /**
          * @param path path of the Document that to be converted to a 
lucene document
          * @param keys
          * @param xpaths
          * @throws Exception
          * @return
          */
         public static Document Document(String path, String[] 
fieldNames, String[] xpaths)
         throws Exception
         {
             File file = new File(path);
             Document doc = Document (file, fieldNames, xpaths);
             return doc;
         }

         /**
          * @param path path of document you want to convert to a lucene 
document
          * @param propertyList properties where the key is the field 
name and the value is the
          * XML xpath.
          * @throws Exception
          * @return lucene document
          */
         public static Document Document(String path, Properties 
propertyList)
         throws Exception
         {
             File file = new File(path);
             Document doc = Document (file, propertyList);
             return doc;
         }

         /**
          * @param documentPath path of the Document that to be converted 
to a lucene document
          * @param propertyPath path of file containing properties where 
the key is the field name and the value is the
          * XML xpath.
          * @throws Exception
          * @return
          */
         public static Document Document(String documentPath, String 
propertyPath)
         throws Exception
         {
             File file = new File(documentPath);
             FileInputStream fis = new FileInputStream(propertyPath);
             Properties propertyList = new Properties();
             propertyList.load(fis);
             Document doc = Document (file, propertyList);
             return doc;
         }

         /**
          * @param documentFile Document that to be converted to a lucene 
document
          * @param propertyFile file containing properties where the key 
is the field name and the value is the
          * XML xpath.
          * @throws Exception
          * @return
          */
         public static Document Document(File documentFile, File 
propertyFile)
         throws Exception
         {
             FileInputStream fis = new FileInputStream(propertyFile);
             Properties propertyList = new Properties();
             propertyList.load(fis);
             Document doc = Document (documentFile, propertyList);
             return doc;
         }

         private static String filter(String key, StringBuffer value) {
             String newValue;
             newValue = value.toString();
             return newValue;
         }
}


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-486-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Nov 29 17:05:27 2001
Return-Path: <lucene-user-return-486-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 72755 invoked from network); 29 Nov 2001 17:05:27 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 29 Nov 2001 17:05:27 -0000
Received: (qmail 10666 invoked by uid 97); 29 Nov 2001 17:05:29 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 10630 invoked by uid 97); 29 Nov 2001 17:05:28 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 10591 invoked from network); 29 Nov 2001 17:05:26 -0000
Message-ID: <4BC270C6AB8AD411AD0B00B0D0493DF0EE7D39@mail.grandcentral.com>
From: Doug Cutting <DCutting@grandcentral.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Parallelising a query...
Date: Thu, 29 Nov 2001 08:52:45 -0800
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> From: Winton Davies [mailto:wdavies@overture.com]
> 
>    I have 4 million documents... I could:
>  
>    Split these into 4 x 1 million document indexes  and then send a 
> query to 4 Lucene processes ? At the end I would have to sort the 
> results by relevance.
> 
>    Question for Doug or any other Search Engine guru -- would this 
> reduce the time to find these results by 75% ?

It could, if you have four processors and four disk drives and things work
out optimally.

If you have a single machine with multiple processors and/or a disk array,
and your CPU or i/o are not already maxed out, then multi-threading is a
good way to make searches faster.  To implement this I would write something
like MultiSearcher, but that runs each sub-search in a separate thread, a
ThreadedMultiSearcher.

If you instead have several machines that you would like to spread search
load over, then you could use RMI to send queries to these machines.  I
would first implement the single-machine version, ThreadedMultiSearcher,
then implement a RemoteSearcher class, that forwards Searcher methods via
RMI to a Searcher object on another machine.  Then to spread load across
machines, construct a ThreadedMultiSearcher and populate it with
RemoteSearcher instances pointing at the different machines.

The Searcher API was designed with this sort of thing in mind.  Note though
that HitCollector-based searching is not a good candidate for RMI, since it
does a callback for every document.  Stick to the TopDocs-based search
method.  You'll also need to forward docFreq(Term) and maxDoc(), used to
weight the query before searching, and doc(int), used to fetch hit
documents.  Probably these should be abstracted into a separate interface,
Searchable.

Doug

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-487-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Nov 29 17:05:31 2001
Return-Path: <lucene-user-return-487-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 72789 invoked from network); 29 Nov 2001 17:05:31 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 29 Nov 2001 17:05:31 -0000
Received: (qmail 10955 invoked by uid 97); 29 Nov 2001 17:05:33 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 10927 invoked by uid 97); 29 Nov 2001 17:05:31 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 10911 invoked from network); 29 Nov 2001 17:05:30 -0000
Message-ID: <E88CD2F0B652D31197680090279895550BDB6BB4@ev002msxaege.ae.ge.com>
From: "New, Cecil (GEAE)" <cecil.new@ae.ge.com>
To: "Lucene Users List (E-mail)" <lucene-user@jakarta.apache.org>
Subject: Transactional Indexing
Date: Thu, 29 Nov 2001 12:10:13 -0500
X-Mailer: Internet Mail Service (5.5.2653.19)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I have noticed that when I kill/interrupt an indexing process, that it
leaves a "lock" file, preventing further indexing.

This raises a couple of questions:
a. When I simply delete the file and restart the indexing, it seems to work.
Is there a risk in doing this?

b. Can indexing be done in a concurrent fashion?  For example, allowing
multiple uploading of files over the web and doing incremental indexing as
they arrive.  In this situation, you may have several documents that need to
be indexed simultaneously.

Also I have seen some mention of a mailing list archive... how does one find
it or search it?  I do not see a reference at apache.org.

Thanks

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-488-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Nov 29 17:06:39 2001
Return-Path: <lucene-user-return-488-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 73926 invoked from network); 29 Nov 2001 17:06:39 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 29 Nov 2001 17:06:39 -0000
Received: (qmail 11376 invoked by uid 97); 29 Nov 2001 17:06:41 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 11360 invoked by uid 97); 29 Nov 2001 17:06:41 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 11349 invoked from network); 29 Nov 2001 17:06:40 -0000
Message-ID: <009a01c178f8$2a3d0870$6401a8c0@PROVIDENCE>
From: "Jeff Trent" <jtrent@structsoft.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>,
	<chantal.ackermann@biomax.de>
References: <20011129164603.A8BA33C1B3@darksleep.com>
Subject: Re: OutOfMemoryError
Date: Thu, 29 Nov 2001 12:06:18 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2462.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2462.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Wow.  I did not know that!

I also don't see an option to increase that limit from java -X.  Do you know
how to increase that limit?

----- Original Message -----
From: "Steven J. Owens" <puffmail@darksleep.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>;
<chantal.ackermann@biomax.de>
Sent: Thursday, November 29, 2001 11:46 AM
Subject: Re: OutOfMemoryError


> Chantal,
> > For what I know now, I had a bug in my own code. still I don't
understand
> > where these OutOfMemoryErrors came from. I will try to index again in
one
> > thread without RAMDirectory just to check if the program is sane.
>
>      Java often has misleading error messages.  For example, on
> solaris machines the default ulimit used to be 24 - that's 24 open
> file handles!  Yeesh. This will cause an OutOfMemoryError.  So don't
> assume it's actually a memory problem, particularly if a memory
> problem doesn't particularly make sense.  Just a thought.
>
> Steven J. Owens
> puff@darksleep.com
>
> --
> To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>
>
>


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-489-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Nov 29 17:12:00 2001
Return-Path: <lucene-user-return-489-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 77150 invoked from network); 29 Nov 2001 17:12:00 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 29 Nov 2001 17:12:00 -0000
Received: (qmail 17300 invoked by uid 97); 29 Nov 2001 17:10:28 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 17232 invoked by uid 97); 29 Nov 2001 17:10:26 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 17130 invoked from network); 29 Nov 2001 17:10:25 -0000
Message-ID: <4BC270C6AB8AD411AD0B00B0D0493DF0EE7D3A@mail.grandcentral.com>
From: Doug Cutting <DCutting@grandcentral.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Transactional Indexing
Date: Thu, 29 Nov 2001 08:57:46 -0800
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> From: New, Cecil (GEAE) [mailto:cecil.new@ae.ge.com]
> 
> I have noticed that when I kill/interrupt an indexing process, that it
> leaves a "lock" file, preventing further indexing.
> 
> This raises a couple of questions:
> a. When I simply delete the file and restart the indexing, it 
> seems to work.
> Is there a risk in doing this?

No, there is no risk.  The index is never inconsistent, so long as only a
single process is modifying it.  Removing lock files is the standard
crash-recovery method for Lucene.

> b. Can indexing be done in a concurrent fashion?  For 
> example, allowing
> multiple uploading of files over the web and doing 
> incremental indexing as
> they arrive.  In this situation, you may have several 
> documents that need to
> be indexed simultaneously.

Lucene only supports index modification by a single process and using a
single IndexWriter object.  However, the index update code is thread safe,
so that many threads may use the same IndexWriter instance concurrently to
add documents.

Doug

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-490-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Nov 29 17:33:06 2001
Return-Path: <lucene-user-return-490-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 1963 invoked from network); 29 Nov 2001 17:33:05 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 29 Nov 2001 17:33:05 -0000
Received: (qmail 25187 invoked by uid 97); 29 Nov 2001 17:33:07 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 25171 invoked by uid 97); 29 Nov 2001 17:33:07 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25159 invoked from network); 29 Nov 2001 17:33:06 -0000
Message-ID: <4BC270C6AB8AD411AD0B00B0D0493DF0EE7D3B@mail.grandcentral.com>
From: Doug Cutting <DCutting@grandcentral.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Attribute Search Bug
Date: Thu, 29 Nov 2001 09:20:27 -0800
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Thanks for the test case.

The problem is using SimpleAnalyzer when you parse your query.
SimpleAnalyzer uses LetterTokenizer, which turns your query for "AB12-42 2X"
into a two term query containing "ab" and "x".  Since there are no instances
of the terms "ab" or "x" in your index, no documents are returned.

You either need to use a different Analyzer, one that knows that knows how
to tokenized the "catno" field, or don't use the query parser to construct
your query.

For example, if you instead construct your query as:
  Query query = new TermQuery(new Term(fieldName, fieldValue));
then your document is found.

Note that you can combine such manually-constructed queries with queries
from the query parser by adding both to a BooleanQuery:
  Query q2 = QueryParser.parse(....);
  BooleanQuery finalQuery = new BooleanQuery();
  finalQuery.add(query, true, false);
  finalQuery.add(q2, true, false);
  Hits hits = searcher.search(finalQuery);

Doug

> -----Original Message-----
> From: Cecil, Paula New [mailto:cnew@fuse.net]
> Sent: Wednesday, November 28, 2001 9:28 PM
> To: Lucene Users List
> Subject: Attribute Search Bug
> 
> 
> This program illustrates what may be a bug.  It creates an 
> index, a document
> with two fields.  The second field is the problem.  I use the Field
> constructor to make a field that is not stored, is indexed, 
> not tokenized
> (there is no factory method for this combination).
> 
> The program then queries on the second field and no hits are returned.
> 
> import java.io.File;
> import java.io.IOException;
> import java.io.OutputStream;
> import java.util.*;
> 
> import org.apache.lucene.analysis.SimpleAnalyzer;
> import org.apache.lucene.index.IndexWriter;
> import org.apache.lucene.document.*;
> import org.apache.lucene.search.*;
> import org.apache.lucene.queryParser.QueryParser;
> 
> public class Bug1 {
>   public static void main(String[] args) throws Exception {
>     String indexPath = "./bugdex";
>     String fieldName = "catno";
>     String fieldValue= "AB12-42 2X";
>     IndexWriter writer;
> 
>     // An index is created by opening an IndexWriter with the
>     // create argument set to true.
>     writer = new IndexWriter(indexPath, null, true);
>     writer.close();
> 
>     // now index a document
>     try {
>       writer = new IndexWriter(indexPath, new 
> SimpleAnalyzer(), false);
> 
>       Document doc = new Document();
>       // add id as unindexed - can't search, but it is stored
>       doc.add(Field.UnIndexed("id", "12345"));
>       doc.add(new Field(fieldName,fieldValue,false,true,false));
>       writer.addDocument(doc);
>       writer.close();
> 
>     } catch (Exception e) {
>         e.printStackTrace();
>     }
> 
>     // now make a query and search for document
>     Searcher searcher = new IndexSearcher(indexPath);
>     Query query = QueryParser.parse(fieldValue, fieldName,
>                               new SimpleAnalyzer());
>     Hits hits = searcher.search(query);
>     for (int i=0; i<hits.length(); i++) {
>       System.out.println(
>         "id "+hits.doc(i).get("id") + "; Score: " + hits.score(i));
>     }
>     System.out.println("\nNumber of hits: "+ hits.length());
>   }
> }
> 
> 
> 
> ----- Original Message -----
> From: Doug Cutting <DCutting@grandcentral.com>
> To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
> Sent: Monday, November 26, 2001 2:42 PM
> Subject: RE: Attribute Search
> 
> 
> > > From: New, Cecil (GEAE) [mailto:cecil.new@ae.ge.com]
> > >
> > > this is exactly what I was doing.  Store=false, index=true,
> > > and token=false.
> > >
> > > It appeared to work ok, but searches *never* returned any hits.
> > >
> > > That's why I suspect it is a bug.
> >
> > If you think this is a bug, please submit a test case, as a 
> simple class
> > whose 'main()' method illustrates the problem.
> >
> > Doug
> >
> > --
> > To unsubscribe, e-mail:
> <mailto:lucene-user-unsubscribe@jakarta.apache.org>
> > For additional commands, e-mail:
> <mailto:lucene-user-help@jakarta.apache.org>
> >
> 
> 
> 
> --
> To unsubscribe, e-mail:   
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-491-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Nov 29 17:39:05 2001
Return-Path: <lucene-user-return-491-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 6749 invoked from network); 29 Nov 2001 17:39:05 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 29 Nov 2001 17:39:05 -0000
Received: (qmail 5416 invoked by uid 97); 29 Nov 2001 17:38:54 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 5250 invoked by uid 97); 29 Nov 2001 17:38:51 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 5074 invoked from network); 29 Nov 2001 17:38:47 -0000
Subject: Re: OutOfMemoryError
In-Reply-To: <009a01c178f8$2a3d0870$6401a8c0@PROVIDENCE>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Date: Thu, 29 Nov 2001 12:38:21 -0500 (EST)
Cc: chantal.ackermann@biomax.de
X-Mailer: ELM [version 2.4ME+ PL94 (25)]
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Type: text/plain; charset=US-ASCII
Message-Id: <20011129173821.504973C1B3@darksleep.com>
From: puffmail@darksleep.com (Steven J. Owens)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I wrote:
> >      Java often has misleading error messages.  For example, on
> > solaris machines the default ulimit used to be 24 - that's 24 open
> > file handles!  Yeesh. This will cause an OutOfMemoryError.  So don't

Jeff Trent replied:
> Wow.  I did not know that!
> 
> I also don't see an option to increase that limit from java -X.  Do you know
> how to increase that limit?

     That's "used to be", I think it's larger on newer machines.  I
don't think there's a java command line option to set this, it's a
system limit.  The solaris command to check it is "ulimit".  To set it
for a given login process (assuming sufficient privileges) use "ulimit
number" (i.e.  "ulimit 128").  "ulimit -a" prints out all limits.

Steven J. Owens
puff@darksleep.com



--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-492-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Nov 29 17:46:46 2001
Return-Path: <lucene-user-return-492-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 18004 invoked from network); 29 Nov 2001 17:46:46 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 29 Nov 2001 17:46:46 -0000
Received: (qmail 15048 invoked by uid 97); 29 Nov 2001 17:46:29 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 14915 invoked by uid 97); 29 Nov 2001 17:46:27 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 14767 invoked from network); 29 Nov 2001 17:46:23 -0000
Message-ID: <903A7281CDB7D4118A5000500450BB0801F000@samoa.sitewaerts>
From: Christoph Breidert <breidert@sitewaerts.de>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: AW: lucene in applet
Date: Thu, 29 Nov 2001 18:47:56 +0100
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi folks,

I found a solution to use an index in an applet. The index files are =
stored
an an URL.

Since you cannot acces the disc on the client from an applet I used the
RAMDirectory. Here=B4s my code:

	//Variable to store the names of the indexfiles in   =20
	Stack stackFileNames =3D new Stack();

	//open the file with the filenames
	//you need this, because you cannot search a directory for files an
an URL
      URL source =3D new URL(getCodeBase(), "filenames.txt");
      BufferedReader in =3D new BufferedReader(new
InputStreamReader(source.openStream()));
      while(true)
      {
        String s =3D in.readLine();
        if(s=3D=3Dnull)
          break;
        stackFileNames.push(s);
      }
      in.close();

      //open the index
      while(!stackFileNames.empty())
      {
        String sFileName =3D (String)stackFileNames.pop();
        //streaming the file to the RAMDirectory
        org.apache.lucene.store.OutputStream os =3D
ramDir.createFile(sFileName);
        java.io.InputStream is =3D new URL(getCodeBase(),
"repository/"+sFileName).openStream();

        byte[] baBuffer =3D new byte[1024];
        while(true)
        {
          synchronized(baBuffer)
          {
            int iBytesRead =3D is.read(baBuffer);
            if (iBytesRead =3D=3D -1)
              break;
            os.writeBytes(baBuffer, iBytesRead);
          }
        }
        is.close();
        os.close();
      }

      //IndexReader
      IndexReader ir =3D IndexReader.open(ramDir);


With this I can perform searchen in the Applet. Work=B4s fine.


Have fun,=20

Christoph Breidert=20
www.sitewaerts.de

-----Urspr=FCngliche Nachricht-----
Von: Christoph Breidert [mailto:breidert@sitewaerts.de]
Gesendet: Montag, 26. November 2001 13:09
An: 'Lucene Users List'
Betreff: AW: lucene in applet


Hi Steven,

thanks for your reply.

Here is my szenario:
1) I want to grab a the website "xy.com" to the local disc at C:\xy
2) While exporting I want to index the content to C:\xy\index
3) I put applet.class at C:\xy\index

If I open that applet from the (file) location C:\xy\index it can =
access any
file in that=20
directory with a method like this one. This method reads the content of
sFile.

private String read(String sFileName)
{
    StringBuffer sb =3D new StringBuffer();
    try
    {
      URL source =3D new URL(getCodeBase(), sFileName);
      BufferedReader in =3D new BufferedReader(new
InputStreamReader(source.openStream()));
      while(true)
      {
        String s =3D in.readLine();
        if(s=3D=3Dnull)
          break;
        sb.append(s);
      }
      in.close();
    }
    catch(Exception e)
    {
	//errorhandling
    }
    return sb.toString();
}

It seems to me that the security-constraints of the sandbox do not =
prevent
me from using an applet=20
to open any file in the directory C:\xy\index. With this framework I =
can
nicely create an applet to
search an exported site.

It would be nice if lucene had the functionality to open content from =
an
URL.=20

Like in this little method above, there should not be any problem =
reading
the index files from the=20
URL and perfom a search with the content of these files?

>if you're retrieving the
>index file from a URL, why not just run the search at that URL?

I cannot run a JVM at C:\xy\index. For this I want to use the browser. =
This
gives me the possibility to
entirely grab a site and burn it on a CD maybe, and the index will =
still
work.

Yours,
Christoph Breidert

breidert@sitewaerts.de

-----Urspr=FCngliche Nachricht-----
Von: puffmail@darksleep.com [mailto:puffmail@darksleep.com]
Gesendet: Sonntag, 25. November 2001 20:27
An: Lucene Users List
Betreff: Re: lucene in applet


Christopher,

> I?m working on a site-grabber to wich I would like to add offline =
search
> funktionality. I experimented with lucene, and it covers all my =
needs. I?m
> planning to realize the search functionality with an applet.
>=20
> Problem: I cannot access the index created with lucene from my =
applet. The
> only way to access resources on a remote host (wich could be the
file-system
> as well) is with a stream.=20

     This sounds about right.  It's a question of the applet sandbox,
not of lucene itself.

     I've done a little applet work in the past; my general advice is
that a "site-grabber with offline search functionality" is not
compatible with the constraints an applet must run under.
Specifically applets have no access to the local file system, and
applets may only open network connections back to the server they were
downloaded from.

     I strongly suggest you ditch the applet aspect entirely, and
maybe look into sun's Java Web Start, which attempts to give you a
good combination of the features of an applet and an application.
=20
> //Something like this
> URL source =3D new URL(getCodeBase(), "path_to_index");
> BufferedReader in =3D new BufferedReader(new
> InputStreamReader(source.openStream()));
> ...
>=20
> >From what I tested lucene I found that the only possibilities to =
access
an
> existing index is directly with a 'org.apache.lucene.store.Directory' =
or a
> 'java.io.File' or a 'java.lang.String' containing the path to the =
index.

     What you say in this sentence could be rewritten more correctly
as, "it is only possible to access an existing index stored on a disk
by using one of three classes that access the disk."  Do you see the
tautology there?

> It seems to me that maybe lucene should add this possibility to =
access an
> index?

     You do bring up one interesting possibility, which is that
perhaps Lucene should have some option to retrieve an index file from
a URL.  I'm not sure how wise this would be - if you're retrieving the
index file from a URL, why not just run the search at that URL? - but
it's something to consider.  You should think carefully about what
your goal is, and whether such an approach would help, and do a little
experimentation with the lucene code - after all, you have the source,
so you can create a new class to load an index from some remote
location.  If you have good results, maybe post the code here.

Steven J. Owens
puff@darksleep.com


--
To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>

<<<<<<<<<<<<<<<<<<<<<<<<<<<
sitewaerts GmbH
Hebelstra=DFe 15
D-76133 Karlsruhe

Tel: +49 (721) 920 918 0
Fax: +49 (721) 920 918 29
http://www.sitewaerts.de
>>>>>>>>>>>>>>>>>>>>>>>>>>>



--
To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>

<<<<<<<<<<<<<<<<<<<<<<<<<<<
sitewaerts GmbH
Hebelstra=DFe 15
D-76133 Karlsruhe

Tel: +49 (721) 920 918 0
Fax: +49 (721) 920 918 29
http://www.sitewaerts.de
>>>>>>>>>>>>>>>>>>>>>>>>>>>



--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-493-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Nov 29 18:12:54 2001
Return-Path: <lucene-user-return-493-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 43377 invoked from network); 29 Nov 2001 18:12:54 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 29 Nov 2001 18:12:54 -0000
Received: (qmail 14051 invoked by uid 97); 29 Nov 2001 18:12:57 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 14035 invoked by uid 97); 29 Nov 2001 18:12:57 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 14024 invoked from network); 29 Nov 2001 18:12:56 -0000
Message-ID: <BD961D4D4634D511BB990050DA1CE12C6175F9@winexch02.rippe.com>
From: "Weaver, Scott" <Sweaver@rippe.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Using Lucene to index a DataBase
Date: Thu, 29 Nov 2001 13:16:27 -0500
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2650.21)
Content-Type: text/plain;
	charset="windows-1252"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I'm pretty sure that's what Verity/Cold Fusion was doing behind the scenes.
Thanks.

-----Original Message-----
From: Jeff Trent [mailto:jtrent@structsoft.com]
Sent: Thursday, November 29, 2001 11:26 AM
To: Lucene Users List
Subject: Re: Using Lucene to index a DataBase


Not really.  A document in Lucene is a logical entity comprising named
fields.  So a row in the db would probably be represented as a Lucene
document.  Each [searchable] column on the table would be represented as a
field of the document.  However, you may find it necessary to build psuedo
fields in Lucene that span multiple columns in the database if you want to
do complex queries across multiple fields since in Lucene you typically need
to preface your search keywords with the field they are located in (eg.
Field1:SearchKey).


----- Original Message -----
From: "Weaver, Scott" <Sweaver@rippe.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Thursday, November 29, 2001 11:17 AM
Subject: Using Lucene to index a DataBase


> I've used Verity in Cold Fusion to index Databases.  Is this possible with
> Lucene?  From recent posts, it looks like I would have to write a custom
> parser to convert each row into a text document.  Am I correct in thinking
> this?
>
> Scott
>
> --
> To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>
>
>


--
To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-494-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Nov 29 19:12:38 2001
Return-Path: <lucene-user-return-494-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 86621 invoked from network); 29 Nov 2001 19:12:38 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 29 Nov 2001 19:12:38 -0000
Received: (qmail 3151 invoked by uid 97); 29 Nov 2001 19:05:26 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 3133 invoked by uid 97); 29 Nov 2001 19:05:25 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3085 invoked from network); 29 Nov 2001 19:05:24 -0000
Mime-Version: 1.0
X-Sender: wintondavies@mail.earthlink.net
Message-Id: <v04205502b82c362d124f@[172.18.106.130]>
In-Reply-To: <4BC270C6AB8AD411AD0B00B0D0493DF0EE7D39@mail.grandcentral.com>
References: <4BC270C6AB8AD411AD0B00B0D0493DF0EE7D39@mail.grandcentral.com>
Date: Thu, 29 Nov 2001 11:04:58 -0800
To: Lucene Users List <lucene-user@jakarta.apache.org>
From: Winton Davies <wdavies@overture.com>
Subject: RE: Parallelising a query...
Content-Type: text/plain; charset="us-ascii" ; format="flowed"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi Doug,
 
  Thank you again for your wisdom. Yep, we'll probably be running on a 
quad E420 or two.

  I think that I'll get better performance with one virtual searcher, 
spread over 4 CPU's (and < 1 GB ram each) rather than 4 monolithics 
searchers each with its own index (actually I don't think I could get 
4 on the machine --- the index is nearly a Gig each).

  Winton

Winton Davies
Lead Engineer, Overture (NSDQ: OVER)
1820 Gateway Drive, Suite 360
San Mateo, CA 94404
work: (650) 403-2259
cell: (650) 867-1598
http://www.overture.com/

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-495-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Nov 29 19:32:05 2001
Return-Path: <lucene-user-return-495-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 95772 invoked from network); 29 Nov 2001 19:32:04 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 29 Nov 2001 19:32:04 -0000
Received: (qmail 7663 invoked by uid 97); 29 Nov 2001 19:12:50 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 7640 invoked by uid 97); 29 Nov 2001 19:12:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7622 invoked from network); 29 Nov 2001 19:12:49 -0000
Mime-Version: 1.0
X-Sender: wintondavies@mail.earthlink.net
Message-Id: <v04205503b82c37a26a8a@[172.18.106.130]>
In-Reply-To: <v0420550bb82b72131c1d@[172.18.106.130]>
References: <002001c17859$0034b040$f301a8c0@zeus>
 <v0420550ab82b1611813c@[172.18.106.130]>
 <v0420550bb82b72131c1d@[172.18.106.130]>
Date: Thu, 29 Nov 2001 11:12:20 -0800
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
From: Winton Davies <wdavies@overture.com>
Subject: Re: Parallelising a query...
Content-Type: text/plain; charset="us-ascii" ; format="flowed"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi again....

  Another dumb question :) (actually I'm too busy to look at the code :) )

   In the index, is the datastructure of termDocs (is that the right 
term), sorted by anything? Or is it just insertion order ? I could 
see how one might want to sort by the Doc with the highest term 
frequency  ? But I can also see why
it might not help.

  e.g.   Token1 -> doc1 (2) [occurences] -> doc2 (6) -> doc3 (3)

  or is it like this ?

         Token1 -> doc2 (6) -> doc3 (3) -> doc1 (2) ?

 
  I have an idea for an optimization I want to make, but I'm not sure 
exactly whether it is warrants investigation.

  Winton


Winton Davies
Lead Engineer, Overture (NSDQ: OVER)
1820 Gateway Drive, Suite 360
San Mateo, CA 94404
work: (650) 403-2259
cell: (650) 867-1598
http://www.overture.com/

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-496-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Nov 29 21:59:27 2001
Return-Path: <lucene-user-return-496-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 82421 invoked from network); 29 Nov 2001 21:59:27 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 29 Nov 2001 21:59:27 -0000
Received: (qmail 25982 invoked by uid 97); 29 Nov 2001 21:51:54 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 25936 invoked by uid 97); 29 Nov 2001 21:51:53 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 25880 invoked from network); 29 Nov 2001 21:51:52 -0000
Message-ID: <4BC270C6AB8AD411AD0B00B0D0493DF0EE7D3D@mail.grandcentral.com>
From: Doug Cutting <DCutting@grandcentral.com>
To: 'Lucene Users List' <lucene-user@jakarta.apache.org>
Subject: RE: Parallelising a query...
Date: Thu, 29 Nov 2001 13:39:13 -0800
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

TermDocs are ordered by document number.  It would not be easy to change
this.

Doug

> -----Original Message-----
> From: Winton Davies [mailto:wdavies@overture.com]
> Sent: Thursday, November 29, 2001 11:12 AM
> To: Lucene Users List
> Subject: Re: Parallelising a query...
> 
> 
> Hi again....
> 
>   Another dumb question :) (actually I'm too busy to look at 
> the code :) )
> 
>    In the index, is the datastructure of termDocs (is that the right 
> term), sorted by anything? Or is it just insertion order ? I could 
> see how one might want to sort by the Doc with the highest term 
> frequency  ? But I can also see why
> it might not help.
> 
>   e.g.   Token1 -> doc1 (2) [occurences] -> doc2 (6) -> doc3 (3)
> 
>   or is it like this ?
> 
>          Token1 -> doc2 (6) -> doc3 (3) -> doc1 (2) ?
> 
>  
>   I have an idea for an optimization I want to make, but I'm not sure 
> exactly whether it is warrants investigation.
> 
>   Winton
> 
> 
> Winton Davies
> Lead Engineer, Overture (NSDQ: OVER)
> 1820 Gateway Drive, Suite 360
> San Mateo, CA 94404
> work: (650) 403-2259
> cell: (650) 867-1598
> http://www.overture.com/
> 
> --
> To unsubscribe, e-mail:   
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-497-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Nov 29 22:02:33 2001
Return-Path: <lucene-user-return-497-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 83382 invoked from network); 29 Nov 2001 22:02:32 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 29 Nov 2001 22:02:32 -0000
Received: (qmail 8070 invoked by uid 97); 29 Nov 2001 21:57:58 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 7968 invoked by uid 97); 29 Nov 2001 21:57:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7927 invoked from network); 29 Nov 2001 21:57:55 -0000
Mime-Version: 1.0
X-Sender: wintondavies@mail.earthlink.net
Message-Id: <v04205505b82c5f1eb2e4@[172.18.106.130]>
In-Reply-To: <v04205503b82c37a26a8a@[172.18.106.130]>
References: <002001c17859$0034b040$f301a8c0@zeus>
 <v0420550ab82b1611813c@[172.18.106.130]>
 <v0420550bb82b72131c1d@[172.18.106.130]>
 <v04205503b82c37a26a8a@[172.18.106.130]>
Date: Thu, 29 Nov 2001 13:57:19 -0800
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
From: Winton Davies <wdavies@overture.com>
Subject: GCJ and Lucene ?
Content-Type: text/plain; charset="us-ascii" ; format="flowed"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Hi,

Another maybe quick question:

Has anyone tried using GCJ with Lucene ?

http://www.gnu.org/software/gcc/java/

As far as I tell, this tries to compile Java directly to native code. 
I think it is restricted to 1.1 classes, which might be a gotcha 
(does Lucene use any 1.2 classes ?)

  Winton

Winton Davies
Lead Engineer, Overture (NSDQ: OVER)
1820 Gateway Drive, Suite 360
San Mateo, CA 94404
work: (650) 403-2259
cell: (650) 867-1598
http://www.overture.com/

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-498-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Nov 29 22:07:04 2001
Return-Path: <lucene-user-return-498-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 85147 invoked from network); 29 Nov 2001 22:07:04 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 29 Nov 2001 22:07:04 -0000
Received: (qmail 22809 invoked by uid 97); 29 Nov 2001 22:06:49 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 22781 invoked by uid 97); 29 Nov 2001 22:06:49 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 22735 invoked from network); 29 Nov 2001 22:06:48 -0000
Mime-Version: 1.0
X-Sender: wintondavies@mail.earthlink.net
Message-Id: <v04205507b82c61bc5045@[172.18.106.130]>
In-Reply-To: <4BC270C6AB8AD411AD0B00B0D0493DF0EE7D3D@mail.grandcentral.com>
References: <4BC270C6AB8AD411AD0B00B0D0493DF0EE7D3D@mail.grandcentral.com>
Date: Thu, 29 Nov 2001 14:06:15 -0800
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
From: Winton Davies <wdavies@overture.com>
Subject: RE: Parallelising a query...
Content-Type: text/plain; charset="us-ascii" ; format="flowed"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Thanks ! (one thing to cross off my list of optimizations...)
 
  Cheers,
   Winton

Winton Davies
Lead Engineer, Overture (NSDQ: OVER)
1820 Gateway Drive, Suite 360
San Mateo, CA 94404
work: (650) 403-2259
cell: (650) 867-1598
http://www.overture.com/

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-499-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Nov 29 22:09:17 2001
Return-Path: <lucene-user-return-499-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 86087 invoked from network); 29 Nov 2001 22:09:17 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 29 Nov 2001 22:09:17 -0000
Received: (qmail 24381 invoked by uid 97); 29 Nov 2001 22:09:21 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 24351 invoked by uid 97); 29 Nov 2001 22:09:21 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 24340 invoked from network); 29 Nov 2001 22:09:20 -0000
Mime-Version: 1.0
X-Sender: wintondavies@mail.earthlink.net
Message-Id: <v04205508b82c61fe5fa8@[172.18.106.130]>
In-Reply-To: <4BC270C6AB8AD411AD0B00B0D0493DF0EE7D3D@mail.grandcentral.com>
References: <4BC270C6AB8AD411AD0B00B0D0493DF0EE7D3D@mail.grandcentral.com>
Date: Thu, 29 Nov 2001 14:08:46 -0800
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
From: Winton Davies <wdavies@overture.com>
Subject: RE: Parallelising a query...
Content-Type: text/plain; charset="us-ascii" ; format="flowed"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Whoops, must think before I write...

I think this is *good* for me.

Let's say I have a default sort property I want to have:

If I only do a one-time Index, if I sort the input documents in the 
order I want before indexing, then the results will come out in that 
sort order -- assuming I implement my own hit collector (basically 
just ignore the score...)

  Winton

Winton Davies
Lead Engineer, Overture (NSDQ: OVER)
1820 Gateway Drive, Suite 360
San Mateo, CA 94404
work: (650) 403-2259
cell: (650) 867-1598
http://www.overture.com/

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-500-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Thu Nov 29 22:35:45 2001
Return-Path: <lucene-user-return-500-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 217 invoked from network); 29 Nov 2001 22:35:44 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 29 Nov 2001 22:35:44 -0000
Received: (qmail 20196 invoked by uid 97); 29 Nov 2001 22:35:49 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 20149 invoked by uid 97); 29 Nov 2001 22:35:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 20138 invoked from network); 29 Nov 2001 22:35:47 -0000
Subject: Re: Using Lucene to index a DataBase
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
X-Mailer: Lotus Notes Release 5.0.6a  January 17, 2001
Message-ID: <OF4337E4A6.954CDFB5-ONCC256B13.007BD039@ero.govt.nz>
From: Julian_Doherty@ero.govt.nz
Date: Fri, 30 Nov 2001 11:34:23 +1300
X-MIMETrack: Serialize by Router on Corporate/ERO(Release 5.0.6a |January 17, 2001) at
 30/11/2001 11:34:26
MIME-Version: 1.0
Content-type: text/plain; charset=us-ascii
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N


Yes, that is exactly the approach we have taken with the current project I
am working on using Lucene.

Write some code to retrieve desired rows from the database, then add each
database field as a Lucene field in a new Lucene document, then index,
search etc.

Works very well in our case.

Julian Doherty
Technical Manager, Website Design Projects
Education Review Office


                                                                                                                                 
                    "Weaver,                                                                                                     
                    Scott"               To:     Lucene Users List <lucene-user@jakarta.apache.org>                              
                    <Sweaver@ripp        cc:                                                                                     
                    e.com>               Subject:     Using Lucene to index a DataBase                                           
                                                                                                                                 
                    30/11/2001                                                                                                   
                    05:17                                                                                                        
                    Please                                                                                                       
                    respond to                                                                                                   
                    "Lucene Users                                                                                                
                    List"                                                                                                        
                                                                                                                                 
                                                                                                                                 




I've used Verity in Cold Fusion to index Databases.  Is this possible with
Lucene?  From recent posts, it looks like I would have to write a custom
parser to convert each row into a text document.  Am I correct in thinking
this?

Scott

--
To unsubscribe, e-mail:   <
mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <
mailto:lucene-user-help@jakarta.apache.org>





--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-501-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 30 11:25:53 2001
Return-Path: <lucene-user-return-501-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 1889 invoked from network); 30 Nov 2001 11:25:53 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 30 Nov 2001 11:25:53 -0000
Received: (qmail 7671 invoked by uid 97); 30 Nov 2001 11:26:03 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 7620 invoked by uid 97); 30 Nov 2001 11:25:56 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 7599 invoked from network); 30 Nov 2001 11:25:55 -0000
Message-ID: <019d01c17991$c5c2eeb0$6401a8c0@darden.virginia.edu>
From: "Erik Hatcher" <lists@ehatchersolutions.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Cc: <lucene-dev@jakarta.apache.org>
References: <10D0D8AB-E4EB-11D5-B170-0050E4C0B243@bookandhammer.com>
Subject: Re: Indexing other documents type than html and txt (XML)
Date: Fri, 30 Nov 2001 06:25:52 -0500
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 6.00.2600.0000
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I second the motion to have a place to store contributed Document
"generators".

I've developed an HTML file handler that creates a Document using JTidy
under the covers to DOM'ify it and pull out only the non-HTML tagged text
into a "content" field and strips the <title> out as a separate field.  It
actually would be far more extensible if it handed off the DOM'ified HTML to
Peter's XMLDocument class such that XPath could be used to turn things into
fields.  I'm not sure how my code compares to the demo HTMLParser.jj (mine
probably requires cleaner HTML, and may not be as fast? but has the ability
to use a DOM to extract elements/attributes)

How does lucene-dev feel about creating a 'contrib' area in CVS for these
kinds of things that folks really need to make Lucene come to life for them,
but are obviously not part of the main engine?

    Erik

----- Original Message -----
From: <carlson@bookandhammer.com>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Sent: Thursday, November 29, 2001 12:03 PM
Subject: Re: Indexing other documents type than html and txt (XML)


> I have started to create a set of generic lucene document types that can
> be easily manipulated depending on the fields.
> I know other have generated Documents out of PDF.
> Is there some place we can add contributed classes to the lucene web
> page?
>
> Here my current version of the XMLDocument based on . It's a bit slow.
> It uses a path (taken from Document example) and based on a field name /
> xpath pair (key / value) from either an array or property file generates
> an appropriate lucene document with the specified fields.
>
> I have not tested all permutations of Document (I have used the File,
> Properties) and it works.
>
> Note:
> It uses the xalan example ApplyXpath class to get the xml xpath.
>
> I hope this helps.
>
> --Peter
>
> --------------------------------------------------
>
> package xxx.lucene.xml;
>
> import org.apache.lucene.document.Document;
> import org.apache.lucene.document.Field;
> import org.apache.lucene.document.DateField;
>
> import org.apache..../ApplyXpath;
> import java.util.Properties;
> import java.io.File;
> import java.util.Enumeration;
> import java.io.FileInputStream;
>
> /**
> * A utility for making lucene document from an XML source and a set of
> xpaths
> * based on Document example from Lucene
> *
> */
> public class XMLDocument
> {
> private XMLDocument() { }
>
>          /**
>           * @param file Document that to be converted to a lucene document
>           * @param propertyList properties where the key is the field
> name and the value is the
>           * XML xpath.
>           * @throws FileNotFoundException
>           * @throws Exception
>           * @return lucene document
>           */
> public static Document Document (File file, Properties propertyList)
> throws java.io.FileNotFoundException , Exception
> {
> Document doc = new Document();
>
> // add path
> doc.add(Field.Text("path", file.getPath()));
>
> //add date modified
> doc.add(Field.Keyword("modified",
> DateField.timeToString(file.lastModified())));
>
> //add field list in property list
> Enumeration e = propertyList.propertyNames();
> while (e.hasMoreElements())
> {
> String key = (String) e.nextElement();
> String xpath = propertyList.getProperty(key);
> String[] valueArray = ApplyXpath(file.getPath(),xpath);
> StringBuffer value = new StringBuffer("");
> for (int i=0; i < valueArray.length; i++)
> {
> value.append(valueArray[i]);
> }
> //System.out.println("add key "+key+" wtih value = "+value);
>                          filter(key,value);
> doc.add(Field.Text(key,value.toString()));
> }
>
> return doc;
> }
>
>          /**
>           * @return lucene document
>           * @param fieldNames field names for the lucene document
>           * @param file Document that to be converted to a lucene document
>           * @param xpaths XML xpaths for the information you want to get
>           * @throws Exception
>           */
>          public static Document Document(File file, java.lang.String[]
> fieldNames, java.lang.String[] xpaths)
>          {
>              if (fieldNames.length != xpaths.length)
>              {
>                  throw new IllegalArgumentException ("String arrays are
> not equal size");
>              }
>
>              Properties propertyList = new Properties();
>
>              // generate properties from the arrays
>              for (int i=0;i<fieldNames.length;i++) {
>                  propertyList.setProperty(fieldNames[i],xpaths[i]);
>              }
>
>              Document doc = Document (file, propertyList);
>              return doc;
>          }
>
>          /**
>           * @param path path of the Document that to be converted to a
> lucene document
>           * @param keys
>           * @param xpaths
>           * @throws Exception
>           * @return
>           */
>          public static Document Document(String path, String[]
> fieldNames, String[] xpaths)
>          throws Exception
>          {
>              File file = new File(path);
>              Document doc = Document (file, fieldNames, xpaths);
>              return doc;
>          }
>
>          /**
>           * @param path path of document you want to convert to a lucene
> document
>           * @param propertyList properties where the key is the field
> name and the value is the
>           * XML xpath.
>           * @throws Exception
>           * @return lucene document
>           */
>          public static Document Document(String path, Properties
> propertyList)
>          throws Exception
>          {
>              File file = new File(path);
>              Document doc = Document (file, propertyList);
>              return doc;
>          }
>
>          /**
>           * @param documentPath path of the Document that to be converted
> to a lucene document
>           * @param propertyPath path of file containing properties where
> the key is the field name and the value is the
>           * XML xpath.
>           * @throws Exception
>           * @return
>           */
>          public static Document Document(String documentPath, String
> propertyPath)
>          throws Exception
>          {
>              File file = new File(documentPath);
>              FileInputStream fis = new FileInputStream(propertyPath);
>              Properties propertyList = new Properties();
>              propertyList.load(fis);
>              Document doc = Document (file, propertyList);
>              return doc;
>          }
>
>          /**
>           * @param documentFile Document that to be converted to a lucene
> document
>           * @param propertyFile file containing properties where the key
> is the field name and the value is the
>           * XML xpath.
>           * @throws Exception
>           * @return
>           */
>          public static Document Document(File documentFile, File
> propertyFile)
>          throws Exception
>          {
>              FileInputStream fis = new FileInputStream(propertyFile);
>              Properties propertyList = new Properties();
>              propertyList.load(fis);
>              Document doc = Document (documentFile, propertyList);
>              return doc;
>          }
>
>          private static String filter(String key, StringBuffer value) {
>              String newValue;
>              newValue = value.toString();
>              return newValue;
>          }
> }
>
>
> --
> To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>
>
>


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-502-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 30 12:00:18 2001
Return-Path: <lucene-user-return-502-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 16281 invoked from network); 30 Nov 2001 12:00:18 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 30 Nov 2001 12:00:18 -0000
Received: (qmail 28094 invoked by uid 97); 30 Nov 2001 12:00:17 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 28078 invoked by uid 97); 30 Nov 2001 12:00:17 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 28067 invoked from network); 30 Nov 2001 12:00:16 -0000
Message-ID: <002e01c179af$9d6a1f60$aa59c00a@cnew>
From: "Cecil, Paula New" <cnew@fuse.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
References: <FJEFIJLDFAOIGNEONJFLEEKIDNAA.avazquez@cystelcom.com>
Subject: Re: Indexing other documents type than html and txt
Date: Fri, 30 Nov 2001 06:59:30 -0800
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook Express 5.00.2615.200
X-MimeOLE: Produced By Microsoft MimeOLE V5.00.2615.200
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

Here is another version of something I had posted earlier.  It attempts to
read the "text" out of binary files.  Not perfect and doesn't work at all on
PDF.  It permits you use the "reader" form of a Field to index.
import java.util.*;
import java.io.*;

/**
<p>This class is designed to retrieve text from binary files.
The occasion for its development was to find a way generic way to
index typical office documents which are almost always in a
a proprietary and binary form.
<p>This class will <b>not</b> work with PDF files.
<p>You can exercise some control over the result by using the
<code>setCharArray()</code> method and the
<code>setShortestToken()</code> method.
<ul>
<li><code>setCharArray()</code>: allows you to override the default
characters to keep.  All others are eliminated.  The default "keepers"
are all ASCII character plus whitespace.  This means that if a
text file is the input, it will pass thru unchanged (except that
consequtive blanks are squeezed to a single blank).
<li><code>setShortestToken()</code>: allows you only keep strings of
a minimum length.  By default the length is zero, meaning that all
tokens are passed.
</ul>
<p>Note lastly that this class is only designed to work with ASCII.
It may not be difficult to change to support Unicode, but I do
not know how to do that.
*/

public class BinaryReader
  extends java.io.FilterReader
{
  // private vars
  // for debugging
  private int count=0;
  private int rawcnt=0;
  private int shortestToken = 0;
  // default char set to keep, blank out everything else
  private char[][] charArray = {
    {'!', '~'},
    {'\t', '\t'},
    {'\r', '\r'},
    {'\n', '\n'},
  };

  private String leftovers="";

  private char charFilter(char c) {
    for (int i=0; i < charArray.length; i++) {
      if ( c >= charArray[i][0] && c <= charArray[i][1] ) {
        return c;
      }
    }
    return ' ';
  }

  public BinaryReader(Reader in) {
    super(in);
  }

/**
<p>This method may be used to override the ranges of characters
that are retained.  All others are elminiated.  The default is:
<code>
  private char[][] charArray = {
    {'!', '~'},
    {'\t', '\t'},
    {'\r', '\r'},
    {'\n', '\n'},
  };
</code>
<p>Note that the ranges are inclusive and that to pick our a
"single" character instead of a range, just make that character
both the min and max (as shown for the whitespace characters above).
@param char[][] - array of ranges to keep
*/
  public void setCharArray( char[][] keepers ) {
    // in each row, column 1 is min and column 2 is max
    // to pick out a single character instead of a range
    // just make it both min and max.
    charArray = keepers;
  }

/**
<p>This method may be used to eliminate "short strings" of text.
By default it takes even single letters, since the value is
initialized to zero.  For example, if the
length 3 is used, the single and two letter strings will not
be returned.
<p><b>Warning: the test doesn't always work for strings that
begin a line of text (at least in DOS/Windows).</b>
@param int len - length of shortest strings to pass
*/
  public void setShortestToken(int len) {
    shortestToken = len;
  }

/**
<p>Reads a single character and runs it through the filter.  The
(int) character returned will either be -1 for end-of-file,
a blank (indicating it was filtered), or the character unchanged.
*/
  public int read() throws IOException
  {
    int c = in.read();
    if ( c != -1 ) return c;
    rawcnt++;
    count++;
    return charFilter((char)c);
  }
/**
<p>Reads from stream and populates the supplied char array.
@param char[] cbuf - character buffer to fill
@return int - number of characters actually placed into the buffer
*/
  public int read(char[] cbuf) throws IOException
  {
    return read(cbuf, 0, cbuf.length);
  }

/**
<p>Reads from stream and populates the supplied char array
using the offset and length provided.
@param char[] cbuf - character buffer to fill
@param int offset - offset to being filling array
@param int length - maximun characters to place into the array
@return int - number of characters actually placed into the buffer
*/

  public int read(char[] cbuf, int off, int len)
    throws IOException
  {
    char[] cb = new char[len];
    int cnt = in.read(cb);
    if ( cnt == -1 ) {
      file://System.out.println("At end, rawcnt is "+rawcnt);
      return cnt; // done
    }
    int cnt2=cnt;
    int loc = off;
    for ( int i=0; i < cnt; i++ ) {
        cbuf[loc++] = charFilter(cb[i]);
    }

    char[] weeded = filter(new String(cbuf, off, cnt));
    if ( weeded.length > -1 ) {
      cnt2 = weeded.length;
      // redo buffer
      for (int i=0; i < cnt2; i++) {
        cbuf[off+i] = weeded[i];
      }
    }

    rawcnt += cnt;
    count += cnt2;
    return cnt2;
  }

  private char[] filter(String instring)
  {
    // record the buffer size (ie, size of incoming string)
    int max = instring.length();
    // combine leftovers into incoming string and reset leftovers
    String s = leftovers+instring;
    leftovers="";

    StringBuffer sb = new StringBuffer(s.length());
    StringTokenizer st = new StringTokenizer(s," ");
    String tok=null;
    while (st.hasMoreTokens()) {
      tok = st.nextToken();
      int toklength = tok.length();
      if ( toklength < shortestToken ) {
        // skip it
        continue;
      }

      sb.append(tok);
      sb.append(' ');
    }

    String t = sb.toString();
    t = t.substring(0,t.length()); // remove the appended blank
    if ( t.length() > max ) {
      leftovers = t.substring(max);
      t = t.substring(0,max);
    }
    return t.toCharArray();
  }
/**
<p>Returns the number characters read from the Reader stream
@return int number of characters read
*/
  public int getInputCount() { return rawcnt; }
/**
<p>Returns the number characters passed by the filter (ie, after the
binary characters are removed.
@return int number of characters not filtered out
*/
  public int getOutputCount()    { return count;  }

/**
<p>A handy main() method to test or perform the filtering using the
defaults.  Started from the command line, it takes two required
arguments: the input filename and the output filename.
<p>An optional third argument is an integer to set the
shortest tokens to pass the filter.
*/
  public static void main(String[] args)
    throws FileNotFoundException, IOException
  {
    if ( args.length < 2 ) {
      System.out.println(
        "Usage: java BinaryReader infile outfile [shortest]");
      System.out.println("where 'shortest' is the shortest token passed.");
      System.exit(0);
    }
    FileWriter fw = new FileWriter( args[1] );
    FileReader fr = new FileReader( args[0] );
    BufferedReader br = new BufferedReader(fr);
    BinaryReader binr = new BinaryReader(br);
    if ( args.length > 2 ) {
      binr.setShortestToken(Integer.parseInt(args[2]));
    }
    char[] cb = new char[1024];
    int cnt;
    while ( (cnt = binr.read(cb)) != -1 ) {
      fw.write(cb,0,cnt);
    }
    fw.close();
    int ocnt = binr.getOutputCount();
    int icnt = binr.getInputCount();
    System.out.println("Input Character Count ="+icnt);
    System.out.println("Output Character Count="+ocnt);
  }

}

----- Original Message -----
From: Antonio Vazquez <avazquez@cystelcom.com>
To: Lucene Users List <lucene-user@jakarta.apache.org>
Sent: Thursday, November 29, 2001 6:26 AM
Subject: Indexing other documents type than html and txt


> Hi all,
> I have a doubt. I know that lucene can index html and text documents, but
> can it index other type of documents like pdf,docs, and xls documents? if
it
> can, how can I implement it? Perhaps can implement it like html and txt
> indexing?
>
> regards
>
> Antonio
>
>
> --
> To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
> For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>
>



--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-503-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 30 14:10:41 2001
Return-Path: <lucene-user-return-503-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 5003 invoked from network); 30 Nov 2001 14:10:41 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 30 Nov 2001 14:10:41 -0000
Received: (qmail 23465 invoked by uid 97); 30 Nov 2001 14:10:41 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 23450 invoked by uid 97); 30 Nov 2001 14:10:40 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 29196 invoked from network); 30 Nov 2001 02:57:51 -0000
Message-ID: <38A6C7D1B5A8D4118D5B00508B5E08E301486A8E@goofy.epiphany.com>
From: emile@epiphany.com
To: lucene-user@jakarta.apache.org
Subject: TermVector support
Date: Thu, 29 Nov 2001 18:56:18 -0800
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I noticed a post discussing term vectors on the lucene-dev list. It is great
that people are working on adding term vectors to Lucene. Stored term
vectors per field (or document) are a great way to get lucene into
classification of documents. There are great many text classification
algorithms that have primarily two inputs: term vector for the whole
collection of documents and term vector per each document. A nice feature to
add using the vectors would be 'like-documents': given an indexed document,
what other documents are there in the index that are like it. Another
feature can be clustering of documents into categories based on the vectors.

I am curious when the term vector support that you worked on will be added
to the main build branch. I couldn't find any information on that.

-Emile

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-504-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 30 15:35:03 2001
Return-Path: <lucene-user-return-504-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 77457 invoked from network); 30 Nov 2001 15:35:03 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 30 Nov 2001 15:35:03 -0000
Received: (qmail 3435 invoked by uid 97); 30 Nov 2001 15:35:03 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 3395 invoked by uid 97); 30 Nov 2001 15:35:01 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 3384 invoked from network); 30 Nov 2001 15:35:00 -0000
From: "Alex Murzaku" <murzaku@earthlink.net>
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Subject: RE: TermVector support
Date: Fri, 30 Nov 2001 10:35:39 -0500
Message-ID: <NCBBLBEANONDIDIPDEGMMEHBKOAA.murzaku@earthlink.net>
MIME-Version: 1.0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit
X-Priority: 3 (Normal)
X-MSMail-Priority: Normal
X-Mailer: Microsoft Outlook IMO, Build 9.0.2416 (9.0.2911.0)
X-MimeOLE: Produced By Microsoft MimeOLE V6.00.2600.0000
Importance: Normal
In-Reply-To: <38A6C7D1B5A8D4118D5B00508B5E08E301486A8E@goofy.epiphany.com>
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

A crude way of finding 'like-documents' would be to just take the document
on hand and submit it as a query. Of course, before submitting it, you will
need to "analyze" it so that the query does not become huge (and slow.)

One way of doing it, would be to transform the vector of words and
corresponding frequencies into boosting weights. Before that though, you
will need to remove anything that looks like junk or that is one of the stop
words (and this could be done by one of the analyzers.)

But you need to go one step further -- you need to retain only the best
words. From what I have seen it seems that the best words for classification
or clustering would be somewhere in the middle of a tf-idf classification of
the document terms. The terms in the higher band would be very specific to
the document in hand and those in the lower band would be most likely stop
words. Those in the middle instead would become what unifies the documents
with each-other.

My interest being in dynamic categorization and clustering, I experimented
with this approach and achieved 80% accuracy in classifying the
Reuters-21578 corpus. Actually it could have been even higher if I computed
as "correct class" the documents that, for example, should have gone under
dollars but went instead under foreign exchange.

Keep in mind that this classification is dynamic because the tf-idf world
changes with the addition of new documents. For example, if at a given
moment you get a document containing the first references of XYZ, the term
XYZ will get the highest tf-idf value. But if every following document
contains XYZ, then XYZ's tf-idf will drop towards the stop words values.

Has anyone else experimented with this. Maybe Dmitry can tell us more about
the quality of results with his approach.

--
Alex

-----Original Message-----
From: emile@epiphany.com [mailto:emile@epiphany.com]
Sent: Thursday, November 29, 2001 9:56 PM
To: lucene-user@jakarta.apache.org
Subject: TermVector support


I noticed a post discussing term vectors on the lucene-dev list. It is great
that people are working on adding term vectors to Lucene. Stored term
vectors per field (or document) are a great way to get lucene into
classification of documents. There are great many text classification
algorithms that have primarily two inputs: term vector for the whole
collection of documents and term vector per each document. A nice feature to
add using the vectors would be 'like-documents': given an indexed document,
what other documents are there in the index that are like it. Another
feature can be clustering of documents into categories based on the vectors.

I am curious when the term vector support that you worked on will be added
to the main build branch. I couldn't find any information on that.

-Emile

--
To unsubscribe, e-mail:
<mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail:
<mailto:lucene-user-help@jakarta.apache.org>


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-505-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 30 16:35:25 2001
Return-Path: <lucene-user-return-505-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 19728 invoked from network); 30 Nov 2001 16:35:24 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 30 Nov 2001 16:35:24 -0000
Received: (qmail 10676 invoked by uid 97); 30 Nov 2001 16:35:25 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 10601 invoked by uid 97); 30 Nov 2001 16:35:23 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 10499 invoked from network); 30 Nov 2001 16:35:21 -0000
Message-ID: <4BC270C6AB8AD411AD0B00B0D0493DF0EE7D43@mail.grandcentral.com>
From: Doug Cutting <DCutting@grandcentral.com>
To: 'Lucene Developers List' <lucene-dev@jakarta.apache.org>, 
	Lucene Users List <lucene-user@jakarta.apache.org>
Subject: RE: Indexing other documents type than html and txt (XML)
Date: Fri, 30 Nov 2001 08:22:37 -0800
MIME-Version: 1.0
X-Mailer: Internet Mail Service (5.5.2653.19)
Content-Type: text/plain;
	charset="iso-8859-1"
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

> From: Erik Hatcher [mailto:lists@ehatchersolutions.com]
> 
> How does lucene-dev feel about creating a 'contrib' area in 
> CVS for these
> kinds of things that folks really need to make Lucene come to 
> life for them,
> but are obviously not part of the main engine?

I think this is a fine idea, but it needs to be managed.  We don't want an
area where anyone can upload anything.  It could easily become filled with
things that don't even compile, and would cause folks more headaches than it
would relieve.

So if someone would like to volunteer to administer this area, then I'm for
it.  Administration would include some limited testing of each contributed
module, ensuring that each has documentation, rejecting poorly written
modules, writing a top-level document that describes all contributed
modules, etc.  Anyone interested?

Doug

--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


From lucene-user-return-506-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org Fri Nov 30 17:03:45 2001
Return-Path: <lucene-user-return-506-qmlist-jakarta-archive-lucene-user=jakarta.apache.org@jakarta.apache.org>
Delivered-To: apmail-jakarta-lucene-user-archive@apache.org
Received: (qmail 41559 invoked from network); 30 Nov 2001 17:03:45 -0000
Received: from unknown (HELO nagoya.betaversion.org) (192.18.49.131)
  by daedalus.apache.org with SMTP; 30 Nov 2001 17:03:45 -0000
Received: (qmail 6107 invoked by uid 97); 30 Nov 2001 17:02:51 -0000
Delivered-To: qmlist-jakarta-archive-lucene-user@jakarta.apache.org
Received: (qmail 5995 invoked by uid 97); 30 Nov 2001 17:02:48 -0000
Mailing-List: contact lucene-user-help@jakarta.apache.org; run by ezmlm
Precedence: bulk
List-Unsubscribe: <mailto:lucene-user-unsubscribe@jakarta.apache.org>
List-Subscribe: <mailto:lucene-user-subscribe@jakarta.apache.org>
List-Help: <mailto:lucene-user-help@jakarta.apache.org>
List-Post: <mailto:lucene-user@jakarta.apache.org>
List-Id: "Lucene Users List" <lucene-user.jakarta.apache.org>
Reply-To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Delivered-To: mailing list lucene-user@jakarta.apache.org
Received: (qmail 5932 invoked from network); 30 Nov 2001 17:02:47 -0000
From: carlson@bookandhammer.com
Errors-To: <carlson@bookandhammer.com>
Date: Fri, 30 Nov 2001 09:02:45 -0800
Subject: Re: Indexing other documents type than html and txt (XML)
Content-Type: text/plain; charset=US-ASCII; format=flowed
Mime-Version: 1.0 (Apple Message framework v475)
To: "Lucene Users List" <lucene-user@jakarta.apache.org>
Content-Transfer-Encoding: 7bit
In-Reply-To: <4BC270C6AB8AD411AD0B00B0D0493DF0EE7D43@mail.grandcentral.com>
Message-Id: <13288604-E5B4-11D5-B170-0050E4C0B243@bookandhammer.com>
X-Mailer: Apple Mail (2.475)
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N
X-Spam-Rating: daedalus.apache.org 1.6.2 0/1000/N

I'll take on creating a Document repository.
I would like to get some ideas from people about what kind of Documents 
they are creating and what people want.

What's the next step Doug?

--Peter


On Friday, November 30, 2001, at 08:22 AM, Doug Cutting wrote:

>> From: Erik Hatcher [mailto:lists@ehatchersolutions.com]
>>
>> How does lucene-dev feel about creating a 'contrib' area in
>> CVS for these
>> kinds of things that folks really need to make Lucene come to
>> life for them,
>> but are obviously not part of the main engine?
>
> I think this is a fine idea, but it needs to be managed.  We don't want 
> an
> area where anyone can upload anything.  It could easily become filled 
> with
> things that don't even compile, and would cause folks more headaches 
> than it
> would relieve.
>
> So if someone would like to volunteer to administer this area, then I'm 
> for
> it.  Administration would include some limited testing of each 
> contributed
> module, ensuring that each has documentation, rejecting poorly written
> modules, writing a top-level document that describes all contributed
> modules, etc.  Anyone interested?
>
> Doug
>
> --
> To unsubscribe, e-mail:   <mailto:lucene-user-
> unsubscribe@jakarta.apache.org>
> For additional commands, e-mail: <mailto:lucene-user-
> help@jakarta.apache.org>
>
>


--
To unsubscribe, e-mail:   <mailto:lucene-user-unsubscribe@jakarta.apache.org>
For additional commands, e-mail: <mailto:lucene-user-help@jakarta.apache.org>


